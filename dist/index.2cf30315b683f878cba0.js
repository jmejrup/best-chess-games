"use strict";
(self["webpackChunkbest_chess_games"] = self["webpackChunkbest_chess_games"] || []).push([["index"],{

/***/ "./src/components/chess/assets/img/pieces/burnett/bb.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/bb.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjUzIiBoZWlnaHQ9IjUzIj4NCiAgPGcgc3R5bGU9Im9wYWNpdHk6MTsgZmlsbDpub25lOyBmaWxsLXJ1bGU6ZXZlbm9kZDsgZmlsbC1vcGFjaXR5OjE7IHN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6MS41OyBzdHJva2UtbGluZWNhcDpyb3VuZDsgc3Ryb2tlLWxpbmVqb2luOnJvdW5kOyBzdHJva2UtbWl0ZXJsaW1pdDo0OyBzdHJva2UtZGFzaGFycmF5Om5vbmU7IHN0cm9rZS1vcGFjaXR5OjE7IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LDQuNikiPg0KICAgIDxnIHN0eWxlPSJmaWxsOiMwMDAwMDA7IHN0cm9rZTojMDAwMDAwOyBzdHJva2UtbGluZWNhcDpidXR0OyI+DQogICAgICA8cGF0aCBkPSJNIDksMzYgQyAxMi4zOSwzNS4wMyAxOS4xMSwzNi40MyAyMi41LDM0IEMgMjUuODksMzYuNDMgMzIuNjEsMzUuMDMgMzYsMzYgQyAzNiwzNiAzNy42NSwzNi41NCAzOSwzOCBDIDM4LjMyLDM4Ljk3IDM3LjM1LDM4Ljk5IDM2LDM4LjUgQyAzMi42MSwzNy41MyAyNS44OSwzOC45NiAyMi41LDM3LjUgQyAxOS4xMSwzOC45NiAxMi4zOSwzNy41MyA5LDM4LjUgQyA3LjY1LDM4Ljk5IDYuNjgsMzguOTcgNiwzOCBDIDcuMzUsMzYuNTQgOSwzNiA5LDM2IHoiLz4NCiAgICAgIDxwYXRoIGQ9Ik0gMTUsMzIgQyAxNy41LDM0LjUgMjcuNSwzNC41IDMwLDMyIEMgMzAuNSwzMC41IDMwLDMwIDMwLDMwIEMgMzAsMjcuNSAyNy41LDI2IDI3LjUsMjYgQyAzMywyNC41IDMzLjUsMTQuNSAyMi41LDEwLjUgQyAxMS41LDE0LjUgMTIsMjQuNSAxNy41LDI2IEMgMTcuNSwyNiAxNSwyNy41IDE1LDMwIEMgMTUsMzAgMTQuNSwzMC41IDE1LDMyIHoiLz4NCiAgICAgIDxwYXRoIGQ9Ik0gMjUgOCBBIDIuNSAyLjUgMCAxIDEgIDIwLDggQSAyLjUgMi41IDAgMSAxICAyNSA4IHoiLz4NCiAgICA8L2c+DQogICAgPHBhdGggZD0iTSAxNy41LDI2IEwgMjcuNSwyNiBNIDE1LDMwIEwgMzAsMzAgTSAyMi41LDE1LjUgTCAyMi41LDIwLjUgTSAyMCwxOCBMIDI1LDE4IiBzdHlsZT0iZmlsbDpub25lOyBzdHJva2U6I2ZmZmZmZjsgc3Ryb2tlLWxpbmVqb2luOm1pdGVyOyIvPg0KICA8L2c+DQo8L3N2Zz4NCg==";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/bk.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/bk.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+CiAgPGcgc3R5bGU9ImZpbGw6bm9uZTsgZmlsbC1vcGFjaXR5OjE7IGZpbGwtcnVsZTpldmVub2RkOyBzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjEuNTsgc3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7IHN0cm9rZS1kYXNoYXJyYXk6bm9uZTsgc3Ryb2tlLW9wYWNpdHk6MTsiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuNSwxLjUpIj4KICAgIDxwYXRoIGQ9Ik0gMjIuNSwxMS42MyBMIDIyLjUsNiIgc3R5bGU9ImZpbGw6bm9uZTsgc3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS1saW5lam9pbjptaXRlcjsiIGlkPSJwYXRoNjU3MCIvPgogICAgPHBhdGggZD0iTSAyMi41LDI1IEMgMjIuNSwyNSAyNywxNy41IDI1LjUsMTQuNSBDIDI1LjUsMTQuNSAyNC41LDEyIDIyLjUsMTIgQyAyMC41LDEyIDE5LjUsMTQuNSAxOS41LDE0LjUgQyAxOCwxNy41IDIyLjUsMjUgMjIuNSwyNSIgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTsgc3Ryb2tlLWxpbmVjYXA6YnV0dDsgc3Ryb2tlLWxpbmVqb2luOm1pdGVyOyIvPgogICAgPHBhdGggZD0iTSAxMi41LDM3IEMgMTgsNDAuNSAyNyw0MC41IDMyLjUsMzcgTCAzMi41LDMwIEMgMzIuNSwzMCA0MS41LDI1LjUgMzguNSwxOS41IEMgMzQuNSwxMyAyNSwxNiAyMi41LDIzLjUgTCAyMi41LDI3IEwgMjIuNSwyMy41IEMgMjAsMTYgMTAuNSwxMyA2LjUsMTkuNSBDIDMuNSwyNS41IDEyLjUsMzAgMTIuNSwzMCBMIDEyLjUsMzciIHN0eWxlPSJmaWxsOiMwMDAwMDA7IHN0cm9rZTojMDAwMDAwOyIvPgogICAgPHBhdGggZD0iTSAyMCw4IEwgMjUsOCIgc3R5bGU9ImZpbGw6bm9uZTsgc3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS1saW5lam9pbjptaXRlcjsiLz4KICAgIDxwYXRoIGQ9Ik0gMzIsMjkuNSBDIDMyLDI5LjUgNDAuNSwyNS41IDM4LjAzLDE5Ljg1IEMgMzQuMTUsMTQgMjUsMTggMjIuNSwyNC41IEwgMjIuNSwyNi42IEwgMjIuNSwyNC41IEMgMjAsMTggMTAuODUsMTQgNi45NywxOS44NSBDIDQuNSwyNS41IDEzLDI5LjUgMTMsMjkuNSIgc3R5bGU9ImZpbGw6bm9uZTsgc3Ryb2tlOiNmZmZmZmY7Ii8+CiAgICA8cGF0aCBkPSJNIDEyLjUsMzAgQyAxOCwyNyAyNywyNyAzMi41LDMwIE0gMTIuNSwzMy41IEMgMTgsMzAuNSAyNywzMC41IDMyLjUsMzMuNSBNIDEyLjUsMzcgQyAxOCwzNCAyNywzNCAzMi41LDM3IiBzdHlsZT0iZmlsbDpub25lOyBzdHJva2U6I2ZmZmZmZjsiLz4KICA8L2c+Cjwvc3ZnPgo=";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/bn.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/bn.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjU3IiBoZWlnaHQ9IjU3Ij4NCiAgPGcgc3R5bGU9Im9wYWNpdHk6MTsgZmlsbDpub25lOyBmaWxsLW9wYWNpdHk6MTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IHN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6MS41OyBzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDsgc3Ryb2tlLWRhc2hhcnJheTpub25lOyBzdHJva2Utb3BhY2l0eToxOyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiw2LjMpIj4NCiAgICA8cGF0aA0KICAgICAgZD0iTSAyMiwxMCBDIDMyLjUsMTEgMzguNSwxOCAzOCwzOSBMIDE1LDM5IEMgMTUsMzAgMjUsMzIuNSAyMywxOCINCiAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7IHN0cm9rZTojMDAwMDAwOyIgLz4NCiAgICA8cGF0aA0KICAgICAgZD0iTSAyNCwxOCBDIDI0LjM4LDIwLjkxIDE4LjQ1LDI1LjM3IDE2LDI3IEMgMTMsMjkgMTMuMTgsMzEuMzQgMTEsMzEgQyA5Ljk1OCwzMC4wNiAxMi40MSwyNy45NiAxMSwyOCBDIDEwLDI4IDExLjE5LDI5LjIzIDEwLDMwIEMgOSwzMCA1Ljk5NywzMSA2LDI2IEMgNiwyNCAxMiwxNCAxMiwxNCBDIDEyLDE0IDEzLjg5LDEyLjEgMTQsMTAuNSBDIDEzLjI3LDkuNTA2IDEzLjUsOC41IDEzLjUsNy41IEMgMTQuNSw2LjUgMTYuNSwxMCAxNi41LDEwIEwgMTguNSwxMCBDIDE4LjUsMTAgMTkuMjgsOC4wMDggMjEsNyBDIDIyLDcgMjIsMTAgMjIsMTAiDQogICAgICBzdHlsZT0iZmlsbDojMDAwMDAwOyBzdHJva2U6IzAwMDAwMDsiIC8+DQogICAgPHBhdGgNCiAgICAgIGQ9Ik0gOS41IDI1LjUgQSAwLjUgMC41IDAgMSAxIDguNSwyNS41IEEgMC41IDAuNSAwIDEgMSA5LjUgMjUuNSB6Ig0KICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjsgc3Ryb2tlOiNmZmZmZmY7IiAvPg0KICAgIDxwYXRoDQogICAgICBkPSJNIDE1IDE1LjUgQSAwLjUgMS41IDAgMSAxICAxNCwxNS41IEEgMC41IDEuNSAwIDEgMSAgMTUgMTUuNSB6Ig0KICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMC44NjYsMC41LC0wLjUsMC44NjYsOS42OTMsLTUuMTczKSINCiAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7IHN0cm9rZTojZmZmZmZmOyIgLz4NCiAgICA8cGF0aA0KICAgICAgZD0iTSAyNC41NSwxMC40IEwgMjQuMSwxMS44NSBMIDI0LjYsMTIgQyAyNy43NSwxMyAzMC4yNSwxNC40OSAzMi41LDE4Ljc1IEMgMzQuNzUsMjMuMDEgMzUuNzUsMjkuMDYgMzUuMjUsMzkgTCAzNS4yLDM5LjUgTCAzNy40NSwzOS41IEwgMzcuNSwzOSBDIDM4LDI4Ljk0IDM2LjYyLDIyLjE1IDM0LjI1LDE3LjY2IEMgMzEuODgsMTMuMTcgMjguNDYsMTEuMDIgMjUuMDYsMTAuNSBMIDI0LjU1LDEwLjQgeiAiDQogICAgICBzdHlsZT0iZmlsbDojZmZmZmZmOyBzdHJva2U6bm9uZTsiIC8+DQogIDwvZz4NCjwvc3ZnPg0K";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/bp.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/bp.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1OSIgaGVpZ2h0PSI1OSI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNyw3KSI+CiAgICA8cGF0aCBkPSJtIDIyLjUsOSBjIC0yLjIxLDAgLTQsMS43OSAtNCw0IDAsMC44OSAwLjI5LDEuNzEgMC43OCwyLjM4IEMgMTcuMzMsMTYuNSAxNiwxOC41OSAxNiwyMSBjIDAsMi4wMyAwLjk0LDMuODQgMi40MSw1LjAzIEMgMTUuNDEsMjcuMDkgMTEsMzEuNTggMTEsMzkuNSBIIDM0IEMgMzQsMzEuNTggMjkuNTksMjcuMDkgMjYuNTksMjYuMDMgMjguMDYsMjQuODQgMjksMjMuMDMgMjksMjEgMjksMTguNTkgMjcuNjcsMTYuNSAyNS43MiwxNS4zOCAyNi4yMSwxNC43MSAyNi41LDEzLjg5IDI2LjUsMTMgYyAwLC0yLjIxIC0xLjc5LC00IC00LC00IHoiIHN0eWxlPSJvcGFjaXR5OjE7IGZpbGw6IzAwMDAwMDsgZmlsbC1vcGFjaXR5OjE7IGZpbGwtcnVsZTpub256ZXJvOyBzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjEuNTsgc3Ryb2tlLWxpbmVjYXA6cm91bmQ7IHN0cm9rZS1saW5lam9pbjptaXRlcjsgc3Ryb2tlLW1pdGVybGltaXQ6NDsgc3Ryb2tlLWRhc2hhcnJheTpub25lOyBzdHJva2Utb3BhY2l0eToxOyIvPgogIDwvZz4KPC9zdmc+Cg==";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/bq.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/bq.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1NyIgaGVpZ2h0PSI1NyI+CiAgPGcgc3R5bGU9ImZpbGw6IzAwMDAwMDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyBzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUsNykiPgoKICAgIDxwYXRoIGQ9Ik0gOSwyNiBDIDE3LjUsMjQuNSAzMCwyNC41IDM2LDI2IEwgMzguNSwxMy41IEwgMzEsMjUgTCAzMC43LDEwLjkgTCAyNS41LDI0LjUgTCAyMi41LDEwIEwgMTkuNSwyNC41IEwgMTQuMywxMC45IEwgMTQsMjUgTCA2LjUsMTMuNSBMIDksMjYgeiIKICAgIHN0eWxlPSJzdHJva2UtbGluZWNhcDpidXR0O2ZpbGw6IzAwMDAwMCIgLz4KICAgIDxwYXRoIGQ9Im0gOSwyNiBjIDAsMiAxLjUsMiAyLjUsNCAxLDEuNSAxLDEgMC41LDMuNSAtMS41LDEgLTEsMi41IC0xLDIuNSAtMS41LDEuNSAwLDIuNSAwLDIuNSA2LjUsMSAxNi41LDEgMjMsMCAwLDAgMS41LC0xIDAsLTIuNSAwLDAgMC41LC0xLjUgLTEsLTIuNSAtMC41LC0yLjUgLTAuNSwtMiAwLjUsLTMuNSAxLC0yIDIuNSwtMiAyLjUsLTQgLTguNSwtMS41IC0xOC41LC0xLjUgLTI3LDAgeiIgLz4KICAgIDxwYXRoIGQ9Ik0gMTEuNSwzMCBDIDE1LDI5IDMwLDI5IDMzLjUsMzAiIC8+CiAgICA8cGF0aCBkPSJtIDEyLDMzLjUgYyA2LC0xIDE1LC0xIDIxLDAiIC8+CiAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iMTIiIHI9IjIiIC8+CiAgICA8Y2lyY2xlIGN4PSIxNCIgY3k9IjkiIHI9IjIiIC8+CiAgICA8Y2lyY2xlIGN4PSIyMi41IiBjeT0iOCIgcj0iMiIgLz4KICAgIDxjaXJjbGUgY3g9IjMxIiBjeT0iOSIgcj0iMiIgLz4KICAgIDxjaXJjbGUgY3g9IjM5IiBjeT0iMTIiIHI9IjIiIC8+CiAgICA8cGF0aCBkPSJNIDExLDM4LjUgQSAzNSwzNSAxIDAgMCAzNCwzOC41IgogICAgc3R5bGU9ImZpbGw6bm9uZTsgc3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLWxpbmVjYXA6YnV0dDsiIC8+CiAgICA8ZyBzdHlsZT0iZmlsbDpub25lOyBzdHJva2U6I2ZmZmZmZjsiPgogICAgICA8cGF0aCBkPSJNIDExLDI5IEEgMzUsMzUgMSAwIDEgMzQsMjkiIC8+CiAgICAgIDxwYXRoIGQ9Ik0gMTIuNSwzMS41IEwgMzIuNSwzMS41IiAvPgogICAgICA8cGF0aCBkPSJNIDExLjUsMzQuNSBBIDM1LDM1IDEgMCAwIDMzLjUsMzQuNSIgLz4KICAgICAgPHBhdGggZD0iTSAxMC41LDM3LjUgQSAzNSwzNSAxIDAgMCAzNC41LDM3LjUiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/br.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/br.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1NyIgaGVpZ2h0PSI1NyI+CiAgPGcgc3R5bGU9Im9wYWNpdHk6MTsgZmlsbDojMDAwMDAwOyBmaWxsLW9wYWNpdHk6MTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IHN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6MS41OyBzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDsgc3Ryb2tlLWRhc2hhcnJheTpub25lOyBzdHJva2Utb3BhY2l0eToxOyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiw2LjMpIj4KICAgIDxwYXRoCiAgICAgIGQ9Ik0gOSwzOSBMIDM2LDM5IEwgMzYsMzYgTCA5LDM2IEwgOSwzOSB6ICIKICAgICAgc3R5bGU9InN0cm9rZS1saW5lY2FwOmJ1dHQ7IiAvPgogICAgPHBhdGgKICAgICAgZD0iTSAxMi41LDMyIEwgMTQsMjkuNSBMIDMxLDI5LjUgTCAzMi41LDMyIEwgMTIuNSwzMiB6ICIKICAgICAgc3R5bGU9InN0cm9rZS1saW5lY2FwOmJ1dHQ7IiAvPgogICAgPHBhdGgKICAgICAgZD0iTSAxMiwzNiBMIDEyLDMyIEwgMzMsMzIgTCAzMywzNiBMIDEyLDM2IHogIgogICAgICBzdHlsZT0ic3Ryb2tlLWxpbmVjYXA6YnV0dDsiIC8+CiAgICA8cGF0aAogICAgICBkPSJNIDE0LDI5LjUgTCAxNCwxNi41IEwgMzEsMTYuNSBMIDMxLDI5LjUgTCAxNCwyOS41IHogIgogICAgICBzdHlsZT0ic3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7IiAvPgogICAgPHBhdGgKICAgICAgZD0iTSAxNCwxNi41IEwgMTEsMTQgTCAzNCwxNCBMIDMxLDE2LjUgTCAxNCwxNi41IHogIgogICAgICBzdHlsZT0ic3Ryb2tlLWxpbmVjYXA6YnV0dDsiIC8+CiAgICA8cGF0aAogICAgICBkPSJNIDExLDE0IEwgMTEsOSBMIDE1LDkgTCAxNSwxMSBMIDIwLDExIEwgMjAsOSBMIDI1LDkgTCAyNSwxMSBMIDMwLDExIEwgMzAsOSBMIDM0LDkgTCAzNCwxNCBMIDExLDE0IHogIgogICAgICBzdHlsZT0ic3Ryb2tlLWxpbmVjYXA6YnV0dDsiIC8+CiAgICA8cGF0aAogICAgICBkPSJNIDEyLDM1LjUgTCAzMywzNS41IEwgMzMsMzUuNSIKICAgICAgc3R5bGU9ImZpbGw6bm9uZTsgc3Ryb2tlOiNmZmZmZmY7IHN0cm9rZS13aWR0aDoxOyBzdHJva2UtbGluZWpvaW46bWl0ZXI7IiAvPgogICAgPHBhdGgKICAgICAgZD0iTSAxMywzMS41IEwgMzIsMzEuNSIKICAgICAgc3R5bGU9ImZpbGw6bm9uZTsgc3Ryb2tlOiNmZmZmZmY7IHN0cm9rZS13aWR0aDoxOyBzdHJva2UtbGluZWpvaW46bWl0ZXI7IiAvPgogICAgPHBhdGgKICAgICAgZD0iTSAxNCwyOS41IEwgMzEsMjkuNSIKICAgICAgc3R5bGU9ImZpbGw6bm9uZTsgc3Ryb2tlOiNmZmZmZmY7IHN0cm9rZS13aWR0aDoxOyBzdHJva2UtbGluZWpvaW46bWl0ZXI7IiAvPgogICAgPHBhdGgKICAgICAgZD0iTSAxNCwxNi41IEwgMzEsMTYuNSIKICAgICAgc3R5bGU9ImZpbGw6bm9uZTsgc3Ryb2tlOiNmZmZmZmY7IHN0cm9rZS13aWR0aDoxOyBzdHJva2UtbGluZWpvaW46bWl0ZXI7IiAvPgogICAgPHBhdGgKICAgICAgZD0iTSAxMSwxNCBMIDM0LDE0IgogICAgICBzdHlsZT0iZmlsbDpub25lOyBzdHJva2U6I2ZmZmZmZjsgc3Ryb2tlLXdpZHRoOjE7IHN0cm9rZS1saW5lam9pbjptaXRlcjsiIC8+CiAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/wb.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/wb.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjUzIiBoZWlnaHQ9IjUzIj4NCiAgPGcgc3R5bGU9Im9wYWNpdHk6MTsgZmlsbDpub25lOyBmaWxsLXJ1bGU6ZXZlbm9kZDsgZmlsbC1vcGFjaXR5OjE7IHN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6MS41OyBzdHJva2UtbGluZWNhcDpyb3VuZDsgc3Ryb2tlLWxpbmVqb2luOnJvdW5kOyBzdHJva2UtbWl0ZXJsaW1pdDo0OyBzdHJva2UtZGFzaGFycmF5Om5vbmU7IHN0cm9rZS1vcGFjaXR5OjE7IiAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNCw0LjYpIj4NCiAgICA8ZyBzdHlsZT0iZmlsbDojZmZmZmZmOyBzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLWxpbmVjYXA6YnV0dDsiPg0KICAgICAgPHBhdGggZD0iTSA5LDM2IEMgMTIuMzksMzUuMDMgMTkuMTEsMzYuNDMgMjIuNSwzNCBDIDI1Ljg5LDM2LjQzIDMyLjYxLDM1LjAzIDM2LDM2IEMgMzYsMzYgMzcuNjUsMzYuNTQgMzksMzggQyAzOC4zMiwzOC45NyAzNy4zNSwzOC45OSAzNiwzOC41IEMgMzIuNjEsMzcuNTMgMjUuODksMzguOTYgMjIuNSwzNy41IEMgMTkuMTEsMzguOTYgMTIuMzksMzcuNTMgOSwzOC41IEMgNy42NSwzOC45OSA2LjY4LDM4Ljk3IDYsMzggQyA3LjM1LDM2LjU0IDksMzYgOSwzNiB6Ii8+DQogICAgICA8cGF0aCBkPSJNIDE1LDMyIEMgMTcuNSwzNC41IDI3LjUsMzQuNSAzMCwzMiBDIDMwLjUsMzAuNSAzMCwzMCAzMCwzMCBDIDMwLDI3LjUgMjcuNSwyNiAyNy41LDI2IEMgMzMsMjQuNSAzMy41LDE0LjUgMjIuNSwxMC41IEMgMTEuNSwxNC41IDEyLDI0LjUgMTcuNSwyNiBDIDE3LjUsMjYgMTUsMjcuNSAxNSwzMCBDIDE1LDMwIDE0LjUsMzAuNSAxNSwzMiB6Ii8+DQogICAgICA8cGF0aCBkPSJNIDI1IDggQSAyLjUgMi41IDAgMSAxICAyMCw4IEEgMi41IDIuNSAwIDEgMSAgMjUgOCB6Ii8+DQogICAgPC9nPg0KICAgIDxwYXRoIGQ9Ik0gMTcuNSwyNiBMIDI3LjUsMjYgTSAxNSwzMCBMIDMwLDMwIE0gMjIuNSwxNS41IEwgMjIuNSwyMC41IE0gMjAsMTggTCAyNSwxOCIgc3R5bGU9ImZpbGw6bm9uZTsgc3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS1saW5lam9pbjptaXRlcjsiLz4NCiAgPC9nPg0KPC9zdmc+DQo=";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/wk.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/wk.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiPgogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjUsMS41KSI+CiAgICA8cGF0aCBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBkPSJNMjIuNSAxMS42M1Y2TTIwIDhoNSIvPgogICAgPHBhdGggZmlsbD0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIGQ9Ik0yMi41IDI1czQuNS03LjUgMy0xMC41YzAgMC0xLTIuNS0zLTIuNXMtMyAyLjUtMyAyLjVjLTEuNSAzIDMgMTAuNSAzIDEwLjUiLz4KICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi41IDM3YzUuNSAzLjUgMTQuNSAzLjUgMjAgMHYtN3M5LTQuNSA2LTEwLjVjLTQtNi41LTEzLjUtMy41LTE2IDRWMjd2LTMuNWMtMi41LTcuNS0xMi0xMC41LTE2LTQtMyA2IDYgMTAuNSA2IDEwLjV2NyIvPgogICAgPHBhdGggZD0iTTEyLjUgMzBjNS41LTMgMTQuNS0zIDIwIDBtLTIwIDMuNWM1LjUtMyAxNC41LTMgMjAgMG0tMjAgMy41YzUuNS0zIDE0LjUtMyAyMCAwIi8+CiAgPC9nPgo8L3N2Zz4=";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/wn.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/wn.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjU3IiBoZWlnaHQ9IjU3Ij4NCiAgPGcgc3R5bGU9Im9wYWNpdHk6MTsgZmlsbDpub25lOyBmaWxsLW9wYWNpdHk6MTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IHN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6MS41OyBzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDsgc3Ryb2tlLWRhc2hhcnJheTpub25lOyBzdHJva2Utb3BhY2l0eToxOyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiw2LjMpIj4NCiAgICA8cGF0aA0KICAgICAgZD0iTSAyMiwxMCBDIDMyLjUsMTEgMzguNSwxOCAzOCwzOSBMIDE1LDM5IEMgMTUsMzAgMjUsMzIuNSAyMywxOCINCiAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7IHN0cm9rZTojMDAwMDAwOyIgLz4NCiAgICA8cGF0aA0KICAgICAgZD0iTSAyNCwxOCBDIDI0LjM4LDIwLjkxIDE4LjQ1LDI1LjM3IDE2LDI3IEMgMTMsMjkgMTMuMTgsMzEuMzQgMTEsMzEgQyA5Ljk1OCwzMC4wNiAxMi40MSwyNy45NiAxMSwyOCBDIDEwLDI4IDExLjE5LDI5LjIzIDEwLDMwIEMgOSwzMCA1Ljk5NywzMSA2LDI2IEMgNiwyNCAxMiwxNCAxMiwxNCBDIDEyLDE0IDEzLjg5LDEyLjEgMTQsMTAuNSBDIDEzLjI3LDkuNTA2IDEzLjUsOC41IDEzLjUsNy41IEMgMTQuNSw2LjUgMTYuNSwxMCAxNi41LDEwIEwgMTguNSwxMCBDIDE4LjUsMTAgMTkuMjgsOC4wMDggMjEsNyBDIDIyLDcgMjIsMTAgMjIsMTAiDQogICAgICBzdHlsZT0iZmlsbDojZmZmZmZmOyBzdHJva2U6IzAwMDAwMDsiIC8+DQogICAgPHBhdGgNCiAgICAgIGQ9Ik0gOS41IDI1LjUgQSAwLjUgMC41IDAgMSAxIDguNSwyNS41IEEgMC41IDAuNSAwIDEgMSA5LjUgMjUuNSB6Ig0KICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDsgc3Ryb2tlOiMwMDAwMDA7IiAvPg0KICAgIDxwYXRoDQogICAgICBkPSJNIDE1IDE1LjUgQSAwLjUgMS41IDAgMSAxICAxNCwxNS41IEEgMC41IDEuNSAwIDEgMSAgMTUgMTUuNSB6Ig0KICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMC44NjYsMC41LC0wLjUsMC44NjYsOS42OTMsLTUuMTczKSINCiAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7IHN0cm9rZTojMDAwMDAwOyIgLz4NCiAgPC9nPg0KPC9zdmc+DQo=";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/wp.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/wp.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1OSIgaGVpZ2h0PSI1OSI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNyw3KSI+CiAgICA8cGF0aCBkPSJtIDIyLjUsOSBjIC0yLjIxLDAgLTQsMS43OSAtNCw0IDAsMC44OSAwLjI5LDEuNzEgMC43OCwyLjM4IEMgMTcuMzMsMTYuNSAxNiwxOC41OSAxNiwyMSBjIDAsMi4wMyAwLjk0LDMuODQgMi40MSw1LjAzIEMgMTUuNDEsMjcuMDkgMTEsMzEuNTggMTEsMzkuNSBIIDM0IEMgMzQsMzEuNTggMjkuNTksMjcuMDkgMjYuNTksMjYuMDMgMjguMDYsMjQuODQgMjksMjMuMDMgMjksMjEgMjksMTguNTkgMjcuNjcsMTYuNSAyNS43MiwxNS4zOCAyNi4yMSwxNC43MSAyNi41LDEzLjg5IDI2LjUsMTMgYyAwLC0yLjIxIC0xLjc5LC00IC00LC00IHoiIHN0eWxlPSJvcGFjaXR5OjE7IGZpbGw6I2ZmZmZmZjsgZmlsbC1vcGFjaXR5OjE7IGZpbGwtcnVsZTpub256ZXJvOyBzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjEuNTsgc3Ryb2tlLWxpbmVjYXA6cm91bmQ7IHN0cm9rZS1saW5lam9pbjptaXRlcjsgc3Ryb2tlLW1pdGVybGltaXQ6NDsgc3Ryb2tlLWRhc2hhcnJheTpub25lOyBzdHJva2Utb3BhY2l0eToxOyIvPgogIDwvZz4KPC9zdmc+Cg==";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/wq.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/wq.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1NyIgaGVpZ2h0PSI1NyI+CiAgPGcgc3R5bGU9ImZpbGw6I2ZmZmZmZjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41O3N0cm9rZS1saW5lam9pbjpyb3VuZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNSw3KSI+CiAgICA8cGF0aCBkPSJNIDksMjYgQyAxNy41LDI0LjUgMzAsMjQuNSAzNiwyNiBMIDM4LjUsMTMuNSBMIDMxLDI1IEwgMzAuNywxMC45IEwgMjUuNSwyNC41IEwgMjIuNSwxMCBMIDE5LjUsMjQuNSBMIDE0LjMsMTAuOSBMIDE0LDI1IEwgNi41LDEzLjUgTCA5LDI2IHoiLz4KICAgIDxwYXRoIGQ9Ik0gOSwyNiBDIDksMjggMTAuNSwyOCAxMS41LDMwIEMgMTIuNSwzMS41IDEyLjUsMzEgMTIsMzMuNSBDIDEwLjUsMzQuNSAxMSwzNiAxMSwzNiBDIDkuNSwzNy41IDExLDM4LjUgMTEsMzguNSBDIDE3LjUsMzkuNSAyNy41LDM5LjUgMzQsMzguNSBDIDM0LDM4LjUgMzUuNSwzNy41IDM0LDM2IEMgMzQsMzYgMzQuNSwzNC41IDMzLDMzLjUgQyAzMi41LDMxIDMyLjUsMzEuNSAzMy41LDMwIEMgMzQuNSwyOCAzNiwyOCAzNiwyNiBDIDI3LjUsMjQuNSAxNy41LDI0LjUgOSwyNiB6Ii8+CiAgICA8cGF0aCBkPSJNIDExLjUsMzAgQyAxNSwyOSAzMCwyOSAzMy41LDMwIiBzdHlsZT0iZmlsbDpub25lIi8+CiAgICA8cGF0aCBkPSJNIDEyLDMzLjUgQyAxOCwzMi41IDI3LDMyLjUgMzMsMzMuNSIgc3R5bGU9ImZpbGw6bm9uZSIvPgogICAgPGNpcmNsZSBjeD0iNiIgY3k9IjEyIiByPSIyIiAvPgogICAgPGNpcmNsZSBjeD0iMTQiIGN5PSI5IiByPSIyIiAvPgogICAgPGNpcmNsZSBjeD0iMjIuNSIgY3k9IjgiIHI9IjIiIC8+CiAgICA8Y2lyY2xlIGN4PSIzMSIgY3k9IjkiIHI9IjIiIC8+CiAgICA8Y2lyY2xlIGN4PSIzOSIgY3k9IjEyIiByPSIyIiAvPgogIDwvZz4KPC9zdmc+Cg==";

/***/ }),

/***/ "./src/components/chess/assets/img/pieces/burnett/wr.svg":
/*!***************************************************************!*\
  !*** ./src/components/chess/assets/img/pieces/burnett/wr.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjU3IiBoZWlnaHQ9IjU3Ij4NCiAgPGcgc3R5bGU9Im9wYWNpdHk6MTsgZmlsbDojZmZmZmZmOyBmaWxsLW9wYWNpdHk6MTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IHN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6MS41OyBzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDsgc3Ryb2tlLWRhc2hhcnJheTpub25lOyBzdHJva2Utb3BhY2l0eToxOyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiw2LjMpIj4NCiAgICA8cGF0aA0KICAgICAgZD0iTSA5LDM5IEwgMzYsMzkgTCAzNiwzNiBMIDksMzYgTCA5LDM5IHogIg0KICAgICAgc3R5bGU9InN0cm9rZS1saW5lY2FwOmJ1dHQ7IiAvPg0KICAgIDxwYXRoDQogICAgICBkPSJNIDEyLDM2IEwgMTIsMzIgTCAzMywzMiBMIDMzLDM2IEwgMTIsMzYgeiAiDQogICAgICBzdHlsZT0ic3Ryb2tlLWxpbmVjYXA6YnV0dDsiIC8+DQogICAgPHBhdGgNCiAgICAgIGQ9Ik0gMTEsMTQgTCAxMSw5IEwgMTUsOSBMIDE1LDExIEwgMjAsMTEgTCAyMCw5IEwgMjUsOSBMIDI1LDExIEwgMzAsMTEgTCAzMCw5IEwgMzQsOSBMIDM0LDE0Ig0KICAgICAgc3R5bGU9InN0cm9rZS1saW5lY2FwOmJ1dHQ7IiAvPg0KICAgIDxwYXRoDQogICAgICBkPSJNIDM0LDE0IEwgMzEsMTcgTCAxNCwxNyBMIDExLDE0IiAvPg0KICAgIDxwYXRoDQogICAgICBkPSJNIDMxLDE3IEwgMzEsMjkuNSBMIDE0LDI5LjUgTCAxNCwxNyINCiAgICAgIHN0eWxlPSJzdHJva2UtbGluZWNhcDpidXR0OyBzdHJva2UtbGluZWpvaW46bWl0ZXI7IiAvPg0KICAgIDxwYXRoDQogICAgICBkPSJNIDMxLDI5LjUgTCAzMi41LDMyIEwgMTIuNSwzMiBMIDE0LDI5LjUiIC8+DQogICAgPHBhdGgNCiAgICAgIGQ9Ik0gMTEsMTQgTCAzNCwxNCINCiAgICAgIHN0eWxlPSJmaWxsOm5vbmU7IHN0cm9rZTojMDAwMDAwOyBzdHJva2UtbGluZWpvaW46bWl0ZXI7IiAvPg0KICA8L2c+DQo8L3N2Zz4NCg==";

/***/ }),

/***/ "./src/components/chess/assets/img/results/loose.svg":
/*!***********************************************************!*\
  !*** ./src/components/chess/assets/img/results/loose.svg ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjAvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMtU1ZHLTIwMDEwOTA0L0RURC9zdmcxMC5kdGQiPg0KPCEtLSBDcmVhdG9yOiBDb3JlbERSQVcgLS0+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6b2RtPSJodHRwOi8vcHJvZHVjdC5jb3JlbC5jb20vQ0dTLzExL2NkZG5zLyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjI1MHB4IiBoZWlnaHQ9IjM1MXB4IiBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eSINCiAgICAgdmlld0JveD0iMCAwIDI1MCAzNTIiPg0KICA8cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyMTtzdHJva2UtbGluZWNhcDpyb3VuZCIgZD0iTTQyIDI0N2wwIC0xOTMiLz4NCiAgPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTA7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIiBkPSJNNDkgNTBjNzAsMzAgMTA0LDI4IDE3OCwyIC0yMSw0MiAtMjEsNzQgMCwxMTYgLTcyLDI1IC0xMDEsMjUgLTE3OCwwbDAgLTExOHoiLz4NCjwvc3ZnPg0K";

/***/ }),

/***/ "./src/components/chess/assets/img/results/win.svg":
/*!*********************************************************!*\
  !*** ./src/components/chess/assets/img/results/win.svg ***!
  \*********************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI2MDAiIGhlaWdodD0iNTcxIj4KICA8cGF0aCBkPSJtMjk5Ljk5LjIwMy0zMi40ODYgMTAwLjAyNC0zOC4zMzggMTE3LjkzSDBsODUuMDk5IDYxLjgwOSAxMDAuMzEyIDcyLjg3OC0zOC4zMTcgMTE3LjkzMy0zMi40ODMgMTAwLjAyMSA4NS4wNzUtNjEuODA5IDEwMC4zMTItNzIuODc3IDEwMC4zMzIgNzIuODc3IDg1LjA3NSA2MS43ODgtMzIuNDg2LTEwMC4wMDMtMzguMzE0LTExNy45MSAxMDAuMzMyLTcyLjg5NyA4NS4wNzUtNjEuODA5SDM3MC44NGwtMzguMzQyLTExNy45NTFMMjk5Ljk5LjIwM3oiLz4KICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjk5Ljk5OSAxMTAuNzc1IDI1NC4wMSAyNTIuMzE3SDEwNS4xN2wxMjAuNDEzIDg3LjQ3Ni00NS45ODUgMTQxLjU0MkwzMDAgMzkzLjg1OWwxMjAuNDEyIDg3LjQ3Ni00NS45ODYtMTQxLjU0MiAxMjAuNDEzLTg3LjQ3NkgzNDUuOTk3bC00NS45OTgtMTQxLjU0MnoiLz4KPC9zdmc+";

/***/ }),

/***/ "./src/components/pgnViewer/img/icons/forward.svg":
/*!********************************************************!*\
  !*** ./src/components/pgnViewer/img/icons/forward.svg ***!
  \********************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktZmFzdC1mb3J3YXJkIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGQ9Ik02LjgwNCA4IDEgNC42MzN2Ni43MzR6bS43OTItLjY5NmEuODAyLjgwMiAwIDAgMSAwIDEuMzkybC02LjM2MyAzLjY5MkMuNzEzIDEyLjY5IDAgMTIuMzQ1IDAgMTEuNjkyVjQuMzA4YzAtLjY1My43MTMtLjk5OCAxLjIzMy0uNjk2eiIvPgogIDxwYXRoIGQ9Ik0xNC44MDQgOCA5IDQuNjMzdjYuNzM0em0uNzkyLS42OTZhLjgwMi44MDIgMCAwIDEgMCAxLjM5MmwtNi4zNjMgMy42OTJDOC43MTMgMTIuNjkgOCAxMi4zNDUgOCAxMS42OTJWNC4zMDhjMC0uNjUzLjcxMy0uOTk4IDEuMjMzLS42OTZ6Ii8+Cjwvc3ZnPg==";

/***/ }),

/***/ "./src/components/pgnViewer/img/icons/go-to-end.svg":
/*!**********************************************************!*\
  !*** ./src/components/pgnViewer/img/icons/go-to-end.svg ***!
  \**********************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktc2tpcC1lbmQiIHZpZXdCb3g9IjAgMCAxNiAxNiI+CiAgPHBhdGggZD0iTTEyLjUgNGEuNS41IDAgMCAwLTEgMHYzLjI0OEw1LjIzMyAzLjYxMkM0LjcxMyAzLjMxIDQgMy42NTUgNCA0LjMwOHY3LjM4NGMwIC42NTMuNzEzLjk5OCAxLjIzMy42OTZMMTEuNSA4Ljc1MlYxMmEuNS41IDAgMCAwIDEgMHpNNSA0LjYzMyAxMC44MDQgOCA1IDExLjM2N3oiLz4KPC9zdmc+";

/***/ }),

/***/ "./src/components/pgnViewer/img/icons/go-to-start.svg":
/*!************************************************************!*\
  !*** ./src/components/pgnViewer/img/icons/go-to-start.svg ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktc2tpcC1zdGFydCIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBkPSJNNCA0YS41LjUgMCAwIDEgMSAwdjMuMjQ4bDYuMjY3LTMuNjM2Yy41Mi0uMzAyIDEuMjMzLjA0MyAxLjIzMy42OTZ2Ny4zODRjMCAuNjUzLS43MTMuOTk4LTEuMjMzLjY5Nkw1IDguNzUyVjEyYS41LjUgMCAwIDEtMSAwem03LjUuNjMzTDUuNjk2IDhsNS44MDQgMy4zNjd6Ii8+Cjwvc3ZnPg==";

/***/ }),

/***/ "./src/components/pgnViewer/img/icons/pause.svg":
/*!******************************************************!*\
  !*** ./src/components/pgnViewer/img/icons/pause.svg ***!
  \******************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcGF1c2UiIHZpZXdCb3g9IjAgMCAxNiAxNiI+CiAgPHBhdGggZD0iTTYgMy41YS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtMSAwVjRhLjUuNSAwIDAgMSAuNS0uNW00IDBhLjUuNSAwIDAgMSAuNS41djhhLjUuNSAwIDAgMS0xIDBWNGEuNS41IDAgMCAxIC41LS41Ii8+Cjwvc3ZnPg==";

/***/ }),

/***/ "./src/components/pgnViewer/img/icons/play.svg":
/*!*****************************************************!*\
  !*** ./src/components/pgnViewer/img/icons/play.svg ***!
  \*****************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcGxheSIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBkPSJNMTAuODA0IDggNSA0LjYzM3Y2LjczNHptLjc5Mi0uNjk2YS44MDIuODAyIDAgMCAxIDAgMS4zOTJsLTYuMzYzIDMuNjkyQzQuNzEzIDEyLjY5IDQgMTIuMzQ1IDQgMTEuNjkyVjQuMzA4YzAtLjY1My43MTMtLjk5OCAxLjIzMy0uNjk2eiIvPgo8L3N2Zz4=";

/***/ }),

/***/ "./src/components/pgnViewer/img/icons/rewind.svg":
/*!*******************************************************!*\
  !*** ./src/components/pgnViewer/img/icons/rewind.svg ***!
  \*******************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcmV3aW5kIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGQ9Ik05LjE5NiA4IDE1IDQuNjMzdjYuNzM0em0tLjc5Mi0uNjk2YS44MDIuODAyIDAgMCAwIDAgMS4zOTJsNi4zNjMgMy42OTJjLjUyLjMwMiAxLjIzMy0uMDQzIDEuMjMzLS42OTZWNC4zMDhjMC0uNjUzLS43MTMtLjk5OC0xLjIzMy0uNjk2eiIvPgogIDxwYXRoIGQ9Ik0xLjE5NiA4IDcgNC42MzN2Ni43MzR6bS0uNzkyLS42OTZhLjgwMi44MDIgMCAwIDAgMCAxLjM5Mmw2LjM2MyAzLjY5MmMuNTIuMzAyIDEuMjMzLS4wNDMgMS4yMzMtLjY5NlY0LjMwOGMwLS42NTMtLjcxMy0uOTk4LTEuMjMzLS42OTZ6Ii8+Cjwvc3ZnPg==";

/***/ }),

/***/ "./src/components/chess/assets/img/boards/green.png":
/*!**********************************************************!*\
  !*** ./src/components/chess/assets/img/boards/green.png ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "images/1a11d007f71a93629639.png";

/***/ }),

/***/ "./node_modules/chess.js/dist/esm/chess.js":
/*!*************************************************!*\
  !*** ./node_modules/chess.js/dist/esm/chess.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BISHOP: () => (/* binding */ BISHOP),
/* harmony export */   BLACK: () => (/* binding */ BLACK),
/* harmony export */   Chess: () => (/* binding */ Chess),
/* harmony export */   DEFAULT_POSITION: () => (/* binding */ DEFAULT_POSITION),
/* harmony export */   KING: () => (/* binding */ KING),
/* harmony export */   KNIGHT: () => (/* binding */ KNIGHT),
/* harmony export */   PAWN: () => (/* binding */ PAWN),
/* harmony export */   QUEEN: () => (/* binding */ QUEEN),
/* harmony export */   ROOK: () => (/* binding */ ROOK),
/* harmony export */   SQUARES: () => (/* binding */ SQUARES),
/* harmony export */   WHITE: () => (/* binding */ WHITE),
/* harmony export */   validateFen: () => (/* binding */ validateFen)
/* harmony export */ });
/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */
const WHITE = 'w';
const BLACK = 'b';
const PAWN = 'p';
const KNIGHT = 'n';
const BISHOP = 'b';
const ROOK = 'r';
const QUEEN = 'q';
const KING = 'k';
const DEFAULT_POSITION = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';
const EMPTY = -1;
const FLAGS = {
    NORMAL: 'n',
    CAPTURE: 'c',
    BIG_PAWN: 'b',
    EP_CAPTURE: 'e',
    PROMOTION: 'p',
    KSIDE_CASTLE: 'k',
    QSIDE_CASTLE: 'q',
};
// prettier-ignore
const SQUARES = [
    'a8', 'b8', 'c8', 'd8', 'e8', 'f8', 'g8', 'h8',
    'a7', 'b7', 'c7', 'd7', 'e7', 'f7', 'g7', 'h7',
    'a6', 'b6', 'c6', 'd6', 'e6', 'f6', 'g6', 'h6',
    'a5', 'b5', 'c5', 'd5', 'e5', 'f5', 'g5', 'h5',
    'a4', 'b4', 'c4', 'd4', 'e4', 'f4', 'g4', 'h4',
    'a3', 'b3', 'c3', 'd3', 'e3', 'f3', 'g3', 'h3',
    'a2', 'b2', 'c2', 'd2', 'e2', 'f2', 'g2', 'h2',
    'a1', 'b1', 'c1', 'd1', 'e1', 'f1', 'g1', 'h1'
];
const BITS = {
    NORMAL: 1,
    CAPTURE: 2,
    BIG_PAWN: 4,
    EP_CAPTURE: 8,
    PROMOTION: 16,
    KSIDE_CASTLE: 32,
    QSIDE_CASTLE: 64,
};
/*
 * NOTES ABOUT 0x88 MOVE GENERATION ALGORITHM
 * ----------------------------------------------------------------------------
 * From https://github.com/jhlywa/chess.js/issues/230
 *
 * A lot of people are confused when they first see the internal representation
 * of chess.js. It uses the 0x88 Move Generation Algorithm which internally
 * stores the board as an 8x16 array. This is purely for efficiency but has a
 * couple of interesting benefits:
 *
 * 1. 0x88 offers a very inexpensive "off the board" check. Bitwise AND (&) any
 *    square with 0x88, if the result is non-zero then the square is off the
 *    board. For example, assuming a knight square A8 (0 in 0x88 notation),
 *    there are 8 possible directions in which the knight can move. These
 *    directions are relative to the 8x16 board and are stored in the
 *    PIECE_OFFSETS map. One possible move is A8 - 18 (up one square, and two
 *    squares to the left - which is off the board). 0 - 18 = -18 & 0x88 = 0x88
 *    (because of two-complement representation of -18). The non-zero result
 *    means the square is off the board and the move is illegal. Take the
 *    opposite move (from A8 to C7), 0 + 18 = 18 & 0x88 = 0. A result of zero
 *    means the square is on the board.
 *
 * 2. The relative distance (or difference) between two squares on a 8x16 board
 *    is unique and can be used to inexpensively determine if a piece on a
 *    square can attack any other arbitrary square. For example, let's see if a
 *    pawn on E7 can attack E2. The difference between E7 (20) - E2 (100) is
 *    -80. We add 119 to make the ATTACKS array index non-negative (because the
 *    worst case difference is A8 - H1 = -119). The ATTACKS array contains a
 *    bitmask of pieces that can attack from that distance and direction.
 *    ATTACKS[-80 + 119=39] gives us 24 or 0b11000 in binary. Look at the
 *    PIECE_MASKS map to determine the mask for a given piece type. In our pawn
 *    example, we would check to see if 24 & 0x1 is non-zero, which it is
 *    not. So, naturally, a pawn on E7 can't attack a piece on E2. However, a
 *    rook can since 24 & 0x8 is non-zero. The only thing left to check is that
 *    there are no blocking pieces between E7 and E2. That's where the RAYS
 *    array comes in. It provides an offset (in this case 16) to add to E7 (20)
 *    to check for blocking pieces. E7 (20) + 16 = E6 (36) + 16 = E5 (52) etc.
 */
// prettier-ignore
// eslint-disable-next-line
const Ox88 = {
    a8: 0, b8: 1, c8: 2, d8: 3, e8: 4, f8: 5, g8: 6, h8: 7,
    a7: 16, b7: 17, c7: 18, d7: 19, e7: 20, f7: 21, g7: 22, h7: 23,
    a6: 32, b6: 33, c6: 34, d6: 35, e6: 36, f6: 37, g6: 38, h6: 39,
    a5: 48, b5: 49, c5: 50, d5: 51, e5: 52, f5: 53, g5: 54, h5: 55,
    a4: 64, b4: 65, c4: 66, d4: 67, e4: 68, f4: 69, g4: 70, h4: 71,
    a3: 80, b3: 81, c3: 82, d3: 83, e3: 84, f3: 85, g3: 86, h3: 87,
    a2: 96, b2: 97, c2: 98, d2: 99, e2: 100, f2: 101, g2: 102, h2: 103,
    a1: 112, b1: 113, c1: 114, d1: 115, e1: 116, f1: 117, g1: 118, h1: 119
};
const PAWN_OFFSETS = {
    b: [16, 32, 17, 15],
    w: [-16, -32, -17, -15],
};
const PIECE_OFFSETS = {
    n: [-18, -33, -31, -14, 18, 33, 31, 14],
    b: [-17, -15, 17, 15],
    r: [-16, 1, 16, -1],
    q: [-17, -16, -15, 1, 17, 16, 15, -1],
    k: [-17, -16, -15, 1, 17, 16, 15, -1],
};
// prettier-ignore
const ATTACKS = [
    20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20, 0,
    0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0,
    0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0,
    0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0,
    0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0,
    24, 24, 24, 24, 24, 24, 56, 0, 56, 24, 24, 24, 24, 24, 24, 0,
    0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0,
    0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0,
    0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0,
    0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0,
    20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20
];
// prettier-ignore
const RAYS = [
    17, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 15, 0,
    0, 17, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 15, 0, 0,
    0, 0, 17, 0, 0, 0, 0, 16, 0, 0, 0, 0, 15, 0, 0, 0,
    0, 0, 0, 17, 0, 0, 0, 16, 0, 0, 0, 15, 0, 0, 0, 0,
    0, 0, 0, 0, 17, 0, 0, 16, 0, 0, 15, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 17, 0, 16, 0, 15, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 17, 16, 15, 0, 0, 0, 0, 0, 0, 0,
    1, 1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -1, 0,
    0, 0, 0, 0, 0, 0, -15, -16, -17, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, -15, 0, -16, 0, -17, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, -15, 0, 0, -16, 0, 0, -17, 0, 0, 0, 0, 0,
    0, 0, 0, -15, 0, 0, 0, -16, 0, 0, 0, -17, 0, 0, 0, 0,
    0, 0, -15, 0, 0, 0, 0, -16, 0, 0, 0, 0, -17, 0, 0, 0,
    0, -15, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, -17, 0, 0,
    -15, 0, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, 0, -17
];
const PIECE_MASKS = { p: 0x1, n: 0x2, b: 0x4, r: 0x8, q: 0x10, k: 0x20 };
const SYMBOLS = 'pnbrqkPNBRQK';
const PROMOTIONS = [KNIGHT, BISHOP, ROOK, QUEEN];
const RANK_1 = 7;
const RANK_2 = 6;
/*
 * const RANK_3 = 5
 * const RANK_4 = 4
 * const RANK_5 = 3
 * const RANK_6 = 2
 */
const RANK_7 = 1;
const RANK_8 = 0;
const SIDES = {
    [KING]: BITS.KSIDE_CASTLE,
    [QUEEN]: BITS.QSIDE_CASTLE,
};
const ROOKS = {
    w: [
        { square: Ox88.a1, flag: BITS.QSIDE_CASTLE },
        { square: Ox88.h1, flag: BITS.KSIDE_CASTLE },
    ],
    b: [
        { square: Ox88.a8, flag: BITS.QSIDE_CASTLE },
        { square: Ox88.h8, flag: BITS.KSIDE_CASTLE },
    ],
};
const SECOND_RANK = { b: RANK_7, w: RANK_2 };
const TERMINATION_MARKERS = ['1-0', '0-1', '1/2-1/2', '*'];
// Extracts the zero-based rank of an 0x88 square.
function rank(square) {
    return square >> 4;
}
// Extracts the zero-based file of an 0x88 square.
function file(square) {
    return square & 0xf;
}
function isDigit(c) {
    return '0123456789'.indexOf(c) !== -1;
}
// Converts a 0x88 square to algebraic notation.
function algebraic(square) {
    const f = file(square);
    const r = rank(square);
    return ('abcdefgh'.substring(f, f + 1) +
        '87654321'.substring(r, r + 1));
}
function swapColor(color) {
    return color === WHITE ? BLACK : WHITE;
}
function validateFen(fen) {
    // 1st criterion: 6 space-seperated fields?
    const tokens = fen.split(/\s+/);
    if (tokens.length !== 6) {
        return {
            ok: false,
            error: 'Invalid FEN: must contain six space-delimited fields',
        };
    }
    // 2nd criterion: move number field is a integer value > 0?
    const moveNumber = parseInt(tokens[5], 10);
    if (isNaN(moveNumber) || moveNumber <= 0) {
        return {
            ok: false,
            error: 'Invalid FEN: move number must be a positive integer',
        };
    }
    // 3rd criterion: half move counter is an integer >= 0?
    const halfMoves = parseInt(tokens[4], 10);
    if (isNaN(halfMoves) || halfMoves < 0) {
        return {
            ok: false,
            error: 'Invalid FEN: half move counter number must be a non-negative integer',
        };
    }
    // 4th criterion: 4th field is a valid e.p.-string?
    if (!/^(-|[abcdefgh][36])$/.test(tokens[3])) {
        return { ok: false, error: 'Invalid FEN: en-passant square is invalid' };
    }
    // 5th criterion: 3th field is a valid castle-string?
    if (/[^kKqQ-]/.test(tokens[2])) {
        return { ok: false, error: 'Invalid FEN: castling availability is invalid' };
    }
    // 6th criterion: 2nd field is "w" (white) or "b" (black)?
    if (!/^(w|b)$/.test(tokens[1])) {
        return { ok: false, error: 'Invalid FEN: side-to-move is invalid' };
    }
    // 7th criterion: 1st field contains 8 rows?
    const rows = tokens[0].split('/');
    if (rows.length !== 8) {
        return {
            ok: false,
            error: "Invalid FEN: piece data does not contain 8 '/'-delimited rows",
        };
    }
    // 8th criterion: every row is valid?
    for (let i = 0; i < rows.length; i++) {
        // check for right sum of fields AND not two numbers in succession
        let sumFields = 0;
        let previousWasNumber = false;
        for (let k = 0; k < rows[i].length; k++) {
            if (isDigit(rows[i][k])) {
                if (previousWasNumber) {
                    return {
                        ok: false,
                        error: 'Invalid FEN: piece data is invalid (consecutive number)',
                    };
                }
                sumFields += parseInt(rows[i][k], 10);
                previousWasNumber = true;
            }
            else {
                if (!/^[prnbqkPRNBQK]$/.test(rows[i][k])) {
                    return {
                        ok: false,
                        error: 'Invalid FEN: piece data is invalid (invalid piece)',
                    };
                }
                sumFields += 1;
                previousWasNumber = false;
            }
        }
        if (sumFields !== 8) {
            return {
                ok: false,
                error: 'Invalid FEN: piece data is invalid (too many squares in rank)',
            };
        }
    }
    // 9th criterion: is en-passant square legal?
    if ((tokens[3][1] == '3' && tokens[1] == 'w') ||
        (tokens[3][1] == '6' && tokens[1] == 'b')) {
        return { ok: false, error: 'Invalid FEN: illegal en-passant square' };
    }
    // 10th criterion: does chess position contain exact two kings?
    const kings = [
        { color: 'white', regex: /K/g },
        { color: 'black', regex: /k/g },
    ];
    for (const { color, regex } of kings) {
        if (!regex.test(tokens[0])) {
            return { ok: false, error: `Invalid FEN: missing ${color} king` };
        }
        if ((tokens[0].match(regex) || []).length > 1) {
            return { ok: false, error: `Invalid FEN: too many ${color} kings` };
        }
    }
    // 11th criterion: are any pawns on the first or eighth rows?
    if (Array.from(rows[0] + rows[7]).some((char) => char.toUpperCase() === 'P')) {
        return {
            ok: false,
            error: 'Invalid FEN: some pawns are on the edge rows',
        };
    }
    return { ok: true };
}
// this function is used to uniquely identify ambiguous moves
function getDisambiguator(move, moves) {
    const from = move.from;
    const to = move.to;
    const piece = move.piece;
    let ambiguities = 0;
    let sameRank = 0;
    let sameFile = 0;
    for (let i = 0, len = moves.length; i < len; i++) {
        const ambigFrom = moves[i].from;
        const ambigTo = moves[i].to;
        const ambigPiece = moves[i].piece;
        /*
         * if a move of the same piece type ends on the same to square, we'll need
         * to add a disambiguator to the algebraic notation
         */
        if (piece === ambigPiece && from !== ambigFrom && to === ambigTo) {
            ambiguities++;
            if (rank(from) === rank(ambigFrom)) {
                sameRank++;
            }
            if (file(from) === file(ambigFrom)) {
                sameFile++;
            }
        }
    }
    if (ambiguities > 0) {
        if (sameRank > 0 && sameFile > 0) {
            /*
             * if there exists a similar moving piece on the same rank and file as
             * the move in question, use the square as the disambiguator
             */
            return algebraic(from);
        }
        else if (sameFile > 0) {
            /*
             * if the moving piece rests on the same file, use the rank symbol as the
             * disambiguator
             */
            return algebraic(from).charAt(1);
        }
        else {
            // else use the file symbol
            return algebraic(from).charAt(0);
        }
    }
    return '';
}
function addMove(moves, color, from, to, piece, captured = undefined, flags = BITS.NORMAL) {
    const r = rank(to);
    if (piece === PAWN && (r === RANK_1 || r === RANK_8)) {
        for (let i = 0; i < PROMOTIONS.length; i++) {
            const promotion = PROMOTIONS[i];
            moves.push({
                color,
                from,
                to,
                piece,
                captured,
                promotion,
                flags: flags | BITS.PROMOTION,
            });
        }
    }
    else {
        moves.push({
            color,
            from,
            to,
            piece,
            captured,
            flags,
        });
    }
}
function inferPieceType(san) {
    let pieceType = san.charAt(0);
    if (pieceType >= 'a' && pieceType <= 'h') {
        const matches = san.match(/[a-h]\d.*[a-h]\d/);
        if (matches) {
            return undefined;
        }
        return PAWN;
    }
    pieceType = pieceType.toLowerCase();
    if (pieceType === 'o') {
        return KING;
    }
    return pieceType;
}
// parses all of the decorators out of a SAN string
function strippedSan(move) {
    return move.replace(/=/, '').replace(/[+#]?[?!]*$/, '');
}
function trimFen(fen) {
    /*
     * remove last two fields in FEN string as they're not needed when checking
     * for repetition
     */
    return fen.split(' ').slice(0, 4).join(' ');
}
class Chess {
    _board = new Array(128);
    _turn = WHITE;
    _header = {};
    _kings = { w: EMPTY, b: EMPTY };
    _epSquare = -1;
    _halfMoves = 0;
    _moveNumber = 0;
    _history = [];
    _comments = {};
    _castling = { w: 0, b: 0 };
    _positionCounts = {};
    constructor(fen = DEFAULT_POSITION) {
        this.load(fen);
    }
    clear({ preserveHeaders = false } = {}) {
        this._board = new Array(128);
        this._kings = { w: EMPTY, b: EMPTY };
        this._turn = WHITE;
        this._castling = { w: 0, b: 0 };
        this._epSquare = EMPTY;
        this._halfMoves = 0;
        this._moveNumber = 1;
        this._history = [];
        this._comments = {};
        this._header = preserveHeaders ? this._header : {};
        /*
         * Delete the SetUp and FEN headers (if preserved), the board is empty and
         * these headers don't make sense in this state. They'll get added later
         * via .load() or .put()
         */
        delete this._header['SetUp'];
        delete this._header['FEN'];
        /*
         * Instantiate a proxy that keeps track of position occurrence counts for the purpose
         * of repetition checking. The getter and setter methods automatically handle trimming
         * irrelevent information from the fen, initialising new positions, and removing old
         * positions from the record if their counts are reduced to 0.
         */
        this._positionCounts = new Proxy({}, {
            get: (target, position) => position === 'length'
                ? Object.keys(target).length // length for unit testing
                : target?.[trimFen(position)] || 0,
            set: (target, position, count) => {
                const trimmedFen = trimFen(position);
                if (count === 0)
                    delete target[trimmedFen];
                else
                    target[trimmedFen] = count;
                return true;
            },
        });
    }
    removeHeader(key) {
        if (key in this._header) {
            delete this._header[key];
        }
    }
    load(fen, { skipValidation = false, preserveHeaders = false } = {}) {
        let tokens = fen.split(/\s+/);
        // append commonly omitted fen tokens
        if (tokens.length >= 2 && tokens.length < 6) {
            const adjustments = ['-', '-', '0', '1'];
            fen = tokens.concat(adjustments.slice(-(6 - tokens.length))).join(' ');
        }
        tokens = fen.split(/\s+/);
        if (!skipValidation) {
            const { ok, error } = validateFen(fen);
            if (!ok) {
                throw new Error(error);
            }
        }
        const position = tokens[0];
        let square = 0;
        this.clear({ preserveHeaders });
        for (let i = 0; i < position.length; i++) {
            const piece = position.charAt(i);
            if (piece === '/') {
                square += 8;
            }
            else if (isDigit(piece)) {
                square += parseInt(piece, 10);
            }
            else {
                const color = piece < 'a' ? WHITE : BLACK;
                this._put({ type: piece.toLowerCase(), color }, algebraic(square));
                square++;
            }
        }
        this._turn = tokens[1];
        if (tokens[2].indexOf('K') > -1) {
            this._castling.w |= BITS.KSIDE_CASTLE;
        }
        if (tokens[2].indexOf('Q') > -1) {
            this._castling.w |= BITS.QSIDE_CASTLE;
        }
        if (tokens[2].indexOf('k') > -1) {
            this._castling.b |= BITS.KSIDE_CASTLE;
        }
        if (tokens[2].indexOf('q') > -1) {
            this._castling.b |= BITS.QSIDE_CASTLE;
        }
        this._epSquare = tokens[3] === '-' ? EMPTY : Ox88[tokens[3]];
        this._halfMoves = parseInt(tokens[4], 10);
        this._moveNumber = parseInt(tokens[5], 10);
        this._updateSetup(fen);
        this._positionCounts[fen]++;
    }
    fen() {
        let empty = 0;
        let fen = '';
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            if (this._board[i]) {
                if (empty > 0) {
                    fen += empty;
                    empty = 0;
                }
                const { color, type: piece } = this._board[i];
                fen += color === WHITE ? piece.toUpperCase() : piece.toLowerCase();
            }
            else {
                empty++;
            }
            if ((i + 1) & 0x88) {
                if (empty > 0) {
                    fen += empty;
                }
                if (i !== Ox88.h1) {
                    fen += '/';
                }
                empty = 0;
                i += 8;
            }
        }
        let castling = '';
        if (this._castling[WHITE] & BITS.KSIDE_CASTLE) {
            castling += 'K';
        }
        if (this._castling[WHITE] & BITS.QSIDE_CASTLE) {
            castling += 'Q';
        }
        if (this._castling[BLACK] & BITS.KSIDE_CASTLE) {
            castling += 'k';
        }
        if (this._castling[BLACK] & BITS.QSIDE_CASTLE) {
            castling += 'q';
        }
        // do we have an empty castling flag?
        castling = castling || '-';
        let epSquare = '-';
        /*
         * only print the ep square if en passant is a valid move (pawn is present
         * and ep capture is not pinned)
         */
        if (this._epSquare !== EMPTY) {
            const bigPawnSquare = this._epSquare + (this._turn === WHITE ? 16 : -16);
            const squares = [bigPawnSquare + 1, bigPawnSquare - 1];
            for (const square of squares) {
                // is the square off the board?
                if (square & 0x88) {
                    continue;
                }
                const color = this._turn;
                // is there a pawn that can capture the epSquare?
                if (this._board[square]?.color === color &&
                    this._board[square]?.type === PAWN) {
                    // if the pawn makes an ep capture, does it leave it's king in check?
                    this._makeMove({
                        color,
                        from: square,
                        to: this._epSquare,
                        piece: PAWN,
                        captured: PAWN,
                        flags: BITS.EP_CAPTURE,
                    });
                    const isLegal = !this._isKingAttacked(color);
                    this._undoMove();
                    // if ep is legal, break and set the ep square in the FEN output
                    if (isLegal) {
                        epSquare = algebraic(this._epSquare);
                        break;
                    }
                }
            }
        }
        return [
            fen,
            this._turn,
            castling,
            epSquare,
            this._halfMoves,
            this._moveNumber,
        ].join(' ');
    }
    /*
     * Called when the initial board setup is changed with put() or remove().
     * modifies the SetUp and FEN properties of the header object. If the FEN
     * is equal to the default position, the SetUp and FEN are deleted the setup
     * is only updated if history.length is zero, ie moves haven't been made.
     */
    _updateSetup(fen) {
        if (this._history.length > 0)
            return;
        if (fen !== DEFAULT_POSITION) {
            this._header['SetUp'] = '1';
            this._header['FEN'] = fen;
        }
        else {
            delete this._header['SetUp'];
            delete this._header['FEN'];
        }
    }
    reset() {
        this.load(DEFAULT_POSITION);
    }
    get(square) {
        return this._board[Ox88[square]] || false;
    }
    put({ type, color }, square) {
        if (this._put({ type, color }, square)) {
            this._updateCastlingRights();
            this._updateEnPassantSquare();
            this._updateSetup(this.fen());
            return true;
        }
        return false;
    }
    _put({ type, color }, square) {
        // check for piece
        if (SYMBOLS.indexOf(type.toLowerCase()) === -1) {
            return false;
        }
        // check for valid square
        if (!(square in Ox88)) {
            return false;
        }
        const sq = Ox88[square];
        // don't let the user place more than one king
        if (type == KING &&
            !(this._kings[color] == EMPTY || this._kings[color] == sq)) {
            return false;
        }
        const currentPieceOnSquare = this._board[sq];
        // if one of the kings will be replaced by the piece from args, set the `_kings` respective entry to `EMPTY`
        if (currentPieceOnSquare && currentPieceOnSquare.type === KING) {
            this._kings[currentPieceOnSquare.color] = EMPTY;
        }
        this._board[sq] = { type: type, color: color };
        if (type === KING) {
            this._kings[color] = sq;
        }
        return true;
    }
    remove(square) {
        const piece = this.get(square);
        delete this._board[Ox88[square]];
        if (piece && piece.type === KING) {
            this._kings[piece.color] = EMPTY;
        }
        this._updateCastlingRights();
        this._updateEnPassantSquare();
        this._updateSetup(this.fen());
        return piece;
    }
    _updateCastlingRights() {
        const whiteKingInPlace = this._board[Ox88.e1]?.type === KING &&
            this._board[Ox88.e1]?.color === WHITE;
        const blackKingInPlace = this._board[Ox88.e8]?.type === KING &&
            this._board[Ox88.e8]?.color === BLACK;
        if (!whiteKingInPlace ||
            this._board[Ox88.a1]?.type !== ROOK ||
            this._board[Ox88.a1]?.color !== WHITE) {
            this._castling.w &= ~BITS.QSIDE_CASTLE;
        }
        if (!whiteKingInPlace ||
            this._board[Ox88.h1]?.type !== ROOK ||
            this._board[Ox88.h1]?.color !== WHITE) {
            this._castling.w &= ~BITS.KSIDE_CASTLE;
        }
        if (!blackKingInPlace ||
            this._board[Ox88.a8]?.type !== ROOK ||
            this._board[Ox88.a8]?.color !== BLACK) {
            this._castling.b &= ~BITS.QSIDE_CASTLE;
        }
        if (!blackKingInPlace ||
            this._board[Ox88.h8]?.type !== ROOK ||
            this._board[Ox88.h8]?.color !== BLACK) {
            this._castling.b &= ~BITS.KSIDE_CASTLE;
        }
    }
    _updateEnPassantSquare() {
        if (this._epSquare === EMPTY) {
            return;
        }
        const startSquare = this._epSquare + (this._turn === WHITE ? -16 : 16);
        const currentSquare = this._epSquare + (this._turn === WHITE ? 16 : -16);
        const attackers = [currentSquare + 1, currentSquare - 1];
        if (this._board[startSquare] !== null ||
            this._board[this._epSquare] !== null ||
            this._board[currentSquare]?.color !== swapColor(this._turn) ||
            this._board[currentSquare]?.type !== PAWN) {
            this._epSquare = EMPTY;
            return;
        }
        const canCapture = (square) => !(square & 0x88) &&
            this._board[square]?.color === this._turn &&
            this._board[square]?.type === PAWN;
        if (!attackers.some(canCapture)) {
            this._epSquare = EMPTY;
        }
    }
    _attacked(color, square) {
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            // did we run off the end of the board
            if (i & 0x88) {
                i += 7;
                continue;
            }
            // if empty square or wrong color
            if (this._board[i] === undefined || this._board[i].color !== color) {
                continue;
            }
            const piece = this._board[i];
            const difference = i - square;
            // skip - to/from square are the same
            if (difference === 0) {
                continue;
            }
            const index = difference + 119;
            if (ATTACKS[index] & PIECE_MASKS[piece.type]) {
                if (piece.type === PAWN) {
                    if (difference > 0) {
                        if (piece.color === WHITE)
                            return true;
                    }
                    else {
                        if (piece.color === BLACK)
                            return true;
                    }
                    continue;
                }
                // if the piece is a knight or a king
                if (piece.type === 'n' || piece.type === 'k')
                    return true;
                const offset = RAYS[index];
                let j = i + offset;
                let blocked = false;
                while (j !== square) {
                    if (this._board[j] != null) {
                        blocked = true;
                        break;
                    }
                    j += offset;
                }
                if (!blocked)
                    return true;
            }
        }
        return false;
    }
    _isKingAttacked(color) {
        const square = this._kings[color];
        return square === -1 ? false : this._attacked(swapColor(color), square);
    }
    isAttacked(square, attackedBy) {
        return this._attacked(attackedBy, Ox88[square]);
    }
    isCheck() {
        return this._isKingAttacked(this._turn);
    }
    inCheck() {
        return this.isCheck();
    }
    isCheckmate() {
        return this.isCheck() && this._moves().length === 0;
    }
    isStalemate() {
        return !this.isCheck() && this._moves().length === 0;
    }
    isInsufficientMaterial() {
        /*
         * k.b. vs k.b. (of opposite colors) with mate in 1:
         * 8/8/8/8/1b6/8/B1k5/K7 b - - 0 1
         *
         * k.b. vs k.n. with mate in 1:
         * 8/8/8/8/1n6/8/B7/K1k5 b - - 2 1
         */
        const pieces = {
            b: 0,
            n: 0,
            r: 0,
            q: 0,
            k: 0,
            p: 0,
        };
        const bishops = [];
        let numPieces = 0;
        let squareColor = 0;
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            squareColor = (squareColor + 1) % 2;
            if (i & 0x88) {
                i += 7;
                continue;
            }
            const piece = this._board[i];
            if (piece) {
                pieces[piece.type] = piece.type in pieces ? pieces[piece.type] + 1 : 1;
                if (piece.type === BISHOP) {
                    bishops.push(squareColor);
                }
                numPieces++;
            }
        }
        // k vs. k
        if (numPieces === 2) {
            return true;
        }
        else if (
        // k vs. kn .... or .... k vs. kb
        numPieces === 3 &&
            (pieces[BISHOP] === 1 || pieces[KNIGHT] === 1)) {
            return true;
        }
        else if (numPieces === pieces[BISHOP] + 2) {
            // kb vs. kb where any number of bishops are all on the same color
            let sum = 0;
            const len = bishops.length;
            for (let i = 0; i < len; i++) {
                sum += bishops[i];
            }
            if (sum === 0 || sum === len) {
                return true;
            }
        }
        return false;
    }
    _getRepetitionCount() {
        return this._positionCounts[this.fen()];
    }
    isThreefoldRepetition() {
        return this._getRepetitionCount() >= 3;
    }
    isDraw() {
        return (this._halfMoves >= 100 || // 50 moves per side = 100 half moves
            this.isStalemate() ||
            this.isInsufficientMaterial() ||
            this.isThreefoldRepetition());
    }
    isGameOver() {
        return this.isCheckmate() || this.isStalemate() || this.isDraw();
    }
    moves({ verbose = false, square = undefined, piece = undefined, } = {}) {
        const moves = this._moves({ square, piece });
        if (verbose) {
            return moves.map((move) => this._makePretty(move));
        }
        else {
            return moves.map((move) => this._moveToSan(move, moves));
        }
    }
    _moves({ legal = true, piece = undefined, square = undefined, } = {}) {
        const forSquare = square ? square.toLowerCase() : undefined;
        const forPiece = piece?.toLowerCase();
        const moves = [];
        const us = this._turn;
        const them = swapColor(us);
        let firstSquare = Ox88.a8;
        let lastSquare = Ox88.h1;
        let singleSquare = false;
        // are we generating moves for a single square?
        if (forSquare) {
            // illegal square, return empty moves
            if (!(forSquare in Ox88)) {
                return [];
            }
            else {
                firstSquare = lastSquare = Ox88[forSquare];
                singleSquare = true;
            }
        }
        for (let from = firstSquare; from <= lastSquare; from++) {
            // did we run off the end of the board
            if (from & 0x88) {
                from += 7;
                continue;
            }
            // empty square or opponent, skip
            if (!this._board[from] || this._board[from].color === them) {
                continue;
            }
            const { type } = this._board[from];
            let to;
            if (type === PAWN) {
                if (forPiece && forPiece !== type)
                    continue;
                // single square, non-capturing
                to = from + PAWN_OFFSETS[us][0];
                if (!this._board[to]) {
                    addMove(moves, us, from, to, PAWN);
                    // double square
                    to = from + PAWN_OFFSETS[us][1];
                    if (SECOND_RANK[us] === rank(from) && !this._board[to]) {
                        addMove(moves, us, from, to, PAWN, undefined, BITS.BIG_PAWN);
                    }
                }
                // pawn captures
                for (let j = 2; j < 4; j++) {
                    to = from + PAWN_OFFSETS[us][j];
                    if (to & 0x88)
                        continue;
                    if (this._board[to]?.color === them) {
                        addMove(moves, us, from, to, PAWN, this._board[to].type, BITS.CAPTURE);
                    }
                    else if (to === this._epSquare) {
                        addMove(moves, us, from, to, PAWN, PAWN, BITS.EP_CAPTURE);
                    }
                }
            }
            else {
                if (forPiece && forPiece !== type)
                    continue;
                for (let j = 0, len = PIECE_OFFSETS[type].length; j < len; j++) {
                    const offset = PIECE_OFFSETS[type][j];
                    to = from;
                    while (true) {
                        to += offset;
                        if (to & 0x88)
                            break;
                        if (!this._board[to]) {
                            addMove(moves, us, from, to, type);
                        }
                        else {
                            // own color, stop loop
                            if (this._board[to].color === us)
                                break;
                            addMove(moves, us, from, to, type, this._board[to].type, BITS.CAPTURE);
                            break;
                        }
                        /* break, if knight or king */
                        if (type === KNIGHT || type === KING)
                            break;
                    }
                }
            }
        }
        /*
         * check for castling if we're:
         *   a) generating all moves, or
         *   b) doing single square move generation on the king's square
         */
        if (forPiece === undefined || forPiece === KING) {
            if (!singleSquare || lastSquare === this._kings[us]) {
                // king-side castling
                if (this._castling[us] & BITS.KSIDE_CASTLE) {
                    const castlingFrom = this._kings[us];
                    const castlingTo = castlingFrom + 2;
                    if (!this._board[castlingFrom + 1] &&
                        !this._board[castlingTo] &&
                        !this._attacked(them, this._kings[us]) &&
                        !this._attacked(them, castlingFrom + 1) &&
                        !this._attacked(them, castlingTo)) {
                        addMove(moves, us, this._kings[us], castlingTo, KING, undefined, BITS.KSIDE_CASTLE);
                    }
                }
                // queen-side castling
                if (this._castling[us] & BITS.QSIDE_CASTLE) {
                    const castlingFrom = this._kings[us];
                    const castlingTo = castlingFrom - 2;
                    if (!this._board[castlingFrom - 1] &&
                        !this._board[castlingFrom - 2] &&
                        !this._board[castlingFrom - 3] &&
                        !this._attacked(them, this._kings[us]) &&
                        !this._attacked(them, castlingFrom - 1) &&
                        !this._attacked(them, castlingTo)) {
                        addMove(moves, us, this._kings[us], castlingTo, KING, undefined, BITS.QSIDE_CASTLE);
                    }
                }
            }
        }
        /*
         * return all pseudo-legal moves (this includes moves that allow the king
         * to be captured)
         */
        if (!legal || this._kings[us] === -1) {
            return moves;
        }
        // filter out illegal moves
        const legalMoves = [];
        for (let i = 0, len = moves.length; i < len; i++) {
            this._makeMove(moves[i]);
            if (!this._isKingAttacked(us)) {
                legalMoves.push(moves[i]);
            }
            this._undoMove();
        }
        return legalMoves;
    }
    move(move, { strict = false } = {}) {
        /*
         * The move function can be called with in the following parameters:
         *
         * .move('Nxb7')       <- argument is a case-sensitive SAN string
         *
         * .move({ from: 'h7', <- argument is a move object
         *         to :'h8',
         *         promotion: 'q' })
         *
         *
         * An optional strict argument may be supplied to tell chess.js to
         * strictly follow the SAN specification.
         */
        let moveObj = null;
        if (typeof move === 'string') {
            moveObj = this._moveFromSan(move, strict);
        }
        else if (typeof move === 'object') {
            const moves = this._moves();
            // convert the pretty move object to an ugly move object
            for (let i = 0, len = moves.length; i < len; i++) {
                if (move.from === algebraic(moves[i].from) &&
                    move.to === algebraic(moves[i].to) &&
                    (!('promotion' in moves[i]) || move.promotion === moves[i].promotion)) {
                    moveObj = moves[i];
                    break;
                }
            }
        }
        // failed to find move
        if (!moveObj) {
            if (typeof move === 'string') {
                throw new Error(`Invalid move: ${move}`);
            }
            else {
                throw new Error(`Invalid move: ${JSON.stringify(move)}`);
            }
        }
        /*
         * need to make a copy of move because we can't generate SAN after the move
         * is made
         */
        const prettyMove = this._makePretty(moveObj);
        this._makeMove(moveObj);
        this._positionCounts[prettyMove.after]++;
        return prettyMove;
    }
    _push(move) {
        this._history.push({
            move,
            kings: { b: this._kings.b, w: this._kings.w },
            turn: this._turn,
            castling: { b: this._castling.b, w: this._castling.w },
            epSquare: this._epSquare,
            halfMoves: this._halfMoves,
            moveNumber: this._moveNumber,
        });
    }
    _makeMove(move) {
        const us = this._turn;
        const them = swapColor(us);
        this._push(move);
        this._board[move.to] = this._board[move.from];
        delete this._board[move.from];
        // if ep capture, remove the captured pawn
        if (move.flags & BITS.EP_CAPTURE) {
            if (this._turn === BLACK) {
                delete this._board[move.to - 16];
            }
            else {
                delete this._board[move.to + 16];
            }
        }
        // if pawn promotion, replace with new piece
        if (move.promotion) {
            this._board[move.to] = { type: move.promotion, color: us };
        }
        // if we moved the king
        if (this._board[move.to].type === KING) {
            this._kings[us] = move.to;
            // if we castled, move the rook next to the king
            if (move.flags & BITS.KSIDE_CASTLE) {
                const castlingTo = move.to - 1;
                const castlingFrom = move.to + 1;
                this._board[castlingTo] = this._board[castlingFrom];
                delete this._board[castlingFrom];
            }
            else if (move.flags & BITS.QSIDE_CASTLE) {
                const castlingTo = move.to + 1;
                const castlingFrom = move.to - 2;
                this._board[castlingTo] = this._board[castlingFrom];
                delete this._board[castlingFrom];
            }
            // turn off castling
            this._castling[us] = 0;
        }
        // turn off castling if we move a rook
        if (this._castling[us]) {
            for (let i = 0, len = ROOKS[us].length; i < len; i++) {
                if (move.from === ROOKS[us][i].square &&
                    this._castling[us] & ROOKS[us][i].flag) {
                    this._castling[us] ^= ROOKS[us][i].flag;
                    break;
                }
            }
        }
        // turn off castling if we capture a rook
        if (this._castling[them]) {
            for (let i = 0, len = ROOKS[them].length; i < len; i++) {
                if (move.to === ROOKS[them][i].square &&
                    this._castling[them] & ROOKS[them][i].flag) {
                    this._castling[them] ^= ROOKS[them][i].flag;
                    break;
                }
            }
        }
        // if big pawn move, update the en passant square
        if (move.flags & BITS.BIG_PAWN) {
            if (us === BLACK) {
                this._epSquare = move.to - 16;
            }
            else {
                this._epSquare = move.to + 16;
            }
        }
        else {
            this._epSquare = EMPTY;
        }
        // reset the 50 move counter if a pawn is moved or a piece is captured
        if (move.piece === PAWN) {
            this._halfMoves = 0;
        }
        else if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {
            this._halfMoves = 0;
        }
        else {
            this._halfMoves++;
        }
        if (us === BLACK) {
            this._moveNumber++;
        }
        this._turn = them;
    }
    undo() {
        const move = this._undoMove();
        if (move) {
            const prettyMove = this._makePretty(move);
            this._positionCounts[prettyMove.after]--;
            return prettyMove;
        }
        return null;
    }
    _undoMove() {
        const old = this._history.pop();
        if (old === undefined) {
            return null;
        }
        const move = old.move;
        this._kings = old.kings;
        this._turn = old.turn;
        this._castling = old.castling;
        this._epSquare = old.epSquare;
        this._halfMoves = old.halfMoves;
        this._moveNumber = old.moveNumber;
        const us = this._turn;
        const them = swapColor(us);
        this._board[move.from] = this._board[move.to];
        this._board[move.from].type = move.piece; // to undo any promotions
        delete this._board[move.to];
        if (move.captured) {
            if (move.flags & BITS.EP_CAPTURE) {
                // en passant capture
                let index;
                if (us === BLACK) {
                    index = move.to - 16;
                }
                else {
                    index = move.to + 16;
                }
                this._board[index] = { type: PAWN, color: them };
            }
            else {
                // regular capture
                this._board[move.to] = { type: move.captured, color: them };
            }
        }
        if (move.flags & (BITS.KSIDE_CASTLE | BITS.QSIDE_CASTLE)) {
            let castlingTo, castlingFrom;
            if (move.flags & BITS.KSIDE_CASTLE) {
                castlingTo = move.to + 1;
                castlingFrom = move.to - 1;
            }
            else {
                castlingTo = move.to - 2;
                castlingFrom = move.to + 1;
            }
            this._board[castlingTo] = this._board[castlingFrom];
            delete this._board[castlingFrom];
        }
        return move;
    }
    pgn({ newline = '\n', maxWidth = 0, } = {}) {
        /*
         * using the specification from http://www.chessclub.com/help/PGN-spec
         * example for html usage: .pgn({ max_width: 72, newline_char: "<br />" })
         */
        const result = [];
        let headerExists = false;
        /* add the PGN header information */
        for (const i in this._header) {
            /*
             * TODO: order of enumerated properties in header object is not
             * guaranteed, see ECMA-262 spec (section 12.6.4)
             */
            result.push('[' + i + ' "' + this._header[i] + '"]' + newline);
            headerExists = true;
        }
        if (headerExists && this._history.length) {
            result.push(newline);
        }
        const appendComment = (moveString) => {
            const comment = this._comments[this.fen()];
            if (typeof comment !== 'undefined') {
                const delimiter = moveString.length > 0 ? ' ' : '';
                moveString = `${moveString}${delimiter}{${comment}}`;
            }
            return moveString;
        };
        // pop all of history onto reversed_history
        const reversedHistory = [];
        while (this._history.length > 0) {
            reversedHistory.push(this._undoMove());
        }
        const moves = [];
        let moveString = '';
        // special case of a commented starting position with no moves
        if (reversedHistory.length === 0) {
            moves.push(appendComment(''));
        }
        // build the list of moves.  a move_string looks like: "3. e3 e6"
        while (reversedHistory.length > 0) {
            moveString = appendComment(moveString);
            const move = reversedHistory.pop();
            // make TypeScript stop complaining about move being undefined
            if (!move) {
                break;
            }
            // if the position started with black to move, start PGN with #. ...
            if (!this._history.length && move.color === 'b') {
                const prefix = `${this._moveNumber}. ...`;
                // is there a comment preceding the first move?
                moveString = moveString ? `${moveString} ${prefix}` : prefix;
            }
            else if (move.color === 'w') {
                // store the previous generated move_string if we have one
                if (moveString.length) {
                    moves.push(moveString);
                }
                moveString = this._moveNumber + '.';
            }
            moveString =
                moveString + ' ' + this._moveToSan(move, this._moves({ legal: true }));
            this._makeMove(move);
        }
        // are there any other leftover moves?
        if (moveString.length) {
            moves.push(appendComment(moveString));
        }
        // is there a result?
        if (typeof this._header.Result !== 'undefined') {
            moves.push(this._header.Result);
        }
        /*
         * history should be back to what it was before we started generating PGN,
         * so join together moves
         */
        if (maxWidth === 0) {
            return result.join('') + moves.join(' ');
        }
        // TODO (jah): huh?
        const strip = function () {
            if (result.length > 0 && result[result.length - 1] === ' ') {
                result.pop();
                return true;
            }
            return false;
        };
        // NB: this does not preserve comment whitespace.
        const wrapComment = function (width, move) {
            for (const token of move.split(' ')) {
                if (!token) {
                    continue;
                }
                if (width + token.length > maxWidth) {
                    while (strip()) {
                        width--;
                    }
                    result.push(newline);
                    width = 0;
                }
                result.push(token);
                width += token.length;
                result.push(' ');
                width++;
            }
            if (strip()) {
                width--;
            }
            return width;
        };
        // wrap the PGN output at max_width
        let currentWidth = 0;
        for (let i = 0; i < moves.length; i++) {
            if (currentWidth + moves[i].length > maxWidth) {
                if (moves[i].includes('{')) {
                    currentWidth = wrapComment(currentWidth, moves[i]);
                    continue;
                }
            }
            // if the current move will push past max_width
            if (currentWidth + moves[i].length > maxWidth && i !== 0) {
                // don't end the line with whitespace
                if (result[result.length - 1] === ' ') {
                    result.pop();
                }
                result.push(newline);
                currentWidth = 0;
            }
            else if (i !== 0) {
                result.push(' ');
                currentWidth++;
            }
            result.push(moves[i]);
            currentWidth += moves[i].length;
        }
        return result.join('');
    }
    header(...args) {
        for (let i = 0; i < args.length; i += 2) {
            if (typeof args[i] === 'string' && typeof args[i + 1] === 'string') {
                this._header[args[i]] = args[i + 1];
            }
        }
        return this._header;
    }
    loadPgn(pgn, { strict = false, newlineChar = '\r?\n', } = {}) {
        function mask(str) {
            return str.replace(/\\/g, '\\');
        }
        function parsePgnHeader(header) {
            const headerObj = {};
            const headers = header.split(new RegExp(mask(newlineChar)));
            let key = '';
            let value = '';
            for (let i = 0; i < headers.length; i++) {
                const regex = /^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;
                key = headers[i].replace(regex, '$1');
                value = headers[i].replace(regex, '$2');
                if (key.trim().length > 0) {
                    headerObj[key] = value;
                }
            }
            return headerObj;
        }
        // strip whitespace from head/tail of PGN block
        pgn = pgn.trim();
        /*
         * RegExp to split header. Takes advantage of the fact that header and movetext
         * will always have a blank line between them (ie, two newline_char's). Handles
         * case where movetext is empty by matching newlineChar until end of string is
         * matched - effectively trimming from the end extra newlineChar.
         *
         * With default newline_char, will equal:
         * /^(\[((?:\r?\n)|.)*\])((?:\s*\r?\n){2}|(?:\s*\r?\n)*$)/
         */
        const headerRegex = new RegExp('^(\\[((?:' +
            mask(newlineChar) +
            ')|.)*\\])' +
            '((?:\\s*' +
            mask(newlineChar) +
            '){2}|(?:\\s*' +
            mask(newlineChar) +
            ')*$)');
        // If no header given, begin with moves.
        const headerRegexResults = headerRegex.exec(pgn);
        const headerString = headerRegexResults
            ? headerRegexResults.length >= 2
                ? headerRegexResults[1]
                : ''
            : '';
        // Put the board in the starting position
        this.reset();
        // parse PGN header
        const headers = parsePgnHeader(headerString);
        let fen = '';
        for (const key in headers) {
            // check to see user is including fen (possibly with wrong tag case)
            if (key.toLowerCase() === 'fen') {
                fen = headers[key];
            }
            this.header(key, headers[key]);
        }
        /*
         * the permissive parser should attempt to load a fen tag, even if it's the
         * wrong case and doesn't include a corresponding [SetUp "1"] tag
         */
        if (!strict) {
            if (fen) {
                this.load(fen, { preserveHeaders: true });
            }
        }
        else {
            /*
             * strict parser - load the starting position indicated by [Setup '1']
             * and [FEN position]
             */
            if (headers['SetUp'] === '1') {
                if (!('FEN' in headers)) {
                    throw new Error('Invalid PGN: FEN tag must be supplied with SetUp tag');
                }
                // don't clear the headers when loading
                this.load(headers['FEN'], { preserveHeaders: true });
            }
        }
        /*
         * NB: the regexes below that delete move numbers, recursive annotations,
         * and numeric annotation glyphs may also match text in comments. To
         * prevent this, we transform comments by hex-encoding them in place and
         * decoding them again after the other tokens have been deleted.
         *
         * While the spec states that PGN files should be ASCII encoded, we use
         * {en,de}codeURIComponent here to support arbitrary UTF8 as a convenience
         * for modern users
         */
        function toHex(s) {
            return Array.from(s)
                .map(function (c) {
                /*
                 * encodeURI doesn't transform most ASCII characters, so we handle
                 * these ourselves
                 */
                return c.charCodeAt(0) < 128
                    ? c.charCodeAt(0).toString(16)
                    : encodeURIComponent(c).replace(/%/g, '').toLowerCase();
            })
                .join('');
        }
        function fromHex(s) {
            return s.length == 0
                ? ''
                : decodeURIComponent('%' + (s.match(/.{1,2}/g) || []).join('%'));
        }
        const encodeComment = function (s) {
            s = s.replace(new RegExp(mask(newlineChar), 'g'), ' ');
            return `{${toHex(s.slice(1, s.length - 1))}}`;
        };
        const decodeComment = function (s) {
            if (s.startsWith('{') && s.endsWith('}')) {
                return fromHex(s.slice(1, s.length - 1));
            }
        };
        // delete header to get the moves
        let ms = pgn
            .replace(headerString, '')
            .replace(
        // encode comments so they don't get deleted below
        new RegExp(`({[^}]*})+?|;([^${mask(newlineChar)}]*)`, 'g'), function (_match, bracket, semicolon) {
            return bracket !== undefined
                ? encodeComment(bracket)
                : ' ' + encodeComment(`{${semicolon.slice(1)}}`);
        })
            .replace(new RegExp(mask(newlineChar), 'g'), ' ');
        // delete recursive annotation variations
        const ravRegex = /(\([^()]+\))+?/g;
        while (ravRegex.test(ms)) {
            ms = ms.replace(ravRegex, '');
        }
        // delete move numbers
        ms = ms.replace(/\d+\.(\.\.)?/g, '');
        // delete ... indicating black to move
        ms = ms.replace(/\.\.\./g, '');
        /* delete numeric annotation glyphs */
        ms = ms.replace(/\$\d+/g, '');
        // trim and get array of moves
        let moves = ms.trim().split(new RegExp(/\s+/));
        // delete empty entries
        moves = moves.filter((move) => move !== '');
        let result = '';
        for (let halfMove = 0; halfMove < moves.length; halfMove++) {
            const comment = decodeComment(moves[halfMove]);
            if (comment !== undefined) {
                this._comments[this.fen()] = comment;
                continue;
            }
            const move = this._moveFromSan(moves[halfMove], strict);
            // invalid move
            if (move == null) {
                // was the move an end of game marker
                if (TERMINATION_MARKERS.indexOf(moves[halfMove]) > -1) {
                    result = moves[halfMove];
                }
                else {
                    throw new Error(`Invalid move in PGN: ${moves[halfMove]}`);
                }
            }
            else {
                // reset the end of game marker if making a valid move
                result = '';
                this._makeMove(move);
                this._positionCounts[this.fen()]++;
            }
        }
        /*
         * Per section 8.2.6 of the PGN spec, the Result tag pair must match match
         * the termination marker. Only do this when headers are present, but the
         * result tag is missing
         */
        if (result && Object.keys(this._header).length && !this._header['Result']) {
            this.header('Result', result);
        }
    }
    /*
     * Convert a move from 0x88 coordinates to Standard Algebraic Notation
     * (SAN)
     *
     * @param {boolean} strict Use the strict SAN parser. It will throw errors
     * on overly disambiguated moves (see below):
     *
     * r1bqkbnr/ppp2ppp/2n5/1B1pP3/4P3/8/PPPP2PP/RNBQK1NR b KQkq - 2 4
     * 4. ... Nge7 is overly disambiguated because the knight on c6 is pinned
     * 4. ... Ne7 is technically the valid SAN
     */
    _moveToSan(move, moves) {
        let output = '';
        if (move.flags & BITS.KSIDE_CASTLE) {
            output = 'O-O';
        }
        else if (move.flags & BITS.QSIDE_CASTLE) {
            output = 'O-O-O';
        }
        else {
            if (move.piece !== PAWN) {
                const disambiguator = getDisambiguator(move, moves);
                output += move.piece.toUpperCase() + disambiguator;
            }
            if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {
                if (move.piece === PAWN) {
                    output += algebraic(move.from)[0];
                }
                output += 'x';
            }
            output += algebraic(move.to);
            if (move.promotion) {
                output += '=' + move.promotion.toUpperCase();
            }
        }
        this._makeMove(move);
        if (this.isCheck()) {
            if (this.isCheckmate()) {
                output += '#';
            }
            else {
                output += '+';
            }
        }
        this._undoMove();
        return output;
    }
    // convert a move from Standard Algebraic Notation (SAN) to 0x88 coordinates
    _moveFromSan(move, strict = false) {
        // strip off any move decorations: e.g Nf3+?! becomes Nf3
        const cleanMove = strippedSan(move);
        let pieceType = inferPieceType(cleanMove);
        let moves = this._moves({ legal: true, piece: pieceType });
        // strict parser
        for (let i = 0, len = moves.length; i < len; i++) {
            if (cleanMove === strippedSan(this._moveToSan(moves[i], moves))) {
                return moves[i];
            }
        }
        // the strict parser failed
        if (strict) {
            return null;
        }
        let piece = undefined;
        let matches = undefined;
        let from = undefined;
        let to = undefined;
        let promotion = undefined;
        /*
         * The default permissive (non-strict) parser allows the user to parse
         * non-standard chess notations. This parser is only run after the strict
         * Standard Algebraic Notation (SAN) parser has failed.
         *
         * When running the permissive parser, we'll run a regex to grab the piece, the
         * to/from square, and an optional promotion piece. This regex will
         * parse common non-standard notation like: Pe2-e4, Rc1c4, Qf3xf7,
         * f7f8q, b1c3
         *
         * NOTE: Some positions and moves may be ambiguous when using the permissive
         * parser. For example, in this position: 6k1/8/8/B7/8/8/8/BN4K1 w - - 0 1,
         * the move b1c3 may be interpreted as Nc3 or B1c3 (a disambiguated bishop
         * move). In these cases, the permissive parser will default to the most
         * basic interpretation (which is b1c3 parsing to Nc3).
         */
        let overlyDisambiguated = false;
        matches = cleanMove.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);
        if (matches) {
            piece = matches[1];
            from = matches[2];
            to = matches[3];
            promotion = matches[4];
            if (from.length == 1) {
                overlyDisambiguated = true;
            }
        }
        else {
            /*
             * The [a-h]?[1-8]? portion of the regex below handles moves that may be
             * overly disambiguated (e.g. Nge7 is unnecessary and non-standard when
             * there is one legal knight move to e7). In this case, the value of
             * 'from' variable will be a rank or file, not a square.
             */
            matches = cleanMove.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/);
            if (matches) {
                piece = matches[1];
                from = matches[2];
                to = matches[3];
                promotion = matches[4];
                if (from.length == 1) {
                    overlyDisambiguated = true;
                }
            }
        }
        pieceType = inferPieceType(cleanMove);
        moves = this._moves({
            legal: true,
            piece: piece ? piece : pieceType,
        });
        if (!to) {
            return null;
        }
        for (let i = 0, len = moves.length; i < len; i++) {
            if (!from) {
                // if there is no from square, it could be just 'x' missing from a capture
                if (cleanMove ===
                    strippedSan(this._moveToSan(moves[i], moves)).replace('x', '')) {
                    return moves[i];
                }
                // hand-compare move properties with the results from our permissive regex
            }
            else if ((!piece || piece.toLowerCase() == moves[i].piece) &&
                Ox88[from] == moves[i].from &&
                Ox88[to] == moves[i].to &&
                (!promotion || promotion.toLowerCase() == moves[i].promotion)) {
                return moves[i];
            }
            else if (overlyDisambiguated) {
                /*
                 * SPECIAL CASE: we parsed a move string that may have an unneeded
                 * rank/file disambiguator (e.g. Nge7).  The 'from' variable will
                 */
                const square = algebraic(moves[i].from);
                if ((!piece || piece.toLowerCase() == moves[i].piece) &&
                    Ox88[to] == moves[i].to &&
                    (from == square[0] || from == square[1]) &&
                    (!promotion || promotion.toLowerCase() == moves[i].promotion)) {
                    return moves[i];
                }
            }
        }
        return null;
    }
    ascii() {
        let s = '   +------------------------+\n';
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            // display the rank
            if (file(i) === 0) {
                s += ' ' + '87654321'[rank(i)] + ' |';
            }
            if (this._board[i]) {
                const piece = this._board[i].type;
                const color = this._board[i].color;
                const symbol = color === WHITE ? piece.toUpperCase() : piece.toLowerCase();
                s += ' ' + symbol + ' ';
            }
            else {
                s += ' . ';
            }
            if ((i + 1) & 0x88) {
                s += '|\n';
                i += 8;
            }
        }
        s += '   +------------------------+\n';
        s += '     a  b  c  d  e  f  g  h';
        return s;
    }
    perft(depth) {
        const moves = this._moves({ legal: false });
        let nodes = 0;
        const color = this._turn;
        for (let i = 0, len = moves.length; i < len; i++) {
            this._makeMove(moves[i]);
            if (!this._isKingAttacked(color)) {
                if (depth - 1 > 0) {
                    nodes += this.perft(depth - 1);
                }
                else {
                    nodes++;
                }
            }
            this._undoMove();
        }
        return nodes;
    }
    // pretty = external move object
    _makePretty(uglyMove) {
        const { color, piece, from, to, flags, captured, promotion } = uglyMove;
        let prettyFlags = '';
        for (const flag in BITS) {
            if (BITS[flag] & flags) {
                prettyFlags += FLAGS[flag];
            }
        }
        const fromAlgebraic = algebraic(from);
        const toAlgebraic = algebraic(to);
        const move = {
            color,
            piece,
            from: fromAlgebraic,
            to: toAlgebraic,
            san: this._moveToSan(uglyMove, this._moves({ legal: true })),
            flags: prettyFlags,
            lan: fromAlgebraic + toAlgebraic,
            before: this.fen(),
            after: '',
        };
        // generate the FEN for the 'after' key
        this._makeMove(uglyMove);
        move.after = this.fen();
        this._undoMove();
        if (captured) {
            move.captured = captured;
        }
        if (promotion) {
            move.promotion = promotion;
            move.lan += promotion;
        }
        return move;
    }
    turn() {
        return this._turn;
    }
    board() {
        const output = [];
        let row = [];
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            if (this._board[i] == null) {
                row.push(null);
            }
            else {
                row.push({
                    square: algebraic(i),
                    type: this._board[i].type,
                    color: this._board[i].color,
                });
            }
            if ((i + 1) & 0x88) {
                output.push(row);
                row = [];
                i += 8;
            }
        }
        return output;
    }
    squareColor(square) {
        if (square in Ox88) {
            const sq = Ox88[square];
            return (rank(sq) + file(sq)) % 2 === 0 ? 'light' : 'dark';
        }
        return null;
    }
    history({ verbose = false } = {}) {
        const reversedHistory = [];
        const moveHistory = [];
        while (this._history.length > 0) {
            reversedHistory.push(this._undoMove());
        }
        while (true) {
            const move = reversedHistory.pop();
            if (!move) {
                break;
            }
            if (verbose) {
                moveHistory.push(this._makePretty(move));
            }
            else {
                moveHistory.push(this._moveToSan(move, this._moves()));
            }
            this._makeMove(move);
        }
        return moveHistory;
    }
    _pruneComments() {
        const reversedHistory = [];
        const currentComments = {};
        const copyComment = (fen) => {
            if (fen in this._comments) {
                currentComments[fen] = this._comments[fen];
            }
        };
        while (this._history.length > 0) {
            reversedHistory.push(this._undoMove());
        }
        copyComment(this.fen());
        while (true) {
            const move = reversedHistory.pop();
            if (!move) {
                break;
            }
            this._makeMove(move);
            copyComment(this.fen());
        }
        this._comments = currentComments;
    }
    getComment() {
        return this._comments[this.fen()];
    }
    setComment(comment) {
        this._comments[this.fen()] = comment.replace('{', '[').replace('}', ']');
    }
    deleteComment() {
        const comment = this._comments[this.fen()];
        delete this._comments[this.fen()];
        return comment;
    }
    getComments() {
        this._pruneComments();
        return Object.keys(this._comments).map((fen) => {
            return { fen: fen, comment: this._comments[fen] };
        });
    }
    deleteComments() {
        this._pruneComments();
        return Object.keys(this._comments).map((fen) => {
            const comment = this._comments[fen];
            delete this._comments[fen];
            return { fen: fen, comment: comment };
        });
    }
    setCastlingRights(color, rights) {
        for (const side of [KING, QUEEN]) {
            if (rights[side] !== undefined) {
                if (rights[side]) {
                    this._castling[color] |= SIDES[side];
                }
                else {
                    this._castling[color] &= ~SIDES[side];
                }
            }
        }
        this._updateCastlingRights();
        const result = this.getCastlingRights(color);
        return ((rights[KING] === undefined || rights[KING] === result[KING]) &&
            (rights[QUEEN] === undefined || rights[QUEEN] === result[QUEEN]));
    }
    getCastlingRights(color) {
        return {
            [KING]: (this._castling[color] & SIDES[KING]) !== 0,
            [QUEEN]: (this._castling[color] & SIDES[QUEEN]) !== 0,
        };
    }
    moveNumber() {
        return this._moveNumber;
    }
}
//# sourceMappingURL=chess.js.map

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/components/chess/chessboard.css":
/*!***********************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/components/chess/chessboard.css ***!
  \***********************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./assets/img/boards/green.png */ "./src/components/chess/assets/img/boards/green.png"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.board {
    text-align: left;
    background-size: contain;
    background-repeat: no-repeat;
    position: relative;
    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_0___});
}
.board > .squares div {
    width: 12.5%;
    float: left;
    padding: 0;
    position: relative; /* Pieces will have absolute position relative to the square */
}
.board > .squares div:after {
    content: "";
    display: block;
    padding-bottom: 100%; /* Ensure that height of square always equals width of square */
}
.player{
    column-count:2;
}
.player .name{
    clear:both;
    padding-top:1px;
    text-align: right;
    padding-right:4px;
    line-height:4vh;
}
.player .captures{
    float:left;
}
.player .score{
    float:left;
    margin-left:5px;
    margin-top:6px;
    font-size:10pt;
}
.player .captures .piece{
    position:static;
    height:4vh;
    width:4vh;
    transform:none;
    margin-top:0;
    margin-bottom:-11px;
}
.player.white .captures span{
    background-color:rgb(82,82,82);
    padding-bottom: 7px;
}
.player .captures .p .piece:first-child{
    padding-left:4px;
}
.player .captures .p .piece{
    margin-left:-8px;
    margin-right:-5px;
}
.player .captures .n .piece{
    margin-left: -6px;
    margin-right: -3px;
}
.player .captures .b .piece{
    margin-left: -5px;
    margin-right: -2px;
}
.player .captures .r .piece{
    margin-left: -6px;
    margin-right: -5px;
}
.player .captures .q .piece{
    margin-bottom:-10px;
    margin-left: -2px;
    margin-right: 0px;
}
.piece {
    position: absolute;
    z-index:2;
    width: 100%;
    height: 100%;
    opacity: 1;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
.board > .squares div.source {
    background-color: rgb(255, 255, 51, 0.3);
}
.board > .squares div.target {
    background-color: rgb(255, 255, 51, 0.4);
}
.board > .squares div.right-clicked {
    background-color: rgb(235, 97, 80, 0.8);
}
.board .piece.allow-drag {
    cursor:grab;
}
.board .piece.dragging {
    z-index: 1000;
    cursor:pointer;
}
.clearer{
    display:block;
    clear:both;
    line-height:0;
    height:0;
    padding:0;
    margin:0;
}
.board .squares div .result{
    position:absolute;
    z-index:10.000;
}
.board .squares div .result.win{
    right: 0;
    width:34%;
    height:34%;
}
.board .square div .result.loose{
    top:-2%;
    right: 0;
    width:32%;
    height:34%px;
}
.board-svg{
    position:absolute;
    z-index:1;
}
.board-svg .arrow{
    fill:rgba(255, 170, 0, 0.8);
    stroke-width:0;
}
.board-svg .arrow:hover{
    fill:red;
    stroke-width:0;
}`, "",{"version":3,"sources":["webpack://./src/components/chess/chessboard.css"],"names":[],"mappings":"AAAA;IACI,gBAAgB;IAChB,wBAAwB;IACxB,4BAA4B;IAC5B,kBAAkB;IAClB,yDAAsD;AAC1D;AACA;IACI,YAAY;IACZ,WAAW;IACX,UAAU;IACV,kBAAkB,EAAE,8DAA8D;AACtF;AACA;IACI,WAAW;IACX,cAAc;IACd,oBAAoB,EAAE,+DAA+D;AACzF;AACA;IACI,cAAc;AAClB;AACA;IACI,UAAU;IACV,eAAe;IACf,iBAAiB;IACjB,iBAAiB;IACjB,eAAe;AACnB;AACA;IACI,UAAU;AACd;AACA;IACI,UAAU;IACV,eAAe;IACf,cAAc;IACd,cAAc;AAClB;AACA;IACI,eAAe;IACf,UAAU;IACV,SAAS;IACT,cAAc;IACd,YAAY;IACZ,mBAAmB;AACvB;AACA;IACI,8BAA8B;IAC9B,mBAAmB;AACvB;AACA;IACI,gBAAgB;AACpB;AACA;IACI,gBAAgB;IAChB,iBAAiB;AACrB;AACA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;AACA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;AACA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;AACA;IACI,mBAAmB;IACnB,iBAAiB;IACjB,iBAAiB;AACrB;AACA;IACI,kBAAkB;IAClB,SAAS;IACT,WAAW;IACX,YAAY;IACZ,UAAU;IACV,QAAQ;IACR,SAAS;IACT,gCAAgC;AACpC;AACA;IACI,wCAAwC;AAC5C;AACA;IACI,wCAAwC;AAC5C;AACA;IACI,uCAAuC;AAC3C;AACA;IACI,WAAW;AACf;AACA;IACI,aAAa;IACb,cAAc;AAClB;AACA;IACI,aAAa;IACb,UAAU;IACV,aAAa;IACb,QAAQ;IACR,SAAS;IACT,QAAQ;AACZ;AACA;IACI,iBAAiB;IACjB,cAAc;AAClB;AACA;IACI,QAAQ;IACR,SAAS;IACT,UAAU;AACd;AACA;IACI,OAAO;IACP,QAAQ;IACR,SAAS;IACT,YAAY;AAChB;AACA;IACI,iBAAiB;IACjB,SAAS;AACb;AACA;IACI,2BAA2B;IAC3B,cAAc;AAClB;AACA;IACI,QAAQ;IACR,cAAc;AAClB","sourcesContent":[".board {\r\n    text-align: left;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    position: relative;\r\n    background-image: url(\"./assets/img/boards/green.png\");\r\n}\r\n.board > .squares div {\r\n    width: 12.5%;\r\n    float: left;\r\n    padding: 0;\r\n    position: relative; /* Pieces will have absolute position relative to the square */\r\n}\r\n.board > .squares div:after {\r\n    content: \"\";\r\n    display: block;\r\n    padding-bottom: 100%; /* Ensure that height of square always equals width of square */\r\n}\r\n.player{\r\n    column-count:2;\r\n}\r\n.player .name{\r\n    clear:both;\r\n    padding-top:1px;\r\n    text-align: right;\r\n    padding-right:4px;\r\n    line-height:4vh;\r\n}\r\n.player .captures{\r\n    float:left;\r\n}\r\n.player .score{\r\n    float:left;\r\n    margin-left:5px;\r\n    margin-top:6px;\r\n    font-size:10pt;\r\n}\r\n.player .captures .piece{\r\n    position:static;\r\n    height:4vh;\r\n    width:4vh;\r\n    transform:none;\r\n    margin-top:0;\r\n    margin-bottom:-11px;\r\n}\r\n.player.white .captures span{\r\n    background-color:rgb(82,82,82);\r\n    padding-bottom: 7px;\r\n}\r\n.player .captures .p .piece:first-child{\r\n    padding-left:4px;\r\n}\r\n.player .captures .p .piece{\r\n    margin-left:-8px;\r\n    margin-right:-5px;\r\n}\r\n.player .captures .n .piece{\r\n    margin-left: -6px;\r\n    margin-right: -3px;\r\n}\r\n.player .captures .b .piece{\r\n    margin-left: -5px;\r\n    margin-right: -2px;\r\n}\r\n.player .captures .r .piece{\r\n    margin-left: -6px;\r\n    margin-right: -5px;\r\n}\r\n.player .captures .q .piece{\r\n    margin-bottom:-10px;\r\n    margin-left: -2px;\r\n    margin-right: 0px;\r\n}\r\n.piece {\r\n    position: absolute;\r\n    z-index:2;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 1;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n.board > .squares div.source {\r\n    background-color: rgb(255, 255, 51, 0.3);\r\n}\r\n.board > .squares div.target {\r\n    background-color: rgb(255, 255, 51, 0.4);\r\n}\r\n.board > .squares div.right-clicked {\r\n    background-color: rgb(235, 97, 80, 0.8);\r\n}\r\n.board .piece.allow-drag {\r\n    cursor:grab;\r\n}\r\n.board .piece.dragging {\r\n    z-index: 1000;\r\n    cursor:pointer;\r\n}\r\n.clearer{\r\n    display:block;\r\n    clear:both;\r\n    line-height:0;\r\n    height:0;\r\n    padding:0;\r\n    margin:0;\r\n}\r\n.board .squares div .result{\r\n    position:absolute;\r\n    z-index:10.000;\r\n}\r\n.board .squares div .result.win{\r\n    right: 0;\r\n    width:34%;\r\n    height:34%;\r\n}\r\n.board .square div .result.loose{\r\n    top:-2%;\r\n    right: 0;\r\n    width:32%;\r\n    height:34%px;\r\n}\r\n.board-svg{\r\n    position:absolute;\r\n    z-index:1;\r\n}\r\n.board-svg .arrow{\r\n    fill:rgba(255, 170, 0, 0.8);\r\n    stroke-width:0;\r\n}\r\n.board-svg .arrow:hover{\r\n    fill:red;\r\n    stroke-width:0;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/pages/index/index.css":
/*!*************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/pages/index/index.css ***!
  \*************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `#menu{height:100vh;position:absolute;width:320px;}
#menu > .top{
    position:absolute;
    height:80px;
    left:0;
    right:0;
}
#menu input[type="file"] { display: none;}
#menu .custom-file-upload {
    margin-top:20px;
    border-radius:8px;
    border: 1px solid #ccc;
    display: inline-block;
    padding: 8px;
    cursor: pointer;
    margin-left:10px;
}
#menu > .items{position:absolute;top:65px;bottom:0;left:0;right:0;border-radius:2px;background-color:rgb(54,54,54);overflow:hidden;overflow-y:scroll;scrollbar-color:rgb(67,67,67) rgb(57,57,57);}
#menu > .items > div{margin:2px 4px 2px 10px;padding:5px 8px;border-radius:8px;cursor:pointer;}
#menu > .items > div.active{outline:1px solid rgb(98, 98, 98);background-color:rgb(62,62,62)}
#menu > .items > div:hover{background-color:rgb(62, 62, 62)}
.main{margin-left:320px;}
.main > .left {float:left;width:49%;margin-top:55px;}
.main > .left > .padding{padding:10px 5%;}
.main > .right{width:50%;float:left;margin-top:91px;height:200px;}
.main > .right > #autoplay {
    margin-bottom: 10px;
    display:none;
}
.main > .right > #autoplay > img{
    background-color:white;
    padding:4px 8px;
    border-radius:4px;
    cursor:pointer;
}
.main > .right > #autoplay > img:hover{
    outline:2px solid #FC0;
}
.main > .right > #autoplay > img.disabled{
    background-color:grey;
    outline:none;
}
.main > .right > #log{padding:0;line-height:22px;}
.main > .right > #log > span{cursor:pointer;}
@media only screen and (max-width: 750px) {
    .main > .board {float:none;width:100%;}
    .main > .right{float:none;width:100%;margin-top:0;}
}`, "",{"version":3,"sources":["webpack://./src/pages/index/index.css"],"names":[],"mappings":"AAAA,MAAM,YAAY,CAAC,iBAAiB,CAAC,WAAW,CAAC;AACjD;IACI,iBAAiB;IACjB,WAAW;IACX,MAAM;IACN,OAAO;AACX;AACA,2BAA2B,aAAa,CAAC;AACzC;IACI,eAAe;IACf,iBAAiB;IACjB,sBAAsB;IACtB,qBAAqB;IACrB,YAAY;IACZ,eAAe;IACf,gBAAgB;AACpB;AACA,eAAe,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC,8BAA8B,CAAC,eAAe,CAAC,iBAAiB,CAAC,2CAA2C,CAAC;AACjM,qBAAqB,uBAAuB,CAAC,eAAe,CAAC,iBAAiB,CAAC,cAAc,CAAC;AAC9F,4BAA4B,iCAAiC,CAAC,8BAA8B;AAC5F,2BAA2B,gCAAgC;AAC3D,MAAM,iBAAiB,CAAC;AACxB,eAAe,UAAU,CAAC,SAAS,CAAC,eAAe,CAAC;AACpD,yBAAyB,eAAe,CAAC;AACzC,eAAe,SAAS,CAAC,UAAU,CAAC,eAAe,CAAC,YAAY,CAAC;AACjE;IACI,mBAAmB;IACnB,YAAY;AAChB;AACA;IACI,sBAAsB;IACtB,eAAe;IACf,iBAAiB;IACjB,cAAc;AAClB;AACA;IACI,sBAAsB;AAC1B;AACA;IACI,qBAAqB;IACrB,YAAY;AAChB;AACA,sBAAsB,SAAS,CAAC,gBAAgB,CAAC;AACjD,6BAA6B,cAAc,CAAC;AAC5C;IACI,gBAAgB,UAAU,CAAC,UAAU,CAAC;IACtC,eAAe,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC;AACtD","sourcesContent":["#menu{height:100vh;position:absolute;width:320px;}\r\n#menu > .top{\r\n    position:absolute;\r\n    height:80px;\r\n    left:0;\r\n    right:0;\r\n}\r\n#menu input[type=\"file\"] { display: none;}\r\n#menu .custom-file-upload {\r\n    margin-top:20px;\r\n    border-radius:8px;\r\n    border: 1px solid #ccc;\r\n    display: inline-block;\r\n    padding: 8px;\r\n    cursor: pointer;\r\n    margin-left:10px;\r\n}\r\n#menu > .items{position:absolute;top:65px;bottom:0;left:0;right:0;border-radius:2px;background-color:rgb(54,54,54);overflow:hidden;overflow-y:scroll;scrollbar-color:rgb(67,67,67) rgb(57,57,57);}\r\n#menu > .items > div{margin:2px 4px 2px 10px;padding:5px 8px;border-radius:8px;cursor:pointer;}\r\n#menu > .items > div.active{outline:1px solid rgb(98, 98, 98);background-color:rgb(62,62,62)}\r\n#menu > .items > div:hover{background-color:rgb(62, 62, 62)}\r\n.main{margin-left:320px;}\r\n.main > .left {float:left;width:49%;margin-top:55px;}\r\n.main > .left > .padding{padding:10px 5%;}\r\n.main > .right{width:50%;float:left;margin-top:91px;height:200px;}\r\n.main > .right > #autoplay {\r\n    margin-bottom: 10px;\r\n    display:none;\r\n}\r\n.main > .right > #autoplay > img{\r\n    background-color:white;\r\n    padding:4px 8px;\r\n    border-radius:4px;\r\n    cursor:pointer;\r\n}\r\n.main > .right > #autoplay > img:hover{\r\n    outline:2px solid #FC0;\r\n}\r\n.main > .right > #autoplay > img.disabled{\r\n    background-color:grey;\r\n    outline:none;\r\n}\r\n.main > .right > #log{padding:0;line-height:22px;}\r\n.main > .right > #log > span{cursor:pointer;}\r\n@media only screen and (max-width: 750px) {\r\n    .main > .board {float:none;width:100%;}\r\n    .main > .right{float:none;width:100%;margin-top:0;}\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/pages/master.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/pages/master.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `body{padding:0;margin:0;background-color:rgb(57,57,57);color:rgb(245, 245, 245);}`, "",{"version":3,"sources":["webpack://./src/pages/master.css"],"names":[],"mappings":"AAAA,KAAK,SAAS,CAAC,QAAQ,CAAC,8BAA8B,CAAC,wBAAwB,CAAC","sourcesContent":["body{padding:0;margin:0;background-color:rgb(57,57,57);color:rgb(245, 245, 245);}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {



module.exports = function (url, options) {
  if (!options) {
    options = {};
  }
  if (!url) {
    return url;
  }
  url = String(url.__esModule ? url.default : url);

  // If url is already wrapped in quotes, remove them
  if (/^['"].*['"]$/.test(url)) {
    url = url.slice(1, -1);
  }
  if (options.hash) {
    url += options.hash;
  }

  // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls
  if (/["'() \t\n]|(%20)/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }
  return url;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {



module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./src/components/chess/chessboard.css":
/*!*********************************************!*\
  !*** ./src/components/chess/chessboard.css ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_chessboard_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!./chessboard.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/chess/chessboard.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_chessboard_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_chessboard_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_chessboard_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_chessboard_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/pages/index/index.css":
/*!***********************************!*\
  !*** ./src/pages/index/index.css ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/pages/index/index.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/pages/master.css":
/*!******************************!*\
  !*** ./src/pages/master.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./master.css */ "./node_modules/css-loader/dist/cjs.js!./src/pages/master.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {



var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {



var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./src/components/chess/Arrows.ts":
/*!****************************************!*\
  !*** ./src/components/chess/Arrows.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const Shared_1 = __webpack_require__(/*! ./Shared */ "./src/components/chess/Shared.ts");
class Arrows {
    constructor(chessboard) {
        this.horizontal = ["a", "b", "c", "d", "e", "f", "g", "h"];
        this.vertical = ["8", "7", "6", "5", "4", "3", "2", "1"];
        this.svg = null;
        this.strokeWidth = 2.8;
        this.rightClickedSquare = null;
        this.chessboard = chessboard;
        chessboard.callbacks.onRotate = this.onChessboardRotate;
        if (chessboard.isRotated)
            this.onChessboardRotate(true);
        document.addEventListener("mousedown", (event) => this.handleMouseDown(event));
        document.addEventListener("mouseup", (event) => this.handleMouseUp(event));
        document.addEventListener("contextmenu", (event) => this.handleContextMenu(event));
    }
    handleMouseDown(event) {
        let isRightClick = event.button && event.button == 2;
        if (isRightClick && event.target && Shared_1.Shared.isClickOnChessboard(event, this.chessboard)) {
            this.rightClickedSquare = Shared_1.Shared.getClickedSquare(event, this.chessboard);
            event.preventDefault();
        }
        else if (this.svg) {
            this.chessboard.element.removeChild(this.svg);
            this.svg = null;
        }
    }
    handleMouseUp(event) {
        let isRightClick = event.button && event.button == 2;
        if (isRightClick && event.target && Shared_1.Shared.isClickOnChessboard(event, this.chessboard)) {
            let targetSquare = Shared_1.Shared.getClickedSquare(event, this.chessboard);
            if (targetSquare) {
                if (this.rightClickedSquare === targetSquare) {
                    if (targetSquare.classList.contains("right-clicked")) {
                        targetSquare.classList.remove("right-clicked");
                    }
                    else {
                        targetSquare.classList.add("right-clicked");
                    }
                }
                else if (this.rightClickedSquare) {
                    let sourceSquareKey = this.rightClickedSquare.getAttribute("data-key");
                    let targetSquareKey = targetSquare.getAttribute("data-key");
                    this.drawArrow(sourceSquareKey, targetSquareKey);
                }
            }
            event.preventDefault();
        }
        this.rightClickedSquare = null;
    }
    handleContextMenu(event) {
        if (Shared_1.Shared.isClickOnChessboard(event, this.chessboard)) {
            event.preventDefault();
        }
    }
    onChessboardRotate(isRotated) {
        this.horizontal = this.horizontal.reverse();
        this.vertical = this.vertical.reverse();
    }
    drawArrow(squareKey1, squareKey2) {
        if (this.svg === null) {
            this.svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            this.svg.classList.add('board-svg');
            this.svg.setAttribute('viewBox', '0 0 100 100');
            this.chessboard.element.prepend(this.svg);
        }
        const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
        let point1 = this.svg.createSVGPoint();
        let point2 = this.svg.createSVGPoint();
        let point3 = this.svg.createSVGPoint();
        let point4 = this.svg.createSVGPoint();
        let point5 = this.svg.createSVGPoint();
        let point6 = this.svg.createSVGPoint();
        let point7 = this.svg.createSVGPoint();
        let from = this.getRelativeCenter(squareKey1);
        let to = this.getRelativeCenter(squareKey2);
        let distance = Math.sqrt(Math.pow(to.x - from.x, 2) + Math.pow(to.y - from.y, 2));
        let shortenDistance = 4.5;
        let center = { x: (from.x + to.x) / 2, y: (from.y + to.y) / 2 };
        let triangleSideLength = 5;
        let a = triangleSideLength / 2;
        let c = triangleSideLength;
        let heightOfTriangle = Math.sqrt(Math.pow(c, 2) - Math.pow(a, 2));
        point1.x = center.x - (distance / 2) + shortenDistance;
        point1.y = center.y - this.strokeWidth / 2;
        point2.x = point1.x;
        point2.y = point1.y + this.strokeWidth;
        point3.x = point2.x + distance - heightOfTriangle - shortenDistance;
        point3.y = point2.y;
        point4.x = point3.x;
        point4.y = point3.y + ((triangleSideLength / 2) - (this.strokeWidth / 2));
        point5.x = point4.x + heightOfTriangle;
        point5.y = center.y;
        point6.x = point4.x;
        point6.y = point4.y - triangleSideLength;
        point7.x = point3.x;
        point7.y = point3.y - this.strokeWidth;
        let deltaX = to.x - from.x;
        let deltaY = to.y - from.y;
        let radian = Math.atan2(deltaY, deltaX);
        let degrees = radian * 180 / Math.PI;
        polygon.setAttribute('transform', "rotate(" + degrees + " " + center.x.toString() + " " + center.y.toString() + ")");
        polygon.setAttribute("class", "arrow");
        polygon.points.appendItem(point1);
        polygon.points.appendItem(point2);
        polygon.points.appendItem(point3);
        polygon.points.appendItem(point4);
        polygon.points.appendItem(point5);
        polygon.points.appendItem(point6);
        polygon.points.appendItem(point7);
        this.svg.appendChild(polygon);
    }
    getRelativeCenter(squareKey) {
        let char = squareKey[0];
        let digit = squareKey[1];
        let x = (this.horizontal.indexOf(char) * 12.5) + 6.25;
        let y = (this.vertical.indexOf(digit) * 12.5) + 6.25;
        return { x, y };
    }
}
exports["default"] = Arrows;


/***/ }),

/***/ "./src/components/chess/Callbacks.ts":
/*!*******************************************!*\
  !*** ./src/components/chess/Callbacks.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Callbacks = void 0;
class Callbacks {
}
exports.Callbacks = Callbacks;


/***/ }),

/***/ "./src/components/chess/Chessboard.ts":
/*!********************************************!*\
  !*** ./src/components/chess/Chessboard.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Chessboard = exports.Callbacks = exports.Square = exports.Piece = void 0;
__webpack_require__(/*! ./chessboard.css */ "./src/components/chess/chessboard.css");
const Icons_1 = __importDefault(__webpack_require__(/*! ./Icons */ "./src/components/chess/Icons.ts"));
const Arrows_1 = __importDefault(__webpack_require__(/*! ./Arrows */ "./src/components/chess/Arrows.ts"));
const pieceValues = { ["p"]: 1, ["n"]: 3, ["b"]: 3, ["r"]: 5, ["q"]: 9 };
const squareKeys = ["a8", "b8", "c8", "d8", "e8", "f8", "g8", "h8", "a7", "b7", "c7", "d7", "e7", "f7", "g7", "h7", "a6", "b6", "c6", "d6", "e6", "f6", "g6", "h6", "a5", "b5", "c5", "d5", "e5", "f5", "g5", "h5", "a4", "b4", "c4", "d4", "e4", "f4", "g4", "h4", "a3", "b3", "c3", "d3", "e3", "f3", "g3", "h3", "a2", "b2", "c2", "d2", "e2", "f2", "g2", "h2", "a1", "b1", "c1", "d1", "e1", "f1", "g1", "h1"];
class Piece {
    constructor(element, fenChar) {
        this.element = element;
        this.fenChar = fenChar;
    }
}
exports.Piece = Piece;
class Square {
    constructor(element, key) {
        this.element = element;
        this.key = key;
    }
}
exports.Square = Square;
class Callbacks {
}
exports.Callbacks = Callbacks;
class Chessboard {
    constructor(boardContainer, fen, useArrows) {
        this.squares = {};
        this.pieceElements = [];
        this.isRotated = false;
        this.callbacks = new Callbacks();
        this.score = 0;
        this.whiteCaptures = {};
        this.blackCaptures = {};
        this.rotate = () => {
            let array = Array.from(this.element.children).reverse();
            let floatClearer = array[0];
            let squareElements = array.slice(1);
            this.element.append(...squareElements, floatClearer);
            this.isRotated = !this.isRotated;
            if (this.callbacks.onRotate) {
                this.callbacks.onRotate(this.isRotated);
            }
        };
        let cords = this.addChild(boardContainer, "div", "cords");
        let blackPlayer = this.addChild(cords, "div", "player black");
        this.element = this.addChild(cords, "div", "board");
        this.squareContainer = this.addChild(this.element, "div", "squares");
        let whitePlayer = this.addChild(cords, "div", "player white");
        let blackCapture = this.addChild(blackPlayer, "div", "captures");
        let whiteCapture = this.addChild(whitePlayer, "div", "captures");
        let record = [this.whiteCaptures, this.blackCaptures];
        [whiteCapture, blackCapture].forEach((element, index) => {
            ["p", "n", "b", "r", "q"].forEach(type => {
                let child = this.addChild(element, "span", type);
                record[index][type] = child;
            });
        });
        this.whiteScore = this.addChild(whitePlayer, "span", "score");
        this.blackScore = this.addChild(blackPlayer, "span", "score");
        this.whitePlayerName = this.addChild(whitePlayer, "div", "name", "White");
        this.blackPlayerName = this.addChild(blackPlayer, "div", "name", "Black");
        if (useArrows) {
            new Arrows_1.default(this);
            // import('./Arrows.js').then(module => {
            //     alert("Arrows imported");
            //   });
        }
        this.createEmptySquares();
        if (fen) {
            this.setFen(fen, false);
        }
        // this.showWinner("w");
        // this.showSVG();
    }
    addChild(parent, tag, className, text) {
        let child = document.createElement(tag);
        child.className = className;
        if (text)
            child.innerHTML = text;
        parent.appendChild(child);
        return child;
    }
    getPieceUrl(fenChar) {
        return Icons_1.default.PieceUrl[fenChar];
    }
    createEmptySquares() {
        let newSquares = {};
        squareKeys.forEach(key => {
            let squareElement = this.addChild(this.squareContainer, "div", "");
            squareElement.setAttribute("data-key", key);
            this.squares[key] = new Square(squareElement, key);
        });
        this.addChild(this.squareContainer, "span", "clearer");
        return newSquares;
    }
    setFen(fen, clearFirst) {
        if (clearFirst) {
            Object.values(this.squares).forEach(square => {
                square.element.innerHTML = "";
                square.element.className = "square";
            });
            Object.values(this.whiteCaptures).concat(Object.values(this.blackCaptures)).forEach(element => {
                element.innerHTML = "";
            });
            this.pieceElements = [];
            this.setScore(0);
        }
        if (fen !== "") {
            if (fen.toLowerCase() === "start")
                fen = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";
            fen = fen.split(" ")[0].split("/").join("");
            let squareIndex = 0;
            for (let i = 0; i < fen.length; i++) {
                let fenChar = fen[i];
                let nummericValue = parseInt(fenChar);
                if (!isNaN(nummericValue)) {
                    squareIndex += nummericValue;
                }
                else {
                    let key = squareKeys[squareIndex++];
                    let pieceElement = this.createPiece(fenChar);
                    this.squares[key].element.appendChild(pieceElement);
                }
            }
            let standing = this.calculateScoreAndCapturesByFen(fen);
            Object.entries(standing.captures).forEach(([key, value]) => {
                if (value > 0) {
                    let color = key === key.toUpperCase() ? "b" : "w";
                    for (let i = 0; i < value; i++) {
                        let piece = this.createPiece(key);
                        this.addCapture(color, key.toLowerCase(), piece);
                    }
                }
            });
        }
    }
    setScore(score) {
        this.score = score;
        let whitePrefix = score === 0 ? "" : (score > 0 ? "+" : "-");
        let blackPrefix = score === 0 ? "" : (score > 0 ? "-" : "+");
        this.whiteScore.innerHTML = score === 0 ? "" : (whitePrefix + Math.abs(score));
        this.blackScore.innerHTML = score === 0 ? "" : (blackPrefix + Math.abs(score));
    }
    setPlayerNames(black, white) {
        this.blackPlayerName.innerHTML = black;
        this.whitePlayerName.innerHTML = white;
    }
    addCapture(color, captured, piece) {
        let span = color === "b" ? this.blackCaptures[captured] : this.whiteCaptures[captured];
        span.appendChild(piece);
        let pieceValue = pieceValues[captured];
        let newScore = this.score + (color === "b" ? -1 * pieceValue : pieceValue);
        this.setScore(newScore);
    }
    undoCapture(color, captured) {
        let pieceValue = pieceValues[captured];
        let newScore = this.score + (color === "b" ? pieceValue : pieceValue * -1);
        this.setScore(newScore);
        return (color === "b" ? this.blackCaptures[captured].firstChild : this.whiteCaptures[captured].firstChild);
    }
    createPiece(fenChar) {
        let pieceElement = document.createElement("img");
        pieceElement.className = "piece";
        pieceElement.setAttribute("data-type", fenChar);
        pieceElement.src = Icons_1.default.PieceUrl[fenChar];
        this.pieceElements.push(pieceElement);
        return pieceElement;
    }
    removeAllHighlights() {
        Object.values(this.squares).forEach(square => {
            square.element.className = "square";
        });
    }
    calculateScoreAndCapturesByFen(fen) {
        // example: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"
        fen = fen.split(" ")[0].split("/").join("");
        // make a record of all types of pieces and set initial count to zero
        let fenChars = {};
        ["p", "n", "b", "r", "q", "P", "N", "B", "R", "Q"].forEach(char => {
            fenChars[char] = 0;
        });
        // calculate how many pieces we have of each kind
        for (const char of fen) {
            if (isNaN(parseInt(char))) {
                fenChars[char] += 1;
            }
        }
        ;
        // if the score is positive white is leading
        let score = fenChars["P"] - fenChars["p"];
        score += (fenChars["N"] + fenChars["B"] - fenChars["n"] - fenChars["b"]) * 3;
        score += (fenChars["R"] - fenChars["r"]) * 5;
        score += (fenChars["Q"] - fenChars["q"]) * 9;
        // we need to return a similar record showing how many pieces have been taken
        let captures = {};
        // we started having 2 rooks, knights and bishops. We could have more due to promotion
        for (const char of ["r", "n", "b", "R", "N", "B"]) {
            captures[char] = fenChars[char] >= 2 ? 0 : 2 - fenChars[char];
        }
        for (const char of ["q", "Q"]) {
            captures[char] = fenChars[char] > 0 ? 0 : 1;
        }
        // Counting taken pawns is difficult due to possible promotion
        let black = { pawn: "p", queen: "q", pieces: ["r", "n", "b"] };
        let white = { pawn: "P", queen: "Q", pieces: ["R", "N", "B"] };
        for (const player of [black, white]) {
            captures[player.pawn] = 8 - fenChars[player.pawn];
            if (fenChars[player.queen] > 1) {
                captures[player.pawn] -= fenChars[player.queen] - 1;
            }
            for (const piece of player.pieces) {
                if (fenChars[piece] > 2) {
                    captures[player.pawn] -= fenChars[piece] - 2;
                }
            }
        }
        return { score, captures };
    }
    showWinner(color) {
        this.pieceElements.forEach(element => {
            let type = element.getAttribute("data-type");
            if (type === "K") {
                let whiteKingSquare = element.parentElement;
                let whiteKingSquareIcon = this.addChild(whiteKingSquare, "img", "result " + (color === "w" ? "win" : "loose"));
                whiteKingSquareIcon.src = color === "w" ? Icons_1.default.Win : Icons_1.default.Loose;
            }
            else if (type === "k") {
                let blackKingSquare = element.parentElement;
                let blackKingSquareIcon = this.addChild(blackKingSquare, "img", "result " + (color === "b" ? "win" : "loose"));
                blackKingSquareIcon.src = color === "b" ? Icons_1.default.Win : Icons_1.default.Loose;
            }
        });
    }
}
exports.Chessboard = Chessboard;


/***/ }),

/***/ "./src/components/chess/DragAndDrop.ts":
/*!*********************************************!*\
  !*** ./src/components/chess/DragAndDrop.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const Shared_1 = __webpack_require__(/*! ./Shared */ "./src/components/chess/Shared.ts");
class DragAndDrop {
    constructor(chessboard, dragType, callbackOnDrop) {
        this.dragPiece = null;
        this.dragStartX = 0;
        this.dragStartY = 0;
        this.scrollTop = 0;
        this.deltaScrollTop = 0;
        this.scrollLeft = 0;
        this.deltaScrollLeft = 0;
        this.chessboard = chessboard;
        this.dragType = dragType;
        this.callbackOnDrop = callbackOnDrop;
        document.addEventListener("mousedown", (event) => this.handleMouseDown(event));
        document.addEventListener("mousemove", (event) => this.handleMouseMove(event));
        document.addEventListener("mouseup", (event) => this.handleMouseUp(event));
        document.addEventListener("scroll", () => this.handleScroll());
        this.preparePieces();
    }
    preparePieces() {
        Object.entries(this.chessboard.pieceElements).forEach(([key, pieceElement]) => {
            if (this.dragType === "both" || (this.dragType === "white" && key === key.toUpperCase()) || (this.dragType === "black" && key === key.toLowerCase())) {
                pieceElement.classList.add("allow-drag");
            }
        });
    }
    handleMouseDown(event) {
        let isRightClick = event.button && event.button == 2;
        if (!isRightClick && event.target && Shared_1.Shared.isClickOnChessboard(event, this.chessboard)) {
            this.chessboard.removeAllHighlights();
            let target = event.target;
            if (target.classList.contains("piece") && target.classList.contains("allow-drag")) {
                target.parentElement.classList.add("source");
                this.dragPiece = event.target;
                this.dragPiece.classList.add("dragging");
                let rect = this.dragPiece.getBoundingClientRect();
                this.dragStartX = rect.left;
                this.dragStartY = rect.top;
                this.scrollTop = document.documentElement.scrollTop; // Drag position will be incorrect if we don't take scroll into consideration
                this.deltaScrollTop = 0; // Used to adjust the drag position if scrolling occurs during the drag
                this.scrollLeft = document.documentElement.scrollLeft;
                this.deltaScrollLeft = 0;
            }
            event.preventDefault();
        }
    }
    handleMouseMove(event) {
        if (this.dragPiece) {
            event.preventDefault();
            let deltaX = event.clientX - this.dragStartX;
            let deltaY = event.clientY - this.dragStartY;
            this.dragPiece.style.left = deltaX + this.deltaScrollLeft + "px";
            this.dragPiece.style.top = deltaY + this.deltaScrollTop + "px";
        }
    }
    handleMouseUp(event) {
        if (this.dragPiece) {
            this.dragPiece.style.left = "50%";
            this.dragPiece.style.top = "50%";
            this.dragPiece.classList.remove("dragging");
            if (Shared_1.Shared.isClickOnChessboard(event, this.chessboard)) {
                event.preventDefault();
                let targetSquareElement = Shared_1.Shared.getClickedSquare(event, this.chessboard);
                if (targetSquareElement !== this.dragPiece.parentElement) {
                    let sourceSquareKey = this.dragPiece.parentElement?.getAttribute("data-key");
                    let targetSquareKey = targetSquareElement.getAttribute("data-key");
                    this.callbackOnDrop(sourceSquareKey, targetSquareKey);
                }
            }
            this.dragPiece = null;
        }
    }
    handleScroll() {
        if (this.dragPiece) {
            let newDeltaX = document.documentElement.scrollLeft - this.scrollLeft;
            let newDeltaY = document.documentElement.scrollTop - this.scrollTop;
            let changeInDeltaX = newDeltaX - this.deltaScrollLeft;
            let changeInDeltaY = newDeltaY - this.deltaScrollTop;
            this.deltaScrollLeft = newDeltaX;
            this.deltaScrollTop = newDeltaY;
            let clientX = parseInt(this.dragPiece.style.left);
            let clientY = parseInt(this.dragPiece.style.top);
            this.dragPiece.style.left = clientX + changeInDeltaX + "px";
            this.dragPiece.style.top = clientY + changeInDeltaY + "px";
        }
    }
}
exports["default"] = DragAndDrop;


/***/ }),

/***/ "./src/components/chess/Game.ts":
/*!**************************************!*\
  !*** ./src/components/chess/Game.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameState = exports.Game = void 0;
const chess_js_1 = __webpack_require__(/*! chess.js */ "./node_modules/chess.js/dist/esm/chess.js");
class Game {
    constructor(moveText) {
        this.state = GameState.Pause;
        this.moveIndex = -1;
        this.moves = [];
        if (moveText) {
            let chess = new chess_js_1.Chess();
            chess.loadPgn(moveText);
            this.moves = chess.history({ verbose: true });
        }
    }
}
exports.Game = Game;
var GameState;
(function (GameState) {
    GameState[GameState["Start"] = 0] = "Start";
    GameState[GameState["Play"] = 1] = "Play";
    GameState[GameState["Pause"] = 2] = "Pause";
    GameState[GameState["Forward"] = 3] = "Forward";
    GameState[GameState["Rewind"] = 4] = "Rewind";
    GameState[GameState["End"] = 5] = "End";
})(GameState || (exports.GameState = GameState = {}));


/***/ }),

/***/ "./src/components/chess/GameController.ts":
/*!************************************************!*\
  !*** ./src/components/chess/GameController.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameController = void 0;
const Chessboard_1 = __webpack_require__(/*! ./Chessboard */ "./src/components/chess/Chessboard.ts");
const DragAndDrop_1 = __importDefault(__webpack_require__(/*! ./DragAndDrop */ "./src/components/chess/DragAndDrop.ts"));
const MoveInfo_1 = __webpack_require__(/*! ./MoveInfo */ "./src/components/chess/MoveInfo.ts");
const Game_1 = __webpack_require__(/*! ./Game */ "./src/components/chess/Game.ts");
const Callbacks_1 = __webpack_require__(/*! ./Callbacks */ "./src/components/chess/Callbacks.ts");
class GameController {
    constructor(boardElement, fen, dragType, useArrows) {
        this.callbacks = new Callbacks_1.Callbacks();
        this.animationDuration = 0.7;
        this.animationFastDuration = 0.1;
        this.delayBetweenMoves = 1;
        this.shortDelayBetweenMoves = 0;
        this.cancelAnimation = false;
        this.goToStart = () => {
            this.goToMove(-1);
        };
        this.rewind = () => {
            this.updateGameState(Game_1.GameState.Rewind);
        };
        this.play = () => {
            this.updateGameState(Game_1.GameState.Play);
        };
        this.pause = () => {
            this.updateGameState(Game_1.GameState.Pause);
        };
        this.forward = () => {
            this.updateGameState(Game_1.GameState.Forward);
        };
        this.goToEnd = () => {
            if (this.currentGame) {
                this.goToMove(this.currentGame.moves.length - 1);
            }
        };
        this.chessboard = new Chessboard_1.Chessboard(boardElement, fen, useArrows);
        if (dragType && ["white", "black", "both"].includes(dragType)) {
            new DragAndDrop_1.default(this.chessboard, dragType, 
            // Callback on drop
            (from, to) => {
                this.onDrop(from, to);
            });
        }
    }
    clearTimeouts() {
        this.cancelAnimation = true;
        clearTimeout(this.animationTimeoutId);
        clearTimeout(this.autoplayTimeoutId);
    }
    startGame(game, whiteName, blackName) {
        this.clearTimeouts();
        this.currentGame = game;
        game.moveIndex = -1;
        this.chessboard.setFen("start", true);
        this.chessboard.setPlayerNames(blackName || "Black", whiteName || "White");
        this.updateGameState(Game_1.GameState.Play);
    }
    updateGameState(newState) {
        if (this.currentGame && this.currentGame.state !== newState) {
            if (this.currentGame.state === Game_1.GameState.Start) {
                if ([Game_1.GameState.Rewind, Game_1.GameState.Pause].includes(newState)) {
                    return;
                }
            }
            else if (this.currentGame.state === Game_1.GameState.End && this.currentGame.moveIndex === this.currentGame.moves.length - 1) {
                if ([Game_1.GameState.Play, Game_1.GameState.Pause, Game_1.GameState.Forward].includes(newState)) {
                    return;
                }
            }
            let lastState = this.currentGame.state;
            this.currentGame.state = newState;
            if (this.callbacks.onGameStateChanged) {
                this.callbacks.onGameStateChanged(newState);
            }
            if ([Game_1.GameState.Start, Game_1.GameState.Pause, Game_1.GameState.End].includes(lastState)) {
                if ([Game_1.GameState.Rewind, Game_1.GameState.Play, Game_1.GameState.Forward].includes(newState)) {
                    this.showAnimatedMoves();
                }
            }
        }
    }
    goToMove(moveIndex) {
        if (this.currentGame) {
            let game = this.currentGame;
            if (moveIndex !== game.moveIndex) {
                if ([Game_1.GameState.Rewind, Game_1.GameState.Play, Game_1.GameState.Forward].includes(game.state)) {
                    this.clearTimeouts();
                }
                game.moveIndex = moveIndex;
                if (moveIndex === -1) {
                    this.chessboard.setFen("start", true);
                    this.updateGameState(Game_1.GameState.Start);
                }
                else {
                    if (moveIndex === game.moves.length - 1) {
                        this.updateGameState(Game_1.GameState.End);
                    }
                    else {
                        this.updateGameState(Game_1.GameState.Pause);
                    }
                    let move = game.moves[moveIndex];
                    this.chessboard.setFen(move.after, true);
                    this.chessboard.squares[move.from].element.classList.add("source");
                    this.chessboard.squares[move.to].element.classList.add("target");
                }
            }
        }
    }
    showAnimatedMoves() {
        if (!this.currentGame || this.currentGame.state === Game_1.GameState.Pause) {
            return;
        }
        let game = this.currentGame;
        let gameState = game.state; //set this variable here so it doesn't change if user clicks during animation
        let rewind = gameState === Game_1.GameState.Rewind;
        let animationMoveIndex = rewind ? game.moveIndex : game.moveIndex + 1;
        let move = game.moves[animationMoveIndex];
        if (this.callbacks.onMoveStart) {
            this.callbacks.onMoveStart(move, animationMoveIndex, rewind);
        }
        let moveInfo = new MoveInfo_1.MoveInfo(this.chessboard, move, rewind);
        this.chessboard.removeAllHighlights();
        moveInfo.sourceSquare.classList.add("source");
        moveInfo.targetSquare.classList.add("target");
        if (moveInfo.castling) {
            moveInfo.castling.rookSourceSquare.classList.add("source");
            moveInfo.castling.rookTargetSquare.classList.add("target");
        }
        else if (rewind) {
            // Undo promotion and capture before animation starts
            if (move.promotion) {
                let fenChar = move.color === "b" ? "p" : "P";
                moveInfo.piece.setAttribute("data-type", fenChar);
                moveInfo.piece.src = this.chessboard.getPieceUrl(fenChar);
            }
            if (move.captured) {
                let piece = this.chessboard.undoCapture(move.color, move.captured);
                moveInfo.targetSquare.appendChild(piece);
            }
        }
        this.animateMove(moveInfo, move, gameState, () => {
            // OnAnimationEndCallback 
            if (!rewind && move.captured && this.callbacks.onCapture) {
                let captureSquare = moveInfo.partialMoves[0].destination;
                let piece = captureSquare.firstChild;
                this.chessboard.addCapture(move.color, move.captured, piece);
                // let rect = capturedPiece.getBoundingClientRect();
                // captureSquare.removeChild(capturedPiece);
                // this.callbacks.onCapture(move.color, move.captured, capturedPiece, rect);
            }
            // There may be 2 moves due to castling
            moveInfo.partialMoves.forEach(move => {
                move.destination.innerHTML = "";
                move.destination.appendChild(move.piece);
            });
            if (this.callbacks.onMoveEnd) {
                this.callbacks.onMoveEnd(move, game.moveIndex, rewind);
            }
            game.moveIndex += rewind ? -1 : 1;
            if (!rewind && move.promotion) {
                let fenChar = move.color === "b" ? move.promotion : move.promotion.toUpperCase();
                moveInfo.piece.setAttribute("data-type", fenChar);
                moveInfo.piece.src = this.chessboard.getPieceUrl(fenChar);
            }
            if (!rewind && game.moveIndex === game.moves.length - 1) {
                this.updateGameState(Game_1.GameState.End);
                return;
            }
            if (rewind && game.moveIndex === -1) {
                this.updateGameState(Game_1.GameState.Start);
                return;
            }
            // Animation ended and position updated but don't show next move right away
            let delayBetweenMoves = game.state === Game_1.GameState.Play ? this.delayBetweenMoves : this.shortDelayBetweenMoves;
            this.autoplayTimeoutId = setTimeout(() => {
                this.showAnimatedMoves();
            }, delayBetweenMoves * 1000);
        });
    }
    animateMove(moveInfo, move, gameState, onAnimationEndCallback) {
        // Again: Due to castling there can be 2 moves
        try {
            moveInfo.partialMoves.forEach(move => {
                let startPosition = move.piece.getBoundingClientRect();
                let rect = move.destination.getBoundingClientRect();
                let x = rect.left + (rect.width / 2);
                let y = rect.top + (rect.height / 2);
                let endPosition = { x: x, y: y };
                move.piece.style.transitionProperty = "left, top";
                let animationDuration = gameState === Game_1.GameState.Play ? this.animationDuration : this.animationFastDuration;
                move.piece.style.transitionDuration = animationDuration + "s";
                move.piece.style.left = endPosition.x - startPosition.x + "px";
                move.piece.style.top = endPosition.y - startPosition.y + "px";
                move.piece.classList.add("dragging");
            });
            this.cancelAnimation = false;
            moveInfo.piece.addEventListener('transitionend', () => {
                if (!this.cancelAnimation) {
                    // Again: Due to castling there can be 2 moves
                    moveInfo.partialMoves.forEach(move => {
                        move.piece.style.transitionProperty = "";
                        move.piece.style.left = "";
                        move.piece.style.top = "";
                        move.piece.classList.remove("dragging");
                    });
                    onAnimationEndCallback();
                }
            }, { once: true });
        }
        catch (ex) {
            console.log(ex);
            let a = moveInfo;
            let b = move;
            let c = gameState;
            debugger;
        }
    }
    /** Example 1 - from: "e2" to: "e4" Example 2:  from: "a7" to: "a8" promotion: "q" Promotion can be queen (q), bishop (b), knight (n) or rook (r) */
    onDrop(from, to) {
        let piece = this.chessboard.squares[from].element.firstChild;
        let fenChar = piece.getAttribute("data-type");
        this.moveSimple(from, to);
        let castlingInfo = this.getCastlingInfo(fenChar, from, to);
        if (castlingInfo.isCastling) {
            this.chessboard.squares[castlingInfo.rookFrom].element.classList.add("drag-source");
            this.moveSimple(castlingInfo.rookFrom, castlingInfo.rookTo);
        }
    }
    moveSimple(from, to) {
        let piece = this.chessboard.squares[from].element.firstChild;
        let targetSquare = this.chessboard.squares[to].element;
        targetSquare.innerHTML = "";
        targetSquare.appendChild(piece);
        targetSquare.classList.add("target");
    }
    // This function should be deprecated. Try to use getCastlingInfoFromSANcode
    getCastlingInfo(fenChar, from, to) {
        if (fenChar === "K" && from === "e1") {
            if (to === "g1")
                return { isCastling: true, rookFrom: "h1", rookTo: "f1" };
            else if (to === "c1")
                return { isCastling: true, rookFrom: "a1", rookTo: "d1" };
        }
        else if (fenChar === "k" && from === "e8") {
            if (to === "g8")
                return { isCastling: true, rookFrom: "h8", rookTo: "f8" };
            else if (to === "c8")
                return { isCastling: true, rookFrom: "a8", rookTo: "d8" };
        }
        return { isCastling: false };
    }
}
exports.GameController = GameController;


/***/ }),

/***/ "./src/components/chess/Icons.ts":
/*!***************************************!*\
  !*** ./src/components/chess/Icons.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const bb_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/bb.svg */ "./src/components/chess/assets/img/pieces/burnett/bb.svg"));
const bk_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/bk.svg */ "./src/components/chess/assets/img/pieces/burnett/bk.svg"));
const bn_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/bn.svg */ "./src/components/chess/assets/img/pieces/burnett/bn.svg"));
const bp_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/bp.svg */ "./src/components/chess/assets/img/pieces/burnett/bp.svg"));
const bq_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/bq.svg */ "./src/components/chess/assets/img/pieces/burnett/bq.svg"));
const br_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/br.svg */ "./src/components/chess/assets/img/pieces/burnett/br.svg"));
const wb_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/wb.svg */ "./src/components/chess/assets/img/pieces/burnett/wb.svg"));
const wk_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/wk.svg */ "./src/components/chess/assets/img/pieces/burnett/wk.svg"));
const wn_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/wn.svg */ "./src/components/chess/assets/img/pieces/burnett/wn.svg"));
const wp_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/wp.svg */ "./src/components/chess/assets/img/pieces/burnett/wp.svg"));
const wq_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/wq.svg */ "./src/components/chess/assets/img/pieces/burnett/wq.svg"));
const wr_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/pieces/burnett/wr.svg */ "./src/components/chess/assets/img/pieces/burnett/wr.svg"));
const win_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/results/win.svg */ "./src/components/chess/assets/img/results/win.svg"));
const loose_svg_1 = __importDefault(__webpack_require__(/*! ./assets/img/results/loose.svg */ "./src/components/chess/assets/img/results/loose.svg"));
class Icons {
}
Icons.Win = win_svg_1.default;
Icons.Loose = loose_svg_1.default;
Icons.PieceUrl = {
    ["b"]: bb_svg_1.default,
    ["k"]: bk_svg_1.default,
    ["n"]: bn_svg_1.default,
    ["p"]: bp_svg_1.default,
    ["q"]: bq_svg_1.default,
    ["r"]: br_svg_1.default,
    ["B"]: wb_svg_1.default,
    ["K"]: wk_svg_1.default,
    ["N"]: wn_svg_1.default,
    ["P"]: wp_svg_1.default,
    ["Q"]: wq_svg_1.default,
    ["R"]: wr_svg_1.default
};
exports["default"] = Icons;


/***/ }),

/***/ "./src/components/chess/MoveInfo.ts":
/*!******************************************!*\
  !*** ./src/components/chess/MoveInfo.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Castling = exports.MoveInfo = void 0;
class MoveInfo {
    constructor(chessboard, move, rewind) {
        this.partialMoves = [];
        this.sourceSquare = chessboard.squares[move.from].element;
        this.targetSquare = chessboard.squares[move.to].element;
        this.piece = (rewind ? this.targetSquare.firstChild : this.sourceSquare.firstChild);
        let move1 = { piece: this.piece, destination: rewind ? this.sourceSquare : this.targetSquare };
        this.partialMoves.push(move1);
        if (move.flags === "k" || move.flags === "q") {
            this.castling = new Castling(chessboard, move, rewind);
            let move2 = { piece: this.castling.rook, destination: rewind ? this.castling.rookSourceSquare : this.castling.rookTargetSquare };
            this.partialMoves.push(move2);
        }
    }
}
exports.MoveInfo = MoveInfo;
class Castling {
    constructor(chessboard, move, rewind) {
        let rookMove = getCastlingRookMove(move.flags, move.color);
        this.rookSourceSquare = chessboard.squares[rookMove.from].element;
        this.rookTargetSquare = chessboard.squares[rookMove.to].element;
        this.rook = (rewind ? this.rookTargetSquare.firstChild : this.rookSourceSquare.firstChild);
    }
}
exports.Castling = Castling;
function getCastlingRookMove(flag, color) {
    switch (flag) {
        case "k":
            return color === "w" ? { from: "h1", to: "f1" } : { from: "h8", to: "f8" };
        default:
            return color === "w" ? { from: "a1", to: "d1" } : { from: "a8", to: "d8" };
    }
}


/***/ }),

/***/ "./src/components/chess/Shared.ts":
/*!****************************************!*\
  !*** ./src/components/chess/Shared.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Shared = void 0;
var Shared;
(function (Shared) {
    function isClickOnChessboard(event, chessboard) {
        let rect = getOffsetRectangle(chessboard.element);
        let point = getAbsoluteMousePosition(event);
        return point.x > rect.x && point.x < rect.x + rect.width && point.y > rect.y && point.y < rect.y + rect.height;
    }
    Shared.isClickOnChessboard = isClickOnChessboard;
    function getClickedSquare(event, chessboard) {
        let boardWidthAndHeight = chessboard.element.clientWidth;
        let squareWidthAndHeight = boardWidthAndHeight / 8;
        let boardCoordinateX = event.clientX - chessboard.element.offsetLeft + document.documentElement.scrollLeft;
        let boardCoordinateY = event.clientY - chessboard.element.offsetTop + document.documentElement.scrollTop;
        let rowIndex = Math.floor(boardCoordinateY / squareWidthAndHeight);
        let columnIndex = Math.floor(boardCoordinateX / squareWidthAndHeight);
        let targetSquareIndex = (rowIndex * 8) + columnIndex;
        return chessboard.squareContainer.children[targetSquareIndex];
    }
    Shared.getClickedSquare = getClickedSquare;
    function getOffsetRectangle(element) {
        let rect = { x: element.offsetLeft, y: element.offsetTop, width: element.offsetWidth, height: element.offsetHeight };
        while (element.offsetParent instanceof HTMLElement) {
            element = element.offsetParent;
            rect.x += element.offsetLeft;
            rect.y += element.offsetTop;
        }
        return rect;
    }
    Shared.getOffsetRectangle = getOffsetRectangle;
    function getAbsoluteMousePosition(event) {
        let x = event.clientX + document.documentElement.scrollLeft;
        let y = event.clientY + document.documentElement.scrollTop;
        return { x: x, y: y };
    }
    Shared.getAbsoluteMousePosition = getAbsoluteMousePosition;
})(Shared || (exports.Shared = Shared = {}));


/***/ }),

/***/ "./src/components/pgnViewer/Icons.ts":
/*!*******************************************!*\
  !*** ./src/components/pgnViewer/Icons.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const play_svg_1 = __importDefault(__webpack_require__(/*! ./img/icons/play.svg */ "./src/components/pgnViewer/img/icons/play.svg"));
const pause_svg_1 = __importDefault(__webpack_require__(/*! ./img/icons/pause.svg */ "./src/components/pgnViewer/img/icons/pause.svg"));
const go_to_start_svg_1 = __importDefault(__webpack_require__(/*! ./img/icons/go-to-start.svg */ "./src/components/pgnViewer/img/icons/go-to-start.svg"));
const go_to_end_svg_1 = __importDefault(__webpack_require__(/*! ./img/icons/go-to-end.svg */ "./src/components/pgnViewer/img/icons/go-to-end.svg"));
const forward_svg_1 = __importDefault(__webpack_require__(/*! ./img/icons/forward.svg */ "./src/components/pgnViewer/img/icons/forward.svg"));
const rewind_svg_1 = __importDefault(__webpack_require__(/*! ./img/icons/rewind.svg */ "./src/components/pgnViewer/img/icons/rewind.svg"));
class Icons {
}
Icons.play = play_svg_1.default;
Icons.pause = pause_svg_1.default;
Icons.goToStart = go_to_start_svg_1.default;
Icons.goToEnd = go_to_end_svg_1.default;
Icons.forward = forward_svg_1.default;
Icons.rewind = rewind_svg_1.default;
exports["default"] = Icons;


/***/ }),

/***/ "./src/components/pgnViewer/PGN.ts":
/*!*****************************************!*\
  !*** ./src/components/pgnViewer/PGN.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PGN = void 0;
var PGN;
(function (PGN) {
    class Game {
        constructor() {
            this.tags = {};
        }
    }
    PGN.Game = Game;
    let SectionType;
    (function (SectionType) {
        SectionType[SectionType["Tags"] = 0] = "Tags";
        SectionType[SectionType["Moves"] = 1] = "Moves";
    })(SectionType || (SectionType = {}));
    function showJSON(games) {
        let jsonString = '{"games"["';
        games.forEach(game => {
            jsonString += JSON.stringify(game) + "\n,";
        });
        jsonString = jsonString.slice(0, -1) + "]}";
        let hrefContent = encodeURIComponent(jsonString);
        document.body.insertAdjacentHTML('beforeend', '<a id="downloadAnchorElem" download="data.json" href="data:text/json;charset=utf-8,' + hrefContent + '" style="display:none"></a>');
        let link = document.getElementById("downloadAnchorElem");
        link?.click();
        link?.remove();
    }
    PGN.showJSON = showJSON;
    function convertToGames(pgnText) {
        let sections = getSections(pgnText);
        if (sections) {
            let pgnGames = [];
            let currentGame = new Game();
            for (let section of sections) {
                if (section.type === SectionType.Tags) {
                    currentGame.tags = getTags(section);
                }
                else {
                    currentGame.moveText = section.text.split("\r\n").join(" ");
                    pgnGames.push(currentGame);
                    currentGame = new Game();
                }
            }
            return pgnGames;
        }
        return undefined;
    }
    PGN.convertToGames = convertToGames;
    function getSections(pgnText) {
        if (pgnText) {
            let sections = [];
            let texts = pgnText.split("\r\n\r\n");
            for (let text of texts) {
                if (text.length > 1) {
                    if (text[0] === "[") {
                        sections.push({ type: SectionType.Tags, text: text });
                    }
                    else if (text[0] === "1") {
                        sections.push({ type: SectionType.Moves, text: text });
                    }
                }
            }
            return sections;
        }
        return undefined;
    }
    function getTags(section) {
        let tags = {};
        let lines = section.text.split("\n");
        for (let line of lines) {
            let tag = getTag(line);
            if (tag) {
                tags[tag.key] = tag.value;
            }
        }
        return tags;
    }
    function getTag(text) {
        text = text.trim();
        if (text.length > 4 && text[0] === "[") {
            let indexOfEndBracket = text.lastIndexOf("]");
            if (indexOfEndBracket > 3) {
                let indexOfEmptySpace = text.indexOf(" ");
                let key = text.substring(1, indexOfEmptySpace);
                let value = text.substring(indexOfEmptySpace + 2, indexOfEndBracket - 1);
                return { key: key, value: value };
            }
        }
        return undefined;
    }
})(PGN || (exports.PGN = PGN = {}));


/***/ }),

/***/ "./src/components/pgnViewer/UTF.ts":
/*!*****************************************!*\
  !*** ./src/components/pgnViewer/UTF.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
class UTF {
}
UTF.pieces = {
    ["P"]: "&#9823",
    ["R"]: "&#9820",
    ["N"]: "&#9822",
    ["B"]: "&#9821",
    ["Q"]: "&#9819",
    ["K"]: "&#9818",
    ["p"]: "&#9817",
    ["r"]: "&#9814",
    ["n"]: "&#9816",
    ["b"]: "&#9815",
    ["q"]: "&#9813",
    ["k"]: "&#9812"
};
exports["default"] = UTF;


/***/ }),

/***/ "./src/pages/index/Index.ts":
/*!**********************************!*\
  !*** ./src/pages/index/Index.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Game_1 = __webpack_require__(/*! ../../components/chess/Game */ "./src/components/chess/Game.ts");
const GameController_1 = __webpack_require__(/*! ../../components/chess/GameController */ "./src/components/chess/GameController.ts");
const PGN_1 = __webpack_require__(/*! ../../components/pgnViewer/PGN */ "./src/components/pgnViewer/PGN.ts");
const UTF_1 = __importDefault(__webpack_require__(/*! ../../components/pgnViewer/UTF */ "./src/components/pgnViewer/UTF.ts"));
const Icons_1 = __importDefault(__webpack_require__(/*! ../../components/pgnViewer/Icons */ "./src/components/pgnViewer/Icons.ts"));
const json = __importStar(__webpack_require__(/*! ../../components/chess/assets/data/games.json */ "./src/components/chess/assets/data/games.json"));
__webpack_require__(/*! ../master.css */ "./src/pages/master.css");
__webpack_require__(/*! ./index.css */ "./src/pages/index/index.css");
let chessboard = document.getElementById("chess");
let gameController = new GameController_1.GameController(chessboard, "start", "both", true);
let log = document.getElementById("log");
let autoplay = document.getElementById("autoplay");
let input = document.getElementById("file-upload");
let pgnGames = json.games;
listInMenu(pgnGames);
let iconGoToStart = prepareIcon("go-to-start", Icons_1.default.goToStart, () => {
    log.innerHTML = "";
    gameController.goToStart();
});
let iconRewind = prepareIcon("rewind", Icons_1.default.rewind, gameController.rewind);
let iconPlay = prepareIcon("play", Icons_1.default.play, gameController.play);
let iconPause = prepareIcon("pause", Icons_1.default.pause, gameController.pause);
let iconForward = prepareIcon("forward", Icons_1.default.forward, gameController.forward);
let iconGoToEnd = prepareIcon("go-to-end", Icons_1.default.goToEnd, () => {
    if (gameController.currentGame) {
        log.innerHTML = "";
        let moveNumber = 0;
        gameController.goToEnd();
        gameController.currentGame.moves.forEach(move => {
            addLogItem(moveNumber++, move);
        });
    }
});
function prepareIcon(id, iconUrl, fn) {
    let icon = document.getElementById(id);
    icon.src = iconUrl;
    icon.onclick = fn;
    return icon;
}
function onMenuItemClick(event) {
    if (pgnGames === undefined) {
        return;
    }
    autoplay.style.display = "block";
    let element = event.currentTarget;
    Array.from(element.parentElement.children).forEach(item => {
        item.classList.remove("active");
    });
    element.classList.add("active");
    let index = [...element.parentNode.children].indexOf(element);
    let pgnGame = pgnGames[index];
    let game = new Game_1.Game(pgnGame.moveText);
    log.innerHTML = "";
    let whiteName = pgnGame.tags["White"] || "White";
    let blackName = pgnGame.tags["Black"] || "Black";
    gameController.startGame(game, whiteName, blackName);
}
input.addEventListener("change", () => {
    const reader = new FileReader();
    reader.addEventListener("load", () => {
        let text = reader.result;
        if (text && typeof text === "string") {
            pgnGames = PGN_1.PGN.convertToGames(text);
            if (pgnGames) {
                pgnGames.reverse();
                pgnGames.sort((a, b) => b.tags["Date"].localeCompare(a.tags["Date"]));
                // PGN.showJSON(pgnGames.slice(0,50));
                listInMenu(pgnGames);
            }
        }
    }, false);
    if (input.files && input.files[0]) {
        reader.readAsText(input.files[0]);
    }
});
function listInMenu(games) {
    let menu = document.getElementById("menu");
    let items = menu.getElementsByClassName("items")[0];
    items.innerHTML = "";
    games.forEach(game => {
        let menuItem = document.createElement("div");
        items.appendChild(menuItem);
        menuItem.onclick = onMenuItemClick;
        Object.entries(game.tags).forEach(([key, value]) => {
            let element = document.createElement("div");
            element.innerHTML = key + ": " + value;
            menuItem.appendChild(element);
        });
    });
}
gameController.callbacks.onGameStateChanged = (newState) => {
    switch (newState) {
        case Game_1.GameState.Start:
            enable([iconPlay, iconForward, iconGoToEnd]);
            disable([iconGoToStart, iconRewind, iconPause]);
            break;
        case Game_1.GameState.Play:
            enable([iconGoToStart, iconRewind, iconPause, iconForward, iconGoToEnd]);
            disable([iconPlay]);
            break;
        case Game_1.GameState.Pause:
            enable([iconGoToStart, iconRewind, iconPlay, iconForward, iconGoToEnd]);
            disable([iconPause]);
            break;
        case Game_1.GameState.Rewind:
            enable([iconGoToStart, iconPlay, iconPause, iconForward, iconGoToEnd]);
            disable([iconRewind]);
            break;
        case Game_1.GameState.Forward:
            enable([iconGoToStart, iconRewind, iconPlay, iconPause, iconGoToEnd]);
            disable([iconForward]);
            break;
        case Game_1.GameState.End:
            enable([iconGoToStart, iconRewind]);
            disable([iconPlay, iconPause, iconForward, iconGoToEnd]);
            break;
    }
};
function disable(icons) {
    icons.forEach(icon => {
        icon.classList.add("disabled");
    });
}
function enable(icons) {
    icons.forEach(icon => {
        icon.classList.remove("disabled");
    });
}
gameController.callbacks.onMoveStart = (move, index, rewind) => {
    if (!rewind) {
        addLogItem(index, move);
    }
};
gameController.callbacks.onMoveEnd = (move, index, rewind) => {
    if (rewind) {
        log.removeChild(log.lastChild);
    }
};
gameController.callbacks.onCapture = (color, fenChar, capturedPiece, rect) => {
    console.log("");
};
function addLogItem(moveIndex, move) {
    let moveNumber = moveIndex + 1;
    let turnNumber = Math.ceil(moveNumber / 2);
    let isNewTurn = moveNumber % 2 !== 0;
    let logItem = document.createElement("span");
    let firstChar = move.san.substring(0, 1);
    let logText = isNewTurn ? turnNumber + "." : "";
    if (firstChar === firstChar.toUpperCase() && firstChar.toUpperCase() !== "O") {
        if (move.color === "b") {
            firstChar = firstChar.toLowerCase();
        }
        firstChar = UTF_1.default.pieces[firstChar];
        logText += firstChar + move.san.substring(1);
    }
    else
        logText += move.san;
    logItem.innerHTML = logText + " ";
    log.appendChild(logItem);
}
log.onclick = (event) => {
    let target = event.target;
    if (target !== log) {
        let logItemIndex = Array.from(log.children).indexOf(target);
        log.innerHTML = "";
        if (gameController.currentGame) {
            let moves = gameController.currentGame.moves;
            for (let moveIndex = 0; moveIndex <= logItemIndex; moveIndex++) {
                let move = moves[moveIndex];
                addLogItem(moveIndex, move);
            }
            gameController.goToMove(logItemIndex);
        }
    }
};
//Testing Firestore
// let bobby = document.getElementById("bobby");
// bobby.addEventListener("click", loadBobby);
// async function loadBobby(){
//     let games = await GetAllGames("/Legends/Bobby Fischer/Games");
//     games.reverse();
//     games.sort((a,b) => b.Date.localeCompare(a.Date));
// }


/***/ }),

/***/ "./src/components/chess/assets/data/games.json":
/*!*****************************************************!*\
  !*** ./src/components/chess/assets/data/games.json ***!
  \*****************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"games":[{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"30","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2560","BlackElo":"2785","ECO":"E83"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 O-O 6.Be3 Nc6 7.Nge2 a6 8.h4 h5 9.Nc1 Nd7 10.Nb3 a5 11.a4 Nb4 12.Be2 b6 13.g4 hxg4 14.fxg4 c5 15.h5 cxd4 16.Nxd4 Nc5 17.Nd5 Bb7 18.Nf5 gxf5 19.gxf5 Bxd5 20.exd5 Bxb2 21.Kf1 Qd7 22.Qb1 Bxa1 23.Rg1+ Kh8 24.Qxa1+ f6 25.Qb1 Rg8 26.Rg6 Rxg6 27.hxg6 Kg7  0-1 "},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"29","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.c4 c6 12.cxb5 axb5 13.Nc3 Bb7 14.Bg5 b4 15.Nb1 h6 16.Bh4 c5 17.dxe5 Nxe4 18.Bxe7 Qxe7 19.exd6 Qf6 20.Nbd2 Nxd6 21.Nc4 Nxc4 22.Bxc4 Nb6 23.Ne5 Rae8 24.Bxf7+ Rxf7 25.Nxf7 Rxe1+ 26.Qxe1 Kxf7 27.Qe3 Qg5 28.Qxg5 hxg5 29.b3 Ke6 30.a3 Kd6 31.axb4 cxb4 32.Ra5 Nd5 33.f3 Bc8 34.Kf2 Bf5 35.Ra7 g6 36.Ra6+ Kc5 37.Ke1 Nf4 38.g3 Nxh3 39.Kd2 Kb5 40.Rd6 Kc5 41.Ra6 Nf2 42.g4 Bd3 43.Re6 Kd5 44.Rb6 Kc5 45.Re6  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"28","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"E83"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 O-O 6.Be3 Nc6 7.Nge2 a6 8.h4 h5 9.Nc1 e5 10.d5 Nd4 11.Nb3 Nxb3 12.Qxb3 Kh7 13.Be2 Bh6 14.Bxh6 Kxh6 15.O-O-O Kg7 16.Kb1 Qe7 17.Rdg1 Rh8 18.g4 hxg4 19.fxg4 Nd7 20.g5 Nc5 21.Qd1 a5 22.Rf1 Bd7 23.Qe1 Rh7 24.Qg3 Rf8 25.Rf6 Rfh8 26.b3 Be8 27.Bg4 Bd7 28.Bd1 Be8 29.Bg4 Bd7 30.Bd1 Be8 31.Rf2 c6 32.a4 Qd8 33.Ka2 Qe7 34.Bg4 Bd7 35.Bd1 Be8  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"27","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"C69"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Bxc6 dxc6 5.O-O f6 6.d4 exd4 7.Nxd4 c5 8.Ne2 Qxd1 9.Rxd1 Bd7 10.Nbc3 Ne7 11.Bf4 O-O-O 12.Rd2 Ng6 13.Bg3 Ne5 14.Bxe5 fxe5 15.Rad1 c4 16.Kf1 Bc5 17.Ng1 Bg4 18.Rxd8+ Rxd8 19.Rxd8+ Kxd8 20.Nce2 Ke7 21.Ke1 b5 22.c3 Kf6 23.h3 Bh5 24.Ng3 Bf7 25.Nf3 g6 26.Nf1 g5 27.Ke2 Bg6 28.N3d2 h5 29.Ne3 c6 30.Kf3 Bf7 31.Ndf1 a5 32.Ke2 Be6 33.Ng3 Kg6 34.a3 Bf7 35.Ngf5 Be6 36.Kf3 Bd7 37.Kg3 Be6 38.h4 Bd7 39.hxg5 Kxg5 40.Nh4 Bg4 41.Nxg4 hxg4 42.Nf5 a4 43.f3 gxf3 44.Kxf3 Bf8 45.Ne3 Kh5 46.Nf5 Bc5  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"26","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2560","BlackElo":"2785","ECO":"E90"},"moveText":"1.d4 Nf6 2.c4 c5 3.d5 d6 4.Nc3 g6 5.e4 Bg7 6.Bd3 O-O 7.Nf3 Bg4 8.h3 Bxf3 9.Qxf3 Nbd7 10.Qd1 e6 11.O-O exd5 12.exd5 Ne8 13.Bd2 Ne5 14.Be2 f5 15.f4 Nf7 16.g4 Nh6 17.Kg2 Nc7 18.g5 Nf7 19.Rb1 Re8 20.Bd3 Rb8 21.h4 a6 22.Qc2 b5 23.b3 Rb7 24.Rbe1 Rxe1 25.Rxe1 Qb8 26.Bc1 Qd8 27.Ne2 bxc4 28.bxc4 Ne8 29.h5 Re7 30.h6 Bh8 31.Bd2 Rb7 32.Rb1 Qb8 33.Ng3 Rxb1 34.Qxb1 Qxb1 35.Bxb1 Bb2 36.Kf3 Kf8 37.Ke2 Nh8 38.Kd1 Ke7 39.Kc2 Bd4 40.Kb3 Bf2 41.Nh1 Bh4 42.Ka4 Nc7 43.Ka5 Kd7 44.Kb6 Kc8 45.Bc2 Nf7 46.Ba4 Kb8 47.Bd7 Nd8 48.Bc3 Na8+ 49.Kxa6 Nc7+ 50.Kb6 Na8+ 51.Ka5 Kb7 52.Kb5 Nc7+ 53.Ka4 Na8 54.Kb3 Kc7 55.Be8 Kc8 56.Bf6 Nc7 57.Bxg6 hxg6 58.Bxd8  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"25","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"B80"},"moveText":"1.e4 c5 2.Nc3 Nc6 3.Nge2 d6 4.d4 cxd4 5.Nxd4 e6 6.Be3 Nf6 7.Qd2 Be7 8.f3 a6 9.O-O-O O-O 10.g4 Nxd4 11.Bxd4 b5 12.g5 Nd7 13.h4 b4 14.Na4 Bb7 15.Nb6 Rb8 16.Nxd7 Qxd7 17.Kb1 Qc7 18.Bd3 Bc8 19.h5 e5 20.Be3 Be6 21.Rdg1 a5 22.g6 Bf6 23.gxh7+ Kh8 24.Bg5 Qe7 25.Rg3 Bxg5 26.Rxg5 Qf6 27.Rhg1 Qxf3 28.Rxg7 Qf6 29.h6 a4 30.b3 axb3 31.axb3 Rfd8 32.Qg2 Rf8 33.Rg8+ Kxh7 34.Rg7+ Kh8 35.h7  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"24","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"B23"},"moveText":"1.e4 c5 2.Ne2 Nf6 3.Nbc3 d6 4.g3 g6 5.Bg2 Nc6 6.O-O Bg7 7.d4 cxd4 8.Nxd4 Bg4 9.Nde2 Qc8 10.f3 Bh3 11.Bxh3 Qxh3 12.Bg5 O-O 13.Qd2 h6 14.Be3 Kh7 15.Rac1 Qd7 16.Nd5 Nxd5 17.exd5 Ne5 18.b3 b5 19.Bd4 Rac8 20.f4 Ng4 21.Bxg7 Kxg7 22.Nd4 Nf6 23.c4 bxc4 24.bxc4 e6 25.dxe6 fxe6 26.Rfe1 Rfe8 27.Nb3 a6 28.Qd4 Rc6 29.Red1 e5 30.fxe5 Rxe5 31.Qxe5 dxe5 32.Rxd7+ Nxd7 33.Rd1 Nf6 34.c5 Kf7 35.Rc1 Nd7 36.Kf2 Ke6 37.Ke3 Kd5 38.Rd1+ Ke6 39.Rc1 Kd5  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"23","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"B23"},"moveText":"1.e4 c5 2.Nc3 e6 3.Nge2 Nc6 4.g3 d5 5.exd5 exd5 6.d3 Nf6 7.Bg2 Be7 8.Bg5 d4 9.Bxf6 Bxf6 10.Ne4 Be7 11.Nf4 O-O 12.O-O Re8 13.Qh5 g6 14.Qd5 Bf5 15.Rfe1 Kg7 16.a3 Rc8 17.h3 Qxd5 18.Nxd5 Bf8 19.g4 Be6 20.Nef6 Red8 21.g5 Bd6 22.Re4 Ne7 23.Rh4 Rh8 24.Re1 Nf5 25.Rhe4 h6 26.h4 hxg5 27.hxg5 Rh4 28.Rxh4 Nxh4 29.Re4 Nf5 30.Nf4 Ba2 31.N4d5 Bxd5 32.Nxd5 Kf8 33.Kf1 Re8 34.Rxe8+ Kxe8 35.Nf6+ Kd8 36.Bxb7 Bf4 37.Ne4 Bc1 38.a4 Bxb2 39.Nxc5 Bc1 40.Be4 Bxg5 41.Bxf5 gxf5 42.Nb3 Bf6 43.Kg2 Kd7 44.Kg3 Ke6 45.Na5 Be5+ 46.Kh4 Bf6+ 47.Kh5 Kd5 48.Kh6 Kc5 49.Kh7 Kb4 50.Nc6+ Kc3 51.Kg8 Kxc2 52.Kxf7 Bh8 53.a5 Kxd3 54.a6 Ke2 55.Nxa7 d3 56.Nc6 d2 57.a7 d1=Q 58.a8=Q Qd5+ 59.Kg6 Qe6+ 60.Kh7 Bc3 61.Nd8 Qe7+ 62.Kg6 Qf6+ 63.Kh5 Qh8+ 64.Kg6 Qg7+ 65.Kxf5 Qf6+ 66.Kg4 Qg6+ 67.Kf4 Bd2+ 68.Ke5 Bc3+ 69.Kf4 Qd6+ 70.Kf5 Qd7+ 71.Kg5 Qe7+ 72.Kf5 Qf6+ 73.Kg4 Qg7+ 74.Kf5 Qf6+ 75.Kg4 Qg6+ 76.Kf4 Bd2+ 77.Ke5 Qg5+ 78.Ke6 Qg4+ 79.Kf7 Qd7+ 80.Kg6  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"22","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"B25"},"moveText":"1.e4 c5 2.Ne2 Nf6 3.Nbc3 d6 4.g3 Nc6 5.Bg2 g6 6.O-O Bg7 7.d3 O-O 8.h3 Rb8 9.f4 Bd7 10.Be3 b5 11.a3 Ne8 12.d4 cxd4 13.Nxd4 b4 14.Nxc6 Bxc6 15.axb4 Rxb4 16.Rxa7 Rxb2 17.e5 Bxg2 18.Kxg2 Nc7 19.exd6 exd6 20.Na4 Ra2 21.Bb6 Qe8 22.Rxc7 Qxa4 23.Qxd6 Rxc2+ 24.Rxc2 Qxc2+ 25.Bf2 Qe4+ 26.Kg1  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"21","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"B44"},"moveText":"1.e4 c5 2.Nf3 Nc6 3.d4 cxd4 4.Nxd4 e6 5.Nb5 d6 6.c4 Nf6 7.N5c3 Be7 8.g3 O-O 9.Bg2 a6 10.O-O Rb8 11.Na3 Qc7 12.Be3 Bd7 13.Rc1 Ne5 14.h3 Rfc8 15.f4 Ng6 16.Qd2 Be8 17.Rfd1 b6 18.Qf2 h6 19.Kh2 Qa7 20.Qe2 Qc7 21.Bf3 Bc6 22.Nab1 Qb7 23.Nd2 b5 24.cxb5 axb5 25.b4 Qa8 26.Rc2 d5 27.e5 Ne4 28.Bxe4 dxe4 29.Bc5 Bxc5 30.bxc5 Rd8 31.Re1 Ne7 32.Ncxe4 Nf5 33.Nb3 Nd4 34.Nxd4 Rxd4 35.Nd6 Qa4 36.f5 Ra8 37.Rb2 Qa3 38.fxe6 fxe6 39.Nxb5 Bxb5 40.Qxb5 Rd3 41.Rg2 Qc3 42.Ree2 Ra3 43.Rc2 Qxe5 44.Rce2 Re3 45.Rxe3 Rxe3 46.a4 Rc3 47.c6 Qd6 48.c7 Rxc7 49.Qb8+ Kh7 50.a5 h5 51.h4 Qc5 52.a6 Rf7 53.Qb1+ Kh6 54.Qa2 Re7 55.Qd2+ Kg6 56.Re2 Kh7 57.Qc2+ Qxc2 58.Rxc2 Kg6 59.Ra2 Ra7 60.Ra5 e5 61.Kg2 Kf5 62.Kf2 Ke6 63.Ke3 Kf5 64.Kf3 g6 65.Ra3 g5 66.hxg5 Kxg5 67.Ke4  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"20","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2560","BlackElo":"2785","ECO":"B24"},"moveText":"1.e4 c5 2.Ne2 Nf6 3.Nbc3 e6 4.g3 Nc6 5.Bg2 Be7 6.O-O d6 7.d3 a6 8.a3 Qc7 9.f4 b5 10.Kh1 O-O 11.Be3 Bb7 12.Bg1 Rab8 13.h3 Ba8 14.g4 b4 15.axb4 cxb4 16.Na4 Nd7 17.Qd2 Rfc8 18.b3 a5 19.g5 Bf8 20.Ra2 Ne7 21.Nd4 g6 22.Nb2 Bg7 23.Nc4 d5 24.Nxa5 dxe4 25.dxe4 e5 26.Ne2 exf4 27.Nxf4 Ne5 28.Nd3 Rb5 29.Nxe5 Qxe5 30.Nc4 Qxg5 31.Be3 Qh4 32.Nd6 Bc3 33.Qf2 Qxf2 34.Rxf2 Rbb8 35.Nxc8 Rxc8 36.Ra7 Kf8 37.Bh6+ Ke8 38.Bg5 f6 39.Bxf6 Bxf6 40.Rxf6 Bc6 41.Kg1 Bd7 42.Rd6 Bc6 43.Bf1  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"19","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"B23"},"moveText":"1.e4 c5 2.Nc3 Nc6 3.Nge2 e5 4.Nd5 Nge7 5.Nec3 Nxd5 6.Nxd5 Be7 7.g3 d6 8.Bg2 h5 9.h4 Be6 10.d3 Bxd5 11.exd5 Nb8 12.f4 Nd7 13.O-O g6 14.Rb1 f5 15.b4 b6 16.bxc5 bxc5 17.c4 O-O 18.Qa4 Bf6 19.Rb7 Nb6 20.Qb5 Rf7 21.Rxf7 Kxf7 22.Bd2 Rb8 23.Qc6 Nc8 24.Re1 Ne7 25.Qa4 Qc7 26.Kh2 exf4 27.Bxf4 Be5 28.Re2 Rb6 29.Kh3 Ng8 30.Rxe5 dxe5 31.Bxe5 Qe7 32.d6 Rxd6 33.Bxd6 Qxd6 34.Bd5+ Kf8 35.Qxa7 Ne7 36.Qa8+ Kg7 37.Qb7 Kf8 38.a4 f4 39.a5 fxg3 40.a6 Qf4 41.Bf3 Nf5 42.Qe4 g2 43.Qxf4 g1=Q 44.Be4 Qa1 45.a7 Qxa7 46.Bxf5 gxf5 47.Qxf5+ Kg7 48.Qg5+ Kf8 49.Qh6+ Kg8 50.Qxh5 Qc7 51.Qg6+ Kh8 52.Qf6+ Kg8 53.Qe6+ Kh8 54.Qd5 Qf7 55.Kg2 Qg6+ 56.Kh3 Qf7 57.Qe5+ Kh7 58.Kg4 Qg6+ 59.Kf4 Qh6+ 60.Kf3 Qg6 61.Qe4 Kh8 62.Ke2 Qd6 63.Qe3 Qh2+ 64.Ke1 Qh1+ 65.Kd2 Qh2+ 66.Kc3 Qxh4 67.d4 Kh7 68.d5 Qf6+ 69.Kc2 Qd6 70.Qg5 Kh8 71.Kd2 Qb6 72.Qe5+ Kg8 73.Qe8+ Kg7 74.Qb5 Qc7 75.Kc2 Kf8 76.Qa6 Qh2+ 77.Kb3 Qb8+ 78.Qb5 Qc7 79.Ka3 Qa7+ 80.Kb3 Ke7 81.Kc2 Kd8 82.Kd2 Qc7 83.Qa6 Qf4+ 84.Kc2 Qe4+  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"18","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"D27"},"moveText":"1.d4 d5 2.c4 dxc4 3.Nf3 e6 4.e3 Nf6 5.Bxc4 a6 6.O-O c5 7.dxc5 Qxd1 8.Rxd1 Bxc5 9.Nbd2 O-O 10.a3 b5 11.Be2 Bb7 12.b4 Be7 13.Bb2 Nbd7 14.Rac1 Rfc8 15.Nb3 Rxc1 16.Rxc1 Rc8 17.Rxc8+ Bxc8 18.Nfd4 Nb8 19.Bf3 Kf8 20.Na5 Bd6 21.Ndb3 e5 22.Nc5 Ke7 23.h3 Nfd7 24.Nd3 f6 25.Be4 g6 26.f4 exf4 27.exf4 Nb6 28.Nb7 Bc7 29.Nbc5 Nc4 30.Bc1 Nd7 31.Kf1 Nxc5 32.Nxc5 Bb6 33.Bd3 Bxc5 34.bxc5 Be6 35.Kf2 Kd7 36.Bxc4 Bxc4  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"17","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"B23"},"moveText":"1.e4 c5 2.Nc3 Nc6 3.Nge2 e6 4.g3 d5 5.exd5 exd5 6.Bg2 d4 7.Nd5 Nf6 8.Nef4 Nxd5 9.Nxd5 Bd6 10.O-O O-O 11.d3 Be6 12.Nf4 Bf5 13.h3 Rb8 14.Bd2 Re8 15.Re1 Rxe1+ 16.Qxe1 Qd7 17.g4 Re8 18.Qd1 Bxf4 19.Bxf4 Be6 20.Qf3 Nb4 21.Qxb7 Qxb7 22.Bxb7 Nxc2 23.Rc1 Nb4 24.Be4 Bxa2 25.Bd2 Bd5 26.Bxd5 Nxd5 27.Rxc5 Nb6 28.Kf1 f6 29.Ra5 Re7 30.Bb4 Rd7 31.Bc5 Kf7 32.Ke2 g5 33.Kf3 Kg6 34.Ke4 h5 35.Bxd4 Re7+ 36.Kf3 h4 37.Bc5 Re1 38.Rxa7 Nd5 39.Bf8 Re8 40.Bd6 Re6 41.Rd7 Nb6 42.Rd8 Nd5 43.b4 Re1 44.b5 Rb1 45.Rb8 Rb3 46.Ke4 Nc3+ 47.Kd4 Nxb5+ 48.Kc4 Rc3+ 49.Kxb5 Rxd3 50.Kc6 Rxh3 51.Kd5 Rf3 52.Ke6 Rxf2 53.Rg8+ Kh7 54.Kf7 Ra2 55.Rg7+ Kh6 56.Bf8 Ra7+ 57.Kxf6 Ra6+ 58.Kf7  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"16","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2560","BlackElo":"2785","ECO":"E70"},"moveText":"1.d4 Nf6 2.c4 c5 3.d5 d6 4.Nc3 g6 5.e4 Bg7 6.Bg5 h6 7.Bh4 g5 8.Bg3 Qa5 9.Bd3 Nxe4 10.Bxe4 Bxc3+ 11.bxc3 Qxc3+ 12.Kf1 f5 13.Rc1 Qf6 14.h4 g4 15.Bd3 f4 16.Ne2 fxg3 17.Nxg3 Rf8 18.Rc2 Nd7 19.Qxg4 Ne5 20.Qe4 Bd7 21.Kg1 O-O-O 22.Bf1 Rg8 23.f4 Nxc4 24.Nh5 Qf7 25.Qxc4 Qxh5 26.Rb2 Rg3 27.Be2 Qf7 28.Bf3 Rdg8 29.Qb3 b6 30.Qe3 Qf6 31.Re2 Bb5 32.Rd2 e5 33.dxe6 Bc6 34.Kf1 Bxf3  0-1"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"15","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"E07"},"moveText":"1.c4 e6 2.Nf3 Nf6 3.g3 d5 4.Bg2 Be7 5.O-O O-O 6.d4 Nbd7 7.Nbd2 b6 8.cxd5 exd5 9.Ne5 Bb7 10.Ndf3 Ne4 11.Bf4 Ndf6 12.Rc1 c5 13.dxc5 bxc5 14.Ng5 Nxg5 15.Bxg5 Ne4 16.Bxe7 Qxe7 17.Bxe4 dxe4 18.Nc4 e3 19.f3 Rad8 20.Qb3 Rfe8 21.Rc3 Bd5 22.Rfc1 g6 23.Qa3 Bxf3 24.exf3 e2 25.Re1 Rd1 26.Kf2 Rxe1 27.Kxe1 Qd7 28.Qb3 Qh3 29.Ne3 Qxh2 30.g4 Rb8 31.Qd5 Rxb2 32.Qd8+ Kg7 33.Nf5+ gxf5  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"14","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"D27"},"moveText":"1.d4 d5 2.c4 dxc4 3.Nf3 Nf6 4.e3 e6 5.Bxc4 c5 6.O-O a6 7.dxc5 Qxd1 8.Rxd1 Bxc5 9.b3 b5 10.Be2 Bb7 11.Bb2 Nbd7 12.Nbd2 O-O 13.Rac1 Rfc8 14.h3 Kf8 15.Kf1 Ke7 16.Ne1 Bd6 17.a4 Bc6 18.axb5 axb5 19.Rc2 Rc7 20.Rdc1 Rac8 21.Bf3 Bxf3 22.Ndxf3 e5 23.Rxc7 Rxc7 24.Rxc7 Bxc7 25.Nc2 Ne4 26.Na3 b4 27.Nc4 f6 28.Ne1 Ndc5 29.Nc2 Nxb3 30.Nxb4 Nbd2+ 31.Nxd2 Nxd2+ 32.Ke2 Nc4  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"13","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"B31"},"moveText":"1.e4 c5 2.Nf3 Nc6 3.Bb5 g6 4.Bxc6 bxc6 5.O-O Bg7 6.Re1 f6 7.c3 Nh6 8.d4 cxd4 9.cxd4 O-O 10.Nc3 d6 11.Qa4 Qb6 12.Nd2 Nf7 13.Nc4 Qa6 14.Be3 Qxa4 15.Nxa4 f5 16.exf5 Bxf5 17.Rac1 Rfc8 18.Na5 Bd7 19.b3 Rab8 20.Nc3 Kf8 21.a3 Nh6 22.b4 Nf5 23.Red1 Ke8 24.Ne4 Rb5 25.h3 h5 26.Rd2 a6 27.Kf1 Rd5 28.Rcd1 Rb5 29.Ke2 Be6 30.Rc1 Kd7 31.Nc3 Rbb8 32.Kf1 h4 33.Ke2 Bf6 34.Ne4 Bd5 35.Kd3 Bg7 36.Rdc2 Rc7 37.Re1 Rf8 38.f3 Rb8 39.Nc3 Bg8 40.Ne2 Bf7 41.Bd2 Bf6 42.Rec1 Rbc8 43.Nc4 Rb7 44.Na5 Rbc7 45.Nc4 Rb7  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"12","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2560","BlackElo":"2785","ECO":"E83"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 O-O 6.Be3 Nc6 7.Nge2 a6 8.h4 h5 9.Nc1 e5 10.d5 Ne7 11.Be2 Nh7 12.Nd3 f5 13.a4 Nf6 14.Nf2 a5 15.Qc2 c5 16.O-O-O b6 17.Rdg1 Nh7 18.Nb5 Kh8 19.g4 hxg4 20.fxg4 f4 21.Bd2 g5 22.hxg5 Ng6 23.Rh5 Rf7 24.Rgh1 Bf8 25.Qb3 Rb8 26.Qh3 Rbb7 27.Nd3 Kg8 28.Ne1 Rg7 29.Nf3 Rbf7 30.Rh6 Qd7 31.Qh5 Qxg4 32.Rxg6 Qxh5 33.Rxg7+ Rxg7 34.Rxh5 Bg4 35.Rh4 Bxf3 36.Bxf3 Nxg5 37.Bg4 Rh7 38.Rxh7 Kxh7 39.Kc2 Be7 40.Kd3 Kg6 41.Nc7 Kf7 42.Ne6 Nh7 43.Bh5+ Kg8 44.Be1 Nf6 45.Bh4 Kh7 46.Bf7 Nxd5 47.cxd5 Bxh4 48.Bh5 Kh6 49.Be2 Bf2 50.Kc4 Bd4 51.b3 Kg6 52.Kb5 Kf6 53.Kc6 Ke7 54.Ng7  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"11","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"B31"},"moveText":"1.e4 c5 2.Nf3 Nc6 3.Bb5 g6 4.Bxc6 bxc6 5.O-O Bg7 6.Re1 e5 7.b4 cxb4 8.a3 c5 9.axb4 cxb4 10.d4 exd4 11.Bb2 d6 12.Nxd4 Qd7 13.Nd2 Bb7 14.Nc4 Nh6 15.Nf5 Bxb2 16.Ncxd6+ Kf8 17.Nxh6 f6 18.Ndf7 Qxd1 19.Raxd1 Ke7 20.Nxh8 Rxh8 21.Nf5+ gxf5 22.exf5+ Be5 23.f4 Rc8 24.fxe5 Rxc2 25.e6 Bc6 26.Rc1 Rxc1 27.Rxc1 Kd6 28.Rd1+ Ke5 29.e7 a5 30.Rc1 Bd7 31.Rc5+ Kd4 32.Rxa5 b3 33.Ra7 Be8 34.Rb7 Kc3 35.Kf2 b2 36.Ke3 Bf7 37.g4 Kc2 38.Kd4 b1=Q 39.Rxb1 Kxb1 40.Kc5 Kc2 41.Kd6  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"10","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"E35"},"moveText":"1.d4 Nf6 2.c4 e6 3.Nc3 Bb4 4.Qc2 d5 5.cxd5 exd5 6.Bg5 h6 7.Bh4 c5 8.dxc5 Nc6 9.e3 g5 10.Bg3 Qa5 11.Nf3 Ne4 12.Nd2 Nxc3 13.bxc3 Bxc3 14.Rb1 Qxc5 15.Rb5 Qa3 16.Rb3 Bxd2+ 17.Qxd2 Qa5 18.Bb5 Qxd2+ 19.Kxd2 Bd7 20.Bxc6 Bxc6 21.h4 Ke7 22.Be5 f6 23.Bd4 g4 24.Rc1 Ke6 25.Rb4 h5 26.Rc3 Rhc8 27.a4 b6 28.Kc2 Be8 29.Kb2 Rxc3 30.Bxc3 Rc8 31.e4 Bc6 32.exd5+ Bxd5 33.g3 Bc4 34.Bd4 Kd5 35.Be3 Rc7 36.Kc3 f5 37.Kb2 Ke6 38.Kc3 Bd5+ 39.Kb2 Be4 40.a5 bxa5 41.Rb5 a4 42.Rc5 Rb7+ 43.Ka3 a6 44.Kxa4 Bd5 45.Ka5 Ke5 46.Kxa6 Rb3 47.Rc7 Ke4 48.Rh7 Rxe3 49.fxe3 Kxe3 50.Rxh5 Be4 51.Rh8 Kf3 52.Re8 Kxg3 53.h5 Bd3+ 54.Kb6 f4 55.Kc5 f3 56.Kd4 Bf5 57.Rf8 Kf4 58.h6 g3 59.h7 g2 60.h8=Q g1=Q+ 61.Kc4 Qc1+ 62.Kb3 Qc2+ 63.Kb4 Qe4+ 64.Kc3 Qc6+ 65.Kb3 Qd5+ 66.Kc3 Qc5+ 67.Kb2 Qb4+ 68.Ka2  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"9","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"C69"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Bxc6 dxc6 5.O-O f6 6.d4 exd4 7.Nxd4 c5 8.Nb3 Qxd1 9.Rxd1 Bg4 10.f3 Be6 11.Nc3 Bd6 12.Be3 b6 13.a4 O-O-O 14.a5 Kb7 15.e5 Be7 16.Rxd8 Bxd8 17.Ne4 Kc6 18.axb6 cxb6 19.Nbxc5 Bc8 20.Nxa6 fxe5 21.Nb4+  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"8","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2560","BlackElo":"2785","ECO":"E84"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 O-O 6.Be3 Nc6 7.Nge2 a6 8.Qd2 Rb8 9.h4 h5 10.Bh6 e5 11.Bxg7 Kxg7 12.d5 Ne7 13.Ng3 c6 14.dxc6 Nxc6 15.O-O-O Be6 16.Kb1 Ne8 17.Nd5 b5 18.Ne3 Rh8 19.Rc1 Qb6 20.Bd3 Nd4 21.Nd5 Qa7 22.Nf1 Nf6 23.Nfe3 Bxd5 24.cxd5 Rbc8 25.Rcf1 Qe7 26.g4 Nd7 27.g5 Kf8 28.Rf2 Ke8 29.Bf1 Nc5 30.Bh3 Rc7 31.Rc1 Ncb3 32.axb3 Nxb3 33.Rc6 Nxd2+ 34.Rxd2 Kf8 35.Rxa6 Ra7 36.Rc6 Kg7 37.Bf1 Ra1+ 38.Kxa1 Qa7+ 39.Kb1 Qxe3 40.Kc2 b4  0-1"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"7","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"C92"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.d3 Na5 10.Bc2 c5 11.Nbd2 Re8 12.h3 Bf8 13.Nf1 Bb7 14.Ng3 g6 15.Bg5 h6 16.Bd2 d5 17.exd5 c4 18.b4 cxd3 19.Bxd3 Qxd5 20.Be4 Nxe4 21.Nxe4 Bg7 22.bxa5 f5 23.Ng3 e4 24.Nh4 Bf6 25.Nxg6 e3 26.Nf4 Qxd2 27.Rxe3 Qxd1+ 28.Rxd1 Rxe3 29.fxe3 Rd8 30.Rxd8+ Bxd8 31.Nxf5 Bxa5 32.Nd5 Kf8 33.e4 Bxd5 34.exd5 h5 35.Kf2 Bxc3 36.Ke3 Kf7 37.Kd3 Bb2 38.g4 hxg4 39.hxg4 Kf6 40.d6 Ke6 41.g5 a5 42.g6 Bf6 43.g7 Kf7 44.d7  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"6","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"D27"},"moveText":"1.d4 d5 2.c4 dxc4 3.Nf3 Nf6 4.e3 e6 5.Bxc4 c5 6.O-O a6 7.dxc5 Qxd1 8.Rxd1 Bxc5 9.b3 Nbd7 10.Bb2 b5 11.Be2 Bb7 12.Nbd2 Ke7 13.a4 bxa4 14.Rxa4 Rhb8 15.Rc1 Bd5 16.Ne5 Bd6 17.Nxd7 Nxd7 18.Rxa6 Rxa6 19.Bxa6 f6 20.Bc4 Bxc4 21.Rxc4 Nc5 22.Rc3 f5 23.Ba3 Ne4 24.Rc7+ Kd8 25.Bxd6 Nxd2 26.Rxg7 Rxb3 27.h4 h5 28.Bf4 Ke8 29.Kh2 Rb2 30.Kh3 Ne4 31.f3 Nf2+ 32.Kg3 Nd3 33.Bg5 e5 34.Kh3 Nf2+ 35.Kh2 Nd3 36.Bh6 Ne1 37.Kg1 Nd3 38.Bg5 Rb1+ 39.Kh2 Rb2 40.Re7+ Kf8 41.Re6 Kg7 42.Kh3 Re2 43.Rd6 Ne1 44.Bf6+ Kg8 45.Bxe5 Rxe3 46.Bf4 Re2 47.Rg6+ Kf7 48.Rg5 Ke6 49.Bc7 Ra2 50.Bb6 Nd3 51.Kh2 Ne1 52.Kh3 Nd3 53.Bc7 Rc2 54.Bb6 Ra2 55.Kg3 Ne1 56.Rxh5 Rxg2+ 57.Kf4 Nd3+ 58.Ke3 Ne5 59.Rh6+ Kd5 60.Bc7 Rg7 61.Bxe5 Kxe5  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"5","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"0-1","WhiteElo":"2785","BlackElo":"2560","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.Nbd2 Bb7 12.Bc2 Re8 13.Nf1 Bf8 14.Ng3 g6 15.Bg5 h6 16.Bd2 exd4 17.cxd4 c5 18.d5 Nb6 19.Ba5 Nfd7 20.b3 Bg7 21.Rc1 Qf6 22.Rb1 b4 23.Ne2 Qe7 24.a3 bxa3 25.Bc3 f5 26.Bxg7 Qxg7 27.Nf4 fxe4 28.Nh4 g5 29.Ne6 Qf6 30.Qg4 Nxd5 31.Nxg5 hxg5 32.Qxd7 Nb4 33.Qxb7 Nxc2 34.Rxe4 a2 35.Rf1 Nb4 36.Rg4 a1=Q 37.Rxa1 Qxa1+ 38.Kh2 Qg7 39.Qf3 Qe5+ 40.g3 Rf8 41.Qg2 Qf6 42.f4 Ra7 43.Rxg5+ Rg7 44.Rh5 Qe6 45.g4 Rxf4  0-1"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"4","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2560","BlackElo":"2785","ECO":"D27"},"moveText":"1.d4 d5 2.c4 dxc4 3.Nf3 Nf6 4.e3 e6 5.Bxc4 c5 6.O-O a6 7.dxc5 Qxd1 8.Rxd1 Bxc5 9.b3 Nbd7 10.Bb2 b6 11.Nc3 Bb7 12.Rac1 Be7 13.Nd4 Rc8 14.f3 b5 15.Be2 Bc5 16.Kf1 Ke7 17.e4 g5 18.Nb1 g4 19.Ba3 b4 20.Rxc5 Nxc5 21.Bxb4 Rhd8 22.Na3 gxf3 23.gxf3 Nd7 24.Nc4 Ba8 25.Kf2 Rg8 26.h4 Rc7 27.Nc2 Rb8 28.Ba3 h5 29.Rg1 Kf6 30.Ke3 a5 31.Rg5 a4 32.b4 Nb7 33.b5 Nbc5 34.Nd4 e5 35.Nxe5 Nxe5 36.Rf5+ Kg7 37.Rxe5 Nxe4 38.Bd3 Rc3 39.Bb4 Rxd3+ 40.Kxd3 Nf6 41.Bd6 Rc8 42.Rg5+ Kh7 43.Be5 Ne8 44.Rxh5+ Kg6 45.Rg5+ Kh7 46.Bf4 f6 47.Rf5 Kg6 48.b6 Rd8 49.Ra5 Bxf3 50.h5+  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"3","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.Nbd2 Bb7 12.Bc2 Re8 13.Nf1 Bf8 14.Ng3 g6 15.Bg5 h6 16.Bd2 exd4 17.cxd4 c5 18.Bf4 cxd4 19.Nxd4 Ne5 20.b3 d5 21.Qd2 dxe4 22.Nxe4 Nd5 23.Bg3 Rc8 24.Re2 f5 25.Bxe5 Rxe5 26.Ng3 Rxe2 27.Ngxe2 Nb4 28.Rd1 Nxc2 29.Nxc2 Qxd2 30.Rxd2 Rc7 31.Ne3 Kf7 32.h4 Bc8 33.Nf4 g5 34.hxg5 hxg5 35.Nd3 Bg7 36.Nd5 Rc6 37.N5b4 Rc7 38.Nd5 Rc6 39.N5b4 Rc7  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"2","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"E80"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 c5 6.dxc5 dxc5 7.Qxd8+ Kxd8 8.Be3 Nfd7 9.Nge2 b6 10.O-O-O Na6 11.g3 Nc7 12.f4 e6 13.Bh3 Ke7 14.Rhf1 h6 15.e5 Bb7 16.g4 Rad8 17.Ng3 f6 18.Nce4 fxe5 19.f5 Bxe4 20.Nxe4 gxf5 21.gxf5 Nf6 22.Rg1 Rxd1+ 23.Kxd1 Bf8 24.Nxf6 Kxf6 25.Rf1 exf5 26.Rxf5+ Kg7 27.Rxe5 Bd6 28.Re4 Bxh2 29.Ke2 h5 30.Re7+ Kf6 31.Rd7 Be5 32.b3 h4 33.Kf3 Rg8 34.Bg4 h3 35.Rh7 h2 36.Bf4 Rf8 37.Bxe5+ Kg6+ 38.Ke4 Kxh7 39.Bxh2 Re8+ 40.Kf5 Ne6 41.Kf6 Nd4 42.Bd6 Re4 43.Bd7 Re2 44.a4 Rb2 45.Bb8 a5 46.Ba7 Rxb3 47.Ke5 Nf3+ 48.Kd6 Nd2 49.Be6 Rb4 50.Kc6 Nb3 51.Bd5 Rxa4 52.Bxb6 Ra1 53.Bxc5 a4 54.Bb4 a3 55.c5 Nd4+ 56.Kd7 Rd1 57.Bxa3 Nc2 58.c6 Rxd5+ 59.Bd6  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"1","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.Nbd2 Bb7 12.Bc2 Re8 13.Nf1 Bf8 14.Ng3 g6 15.Bg5 h6 16.Bd2 Bg7 17.a4 c5 18.d5 c4 19.b4 Nh7 20.Be3 h5 21.Qd2 Rf8 22.Ra3 Ndf6 23.Rea1 Qd7 24.R1a2 Rfc8 25.Qc1 Bf8 26.Qa1 Qe8 27.Nf1 Be7 28.N1d2 Kg7 29.Nb1 Nxe4 30.Bxe4 f5 31.Bc2 Bxd5 32.axb5 axb5 33.Ra7 Kf6 34.Nbd2 Rxa7 35.Rxa7 Ra8 36.g4 hxg4 37.hxg4 Rxa7 38.Qxa7 f4 39.Bxf4 exf4 40.Nh4 Bf7 41.Qd4+ Ke6 42.Nf5 Bf8 43.Qxf4 Kd7 44.Nd4 Qe1+ 45.Kg2 Bd5+ 46.Be4 Bxe4+ 47.Nxe4 Be7 48.Nxb5 Nf8 49.Nbxd6 Ne6 50.Qe5  1-0"},{"tags":{"Event":"Cambridge","Site":"Cambridge","Date":"1977.??.??","Round":"?","White":"Fischer, Robert James","Black":"Greenblatt Programm","Result":"1-0","WhiteElo":"","BlackElo":"","ECO":"C33"},"moveText":"1.e4 e5 2.f4 exf4 3.Bc4 d5 4.Bxd5 Nf6 5.Nc3 Bb4 6.Nf3 O-O 7.O-O Nxd5 8.Nxd5 Bd6 9.d4 g5 10.Nxg5 Qxg5 11.e5 Bh3 12.Rf2 Bxe5 13.dxe5 c6 14.Bxf4 Qg7 15.Nf6+ Kh8 16.Qh5 Rd8 17.Qxh3 Na6 18.Rf3 Qg6 19.Rc1 Kg7 20.Rg3 Rh8 21.Qh6+  1-0"},{"tags":{"Event":"Cambridge","Site":"Cambridge","Date":"1977.??.??","Round":"?","White":"Greenblatt Programm","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"","BlackElo":"","ECO":"B34"},"moveText":"1.e4 c5 2.Nf3 g6 3.d4 Bg7 4.Nc3 cxd4 5.Nxd4 Nc6 6.Be3 Nf6 7.Nxc6 bxc6 8.e5 Ng8 9.f4 f6 10.exf6 Nxf6 11.Bc4 d5 12.Be2 Rb8 13.b3 Ng4 14.Bd4 e5 15.fxe5 O-O 16.Bxg4 Qh4+ 17.g3 Qxg4 18.Qxg4 Bxg4 19.Rf1 Rxf1+ 20.Kxf1 c5 21.Bf2 Bxe5 22.Be1 Rf8+ 23.Kg2 Rf3 24.h3 Rxc3 25.Bxc3 Bxc3 26.Rf1 Bf5 27.Rf2 h5 28.Re2 Kf7 29.Re3 Bd4 30.Rf3 Ke6 31.c3 Be5 32.Re3 d4 33.cxd4 cxd4 34.Re1 d3 35.h4 d2 36.Rd1 Bc3 37.Kf2 Bg4 38.Rh1 Bd4+ 39.Kg2 Kd5 40.a3 Ke4 41.Rf1 Kd3 42.Kh2 Ke2 43.Kg2 Bh3+ 44.Kxh3 Kxf1 45.b4 d1=Q 46.Kh2 Qe2+ 47.Kh3 Qg2+  0-1"},{"tags":{"Event":"Cambridge","Site":"Cambridge","Date":"1977.??.??","Round":"?","White":"Greenblatt Programm","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"","BlackElo":"","ECO":"B92"},"moveText":"1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6 6.Be2 e5 7.Nb3 Be7 8.Be3 O-O 9.Qd3 Be6 10.O-O Nbd7 11.Nd5 Rc8 12.Nxe7+ Qxe7 13.f3 d5 14.Nd2 Qb4 15.Nb3 dxe4 16.Qd1 Nd5 17.Ba7 b6 18.c3 Qe7 19.fxe4 Ne3 20.Qd3 Nxf1 21.Qxa6 Ne3 22.Bxb6 Qg5 23.g3 Ra8 24.Ba7 h5 25.Qb7 h4 26.Kf2 hxg3+ 27.hxg3 f5 28.exf5 Rxf5+ 29.Ke1 Raf8 30.Kd2 Nc4+ 31.Kc2 Qg6 32.Qe4 Nd6 33.Qc6 Rf2+ 34.Kd1 Bg4 35.Bxf2 Qd3+ 36.Kc1 Bxe2 37.Nd2 Rxf2 38.Qxd7 Rf1+ 39.Nxf1 Qd1+  0-1"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"21","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2660","BlackElo":"2785","ECO":"B46"},"moveText":"1.e4 c5 2.Nf3 e6 3.d4 cxd4 4.Nxd4 a6 5.Nc3 Nc6 6.Be3 Nf6 7.Bd3 d5 8.exd5 exd5 9.O-O Bd6 10.Nxc6 bxc6 11.Bd4 O-O 12.Qf3 Be6 13.Rfe1 c5 14.Bxf6 Qxf6 15.Qxf6 gxf6 16.Rad1 Rfd8 17.Be2 Rab8 18.b3 c4 19.Nxd5 Bxd5 20.Rxd5 Bxh2+ 21.Kxh2 Rxd5 22.Bxc4 Rd2 23.Bxa6 Rxc2 24.Re2 Rxe2 25.Bxe2 Rd8 26.a4 Rd2 27.Bc4 Ra2 28.Kg3 Kf8 29.Kf3 Ke7 30.g4 f5 31.gxf5 f6 32.Bg8 h6 33.Kg3 Kd6 34.Kf3 Ra1 35.Kg2 Ke5 36.Be6 Kf4 37.Bd7 Rb1 38.Be6 Rb2 39.Bc4 Ra2 40.Be6 h5 41.Bd7  0-1"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"20","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"B68"},"moveText":"1.e4 c5 2.Nf3 Nc6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 d6 6.Bg5 e6 7.Qd2 a6 8.O-O-O Bd7 9.f4 Be7 10.Be2 O-O 11.Bf3 h6 12.Bh4 Nxe4 13.Bxe7 Nxd2 14.Bxd8 Nxf3 15.Nxf3 Rfxd8 16.Rxd6 Kf8 17.Rhd1 Ke7 18.Na4 Be8 19.Rxd8 Rxd8 20.Nc5 Rb8 21.Rd3 a5 22.Rb3 b5 23.a3 a4 24.Rc3 Rd8 25.Nd3 f6 26.Rc5 Rb8 27.Rc3 g5 28.g3 Kd6 29.Nc5 g4 30.Ne4+ Ke7 31.Ne1 Rd8 32.Nd3 Rd4 33.Nef2 h5 34.Rc5 Rd5 35.Rc3 Nd4 36.Rc7+ Rd7 37.Rxd7+ Bxd7 38.Ne1 e5 39.fxe5 fxe5 40.Kd2 Bf5 41.Nd1 Kd6 42.Ne3 Be6 43.Kd3 Bf7 44.Kc3 Kc6 45.Kd3 Kc5 46.Ke4 Kd6 47.Kd3 Bg6+ 48.Kc3 Kc5 49.Nd3+ Kd6 50.Ne1 Kc6 51.Kd2 Kc5 52.Nd3+ Kd6 53.Ne1 Ne6 54.Kc3 Nd4  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"19","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"B05"},"moveText":"1.e4 Nf6 2.e5 Nd5 3.d4 d6 4.Nf3 Bg4 5.Be2 e6 6.O-O Be7 7.h3 Bh5 8.c4 Nb6 9.Nc3 O-O 10.Be3 d5 11.c5 Bxf3 12.Bxf3 Nc4 13.b3 Nxe3 14.fxe3 b6 15.e4 c6 16.b4 bxc5 17.bxc5 Qa5 18.Nxd5 Bg5 19.Bh5 cxd5 20.Bxf7+ Rxf7 21.Rxf7 Qd2 22.Qxd2 Bxd2 23.Raf1 Nc6 24.exd5 exd5 25.Rd7 Be3+ 26.Kh1 Bxd4 27.e6 Be5 28.Rxd5 Re8 29.Re1 Rxe6 30.Rd6 Kf7 31.Rxc6 Rxc6 32.Rxe5 Kf6 33.Rd5 Ke6 34.Rh5 h6 35.Kh2 Ra6 36.c6 Rxc6 37.Ra5 a6 38.Kg3 Kf6 39.Kf3 Rc3+ 40.Kf2 Rc2+  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"18","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"B69"},"moveText":"1.e4 c5 2.Nf3 d6 3.Nc3 Nc6 4.d4 cxd4 5.Nxd4 Nf6 6.Bg5 e6 7.Qd2 a6 8.O-O-O Bd7 9.f4 Be7 10.Nf3 b5 11.Bxf6 gxf6 12.Bd3 Qa5 13.Kb1 b4 14.Ne2 Qc5 15.f5 a5 16.Nf4 a4 17.Rc1 Rb8 18.c3 b3 19.a3 Ne5 20.Rhf1 Nc4 21.Bxc4 Qxc4 22.Rce1 Kd8 23.Ka1 Rb5 24.Nd4 Ra5 25.Nd3 Kc7 26.Nb4 h5 27.g3 Re5 28.Nd3 Rb8 29.Qe2 Ra5 30.fxe6 fxe6 31.Rf2 e5 32.Nf5 Bxf5 33.Rxf5 d5 34.exd5 Qxd5 35.Nb4 Qd7 36.Rxh5 Bxb4 37.cxb4 Rd5 38.Rc1+ Kb7 39.Qe4 Rc8 40.Rb1 Kb6 41.Rh7 Rd4 42.Qg6 Qc6 43.Rf7 Rd6 44.Qh6 Qf3 45.Qh7 Qc6 46.Qh6 Qf3 47.Qh7 Qc6  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"17","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"B09"},"moveText":"1.e4 d6 2.d4 g6 3.Nc3 Nf6 4.f4 Bg7 5.Nf3 c5 6.dxc5 Qa5 7.Bd3 Qxc5 8.Qe2 O-O 9.Be3 Qa5 10.O-O Bg4 11.Rad1 Nc6 12.Bc4 Nh5 13.Bb3 Bxc3 14.bxc3 Qxc3 15.f5 Nf6 16.h3 Bxf3 17.Qxf3 Na5 18.Rd3 Qc7 19.Bh6 Nxb3 20.cxb3 Qc5+ 21.Kh1 Qe5 22.Bxf8 Rxf8 23.Re3 Rc8 24.fxg6 hxg6 25.Qf4 Qxf4 26.Rxf4 Nd7 27.Rf2 Ne5 28.Kh2 Rc1 29.Ree2 Nc6 30.Rc2 Re1 31.Rfe2 Ra1 32.Kg3 Kg7 33.Rcd2 Rf1 34.Rf2 Re1 35.Rfe2 Rf1 36.Re3 a6 37.Rc3 Re1 38.Rc4 Rf1 39.Rdc2 Ra1 40.Rf2 Re1 41.Rfc2 g5 42.Rc1 Re2 43.R1c2 Re1 44.Rc1 Re2 45.R1c2  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"16","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"C69"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Bxc6 dxc6 5.O-O f6 6.d4 Bg4 7.dxe5 Qxd1 8.Rxd1 fxe5 9.Rd3 Bd6 10.Nbd2 Nf6 11.Nc4 Nxe4 12.Ncxe5 Bxf3 13.Nxf3 O-O 14.Be3 b5 15.c4 Rab8 16.Rc1 bxc4 17.Rd4 Rfe8 18.Nd2 Nxd2 19.Rxd2 Re4 20.g3 Be5 21.Rcc2 Kf7 22.Kg2 Rxb2 23.Kf3 c3 24.Kxe4 cxd2 25.Rxd2 Rb5 26.Rc2 Bd6 27.Rxc6 Ra5 28.Bf4 Ra4+ 29.Kf3 Ra3+ 30.Ke4 Rxa2 31.Bxd6 cxd6 32.Rxd6 Rxf2 33.Rxa6 Rxh2 34.Kf3 Rd2 35.Ra7+ Kf6 36.Ra6+ Ke7 37.Ra7+ Rd7 38.Ra2 Ke6 39.Kg2 Re7 40.Kh3 Kf6 41.Ra6+ Re6 42.Ra5 h6 43.Ra2 Kf5 44.Rf2+ Kg5 45.Rf7 g6 46.Rf4 h5 47.Rf3 Rf6 48.Ra3 Re6 49.Rf3 Re4 50.Ra3 Kh6 51.Ra6 Re5 52.Kh4 Re4+ 53.Kh3 Re7 54.Kh4 Re5 55.Rb6 Kg7 56.Rb4 Kh6 57.Rb6 Re1 58.Kh3 Rh1+ 59.Kg2 Ra1 60.Kh3 Ra4  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"15","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"B99"},"moveText":"1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6 6.Bg5 e6 7.f4 Be7 8.Qf3 Qc7 9.O-O-O Nbd7 10.Bd3 b5 11.Rhe1 Bb7 12.Qg3 O-O-O 13.Bxf6 Nxf6 14.Qxg7 Rdf8 15.Qg3 b4 16.Na4 Rhg8 17.Qf2 Nd7 18.Kb1 Kb8 19.c3 Nc5 20.Bc2 bxc3 21.Nxc3 Bf6 22.g3 h5 23.e5 dxe5 24.fxe5 Bh8 25.Nf3 Rd8 26.Rxd8+ Rxd8 27.Ng5 Bxe5 28.Qxf7 Rd7 29.Qxh5 Bxc3 30.bxc3 Qb6+ 31.Kc1 Qa5 32.Qh8+ Ka7 33.a4 Nd3+ 34.Bxd3 Rxd3 35.Kc2 Rd5 36.Re4 Rd8 37.Qg7 Qf5 38.Kb3 Qd5+ 39.Ka3 Qd2 40.Rb4 Qc1+ 41.Rb2 Qa1+ 42.Ra2 Qc1+ 43.Rb2 Qa1+  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"14","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"D37"},"moveText":"1.c4 e6 2.Nf3 d5 3.d4 Nf6 4.Nc3 Be7 5.Bf4 O-O 6.e3 c5 7.dxc5 Nc6 8.cxd5 exd5 9.Be2 Bxc5 10.O-O Be6 11.Rc1 Rc8 12.a3 h6 13.Bg3 Bb6 14.Ne5 Ne7 15.Na4 Ne4 16.Rxc8 Bxc8 17.Nf3 Bd7 18.Be5 Bxa4 19.Qxa4 Nc6 20.Bf4 Qf6 21.Bb5 Qxb2 22.Bxc6 Nc3 23.Qb4 Qxb4 24.axb4 bxc6 25.Be5 Nb5 26.Rc1 Rc8 27.Nd4 f6 28.Bxf6 Bxd4 29.Bxd4 Nxd4 30.exd4 Rb8 31.Rxc6 Rxb4 32.Kf1 Rxd4 33.Ra6 Kf7 34.Rxa7+ Kf6 35.Rd7 h5 36.Ke2 g5 37.Ke3 Re4+ 38.Kd3 Ke6 39.Rg7 Kf6 40.Rd7 Ke6  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"13","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2660","BlackElo":"2785","ECO":"B04"},"moveText":"1.e4 Nf6 2.e5 Nd5 3.d4 d6 4.Nf3 g6 5.Bc4 Nb6 6.Bb3 Bg7 7.Nbd2 O-O 8.h3 a5 9.a4 dxe5 10.dxe5 Na6 11.O-O Nc5 12.Qe2 Qe8 13.Ne4 Nbxa4 14.Bxa4 Nxa4 15.Re1 Nb6 16.Bd2 a4 17.Bg5 h6 18.Bh4 Bf5 19.g4 Be6 20.Nd4 Bc4 21.Qd2 Qd7 22.Rad1 Rfe8 23.f4 Bd5 24.Nc5 Qc8 25.Qc3 e6 26.Kh2 Nd7 27.Nd3 c5 28.Nb5 Qc6 29.Nd6 Qxd6 30.exd6 Bxc3 31.bxc3 f6 32.g5 hxg5 33.fxg5 f5 34.Bg3 Kf7 35.Ne5+ Nxe5 36.Bxe5 b5 37.Rf1 Rh8 38.Bf6 a3 39.Rf4 a2 40.c4 Bxc4 41.d7 Bd5 42.Kg3 Ra3+ 43.c3 Rha8 44.Rh4 e5 45.Rh7+ Ke6 46.Re7+ Kd6 47.Rxe5 Rxc3+ 48.Kf2 Rc2+ 49.Ke1 Kxd7 50.Rexd5+ Kc6 51.Rd6+ Kb7 52.Rd7+ Ka6 53.R7d2 Rxd2 54.Kxd2 b4 55.h4 Kb5 56.h5 c4 57.Ra1 gxh5 58.g6 h4 59.g7 h3 60.Be7 Rg8 61.Bf8 h2 62.Kc2 Kc6 63.Rd1 b3+ 64.Kc3 h1=Q 65.Rxh1 Kd5 66.Kb2 f4 67.Rd1+ Ke4 68.Rc1 Kd3 69.Rd1+ Ke2 70.Rc1 f3 71.Bc5 Rxg7 72.Rxc4 Rd7 73.Re4+ Kf1 74.Bd4 f2  0-1"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"12","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"D66"},"moveText":"1.c4 e6 2.Nf3 d5 3.d4 Nf6 4.Nc3 Be7 5.Bg5 h6 6.Bh4 O-O 7.e3 Nbd7 8.Rc1 c6 9.Bd3 dxc4 10.Bxc4 b5 11.Bd3 a6 12.a4 bxa4 13.Nxa4 Qa5+ 14.Nd2 Bb4 15.Nc3 c5 16.Nb3 Qd8 17.O-O cxd4 18.Nxd4 Bb7 19.Be4 Qb8 20.Bg3 Qa7 21.Nc6 Bxc6 22.Bxc6 Rac8 23.Na4 Rfd8 24.Bf3 a5 25.Rc6 Rxc6 26.Bxc6 Rc8 27.Bf3 Qa6 28.h3 Qb5 29.Be2 Qc6 30.Bf3 Qb5 31.b3 Be7 32.Be2 Qb4 33.Ba6 Rc6 34.Bd3 Nc5 35.Qf3 Rc8 36.Nxc5 Bxc5 37.Rc1 Rd8 38.Bc4 Qd2 39.Rf1 Bb4 40.Bc7 Rd7 41.Qc6 Qc2 42.Be5 Rd2 43.Qa8+ Kh7 44.Bxf6 gxf6 45.Qf3 f5 46.g4 Qe4 47.Kg2 Kg6 48.Rc1 Ba3 49.Ra1 Bb4 50.Rc1 Be7 51.gxf5+ exf5 52.Re1 Rxf2+ 53.Kxf2 Bh4+ 54.Ke2 Qxf3+ 55.Kxf3 Bxe1  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"11","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2660","BlackElo":"2785","ECO":"B97"},"moveText":"1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6 6.Bg5 e6 7.f4 Qb6 8.Qd2 Qxb2 9.Nb3 Qa3 10.Bxf6 gxf6 11.Be2 h5 12.O-O Nc6 13.Kh1 Bd7 14.Nb1 Qb4 15.Qe3 d5 16.exd5 Ne7 17.c4 Nf5 18.Qd3 h4 19.Bg4 Nd6 20.N1d2 f5 21.a3 Qb6 22.c5 Qb5 23.Qc3 fxg4 24.a4 h3 25.axb5 hxg2+ 26.Kxg2 Rh3 27.Qf6 Nf5 28.c6 Bc8 29.dxe6 fxe6 30.Rfe1 Be7 31.Rxe6  1-0"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"10","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2660","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.Nbd2 Bb7 12.Bc2 Re8 13.b4 Bf8 14.a4 Nb6 15.a5 Nbd7 16.Bb2 Qb8 17.Rb1 c5 18.bxc5 dxc5 19.dxe5 Nxe5 20.Nxe5 Qxe5 21.c4 Qf4 22.Bxf6 Qxf6 23.cxb5 Red8 24.Qc1 Qc3 25.Nf3 Qxa5 26.Bb3 axb5 27.Qf4 Rd7 28.Ne5 Qc7 29.Rbd1 Re7 30.Bxf7+ Rxf7 31.Qxf7+ Qxf7 32.Nxf7 Bxe4 33.Rxe4 Kxf7 34.Rd7+ Kf6 35.Rb7 Ra1+ 36.Kh2 Bd6+ 37.g3 b4 38.Kg2 h5 39.Rb6 Rd1 40.Kf3 Kf7 41.Ke2 Rd5 42.f4 g6 43.g4 hxg4 44.hxg4 g5 45.f5 Be5 46.Rb5 Kf6 47.Rexb4 Bd4 48.Rb6+ Ke5 49.Kf3 Rd8 50.Rb8 Rd7 51.R4b7 Rd6 52.Rb6 Rd7 53.Rg6 Kd5 54.Rxg5 Be5 55.f6 Kd4 56.Rb1  1-0"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"9","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"D41"},"moveText":"1.d4 Nf6 2.c4 e6 3.Nf3 d5 4.Nc3 c5 5.cxd5 Nxd5 6.e4 Nxc3 7.bxc3 cxd4 8.cxd4 Nc6 9.Bc4 b5 10.Bd3 Bb4+ 11.Bd2 Bxd2+ 12.Qxd2 a6 13.a4 O-O 14.Qc3 Bb7 15.axb5 axb5 16.O-O Qb6 17.Rab1 b4 18.Qd2 Nxd4 19.Nxd4 Qxd4 20.Rxb4 Qd7 21.Qe3 Rfd8 22.Rfb1 Qxd3 23.Qxd3 Rxd3 24.Rxb7 g5 25.Rb8+ Rxb8 26.Rxb8+ Kg7 27.f3 Rd2 28.h4 h6 29.hxg5 hxg5  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"8","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2660","ECO":"A39"},"moveText":"1.c4 c5 2.Nc3 Nc6 3.Nf3 Nf6 4.g3 g6 5.Bg2 Bg7 6.O-O O-O 7.d4 cxd4 8.Nxd4 Nxd4 9.Qxd4 d6 10.Bg5 Be6 11.Qf4 Qa5 12.Rac1 Rab8 13.b3 Rfc8 14.Qd2 a6 15.Be3 b5 16.Ba7 bxc4 17.Bxb8 Rxb8 18.bxc4 Bxc4 19.Rfd1 Nd7 20.Nd5 Qxd2 21.Nxe7+ Kf8 22.Rxd2 Kxe7 23.Rxc4 Rb1+ 24.Bf1 Nc5 25.Kg2 a5 26.e4 Ba1 27.f4 f6 28.Re2 Ke6 29.Rec2 Bb2 30.Be2 h5 31.Rd2 Ba3 32.f5+ gxf5 33.exf5+ Ke5 34.Rcd4 Kxf5 35.Rd5+ Ke6 36.Rxd6+ Ke7 37.Rc6  1-0"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"7","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"B97"},"moveText":"1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6 6.Bg5 e6 7.f4 Qb6 8.Qd2 Qxb2 9.Nb3 Qa3 10.Bd3 Be7 11.O-O h6 12.Bh4 Nxe4 13.Nxe4 Bxh4 14.f5 exf5 15.Bb5+ axb5 16.Nxd6+ Kf8 17.Nxc8 Nc6 18.Nd6 Rd8 19.Nxb5 Qe7 20.Qf4 g6 21.a4 Bg5 22.Qc4 Be3+ 23.Kh1 f4 24.g3 g5 25.Rae1 Qb4 26.Qxb4+ Nxb4 27.Re2 Kg7 28.Na5 b6 29.Nc4 Nd5 30.Ncd6 Bc5 31.Nb7 Rc8 32.c4 Ne3 33.Rf3 Nxc4 34.gxf4 g4 35.Rd3 h5 36.h3 Na5 37.N7d6 Bxd6 38.Nxd6 Rc1+ 39.Kg2 Nc4 40.Ne8+ Kg6 41.h4 f6 42.Re6 Rc2+ 43.Kg1 Kf5 44.Ng7+ Kxf4 45.Rd4+ Kg3 46.Nf5+ Kf3 47.Ree4 Rc1+ 48.Kh2 Rc2+ 49.Kg1  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"6","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2660","ECO":"D59"},"moveText":"1.c4 e6 2.Nf3 d5 3.d4 Nf6 4.Nc3 Be7 5.Bg5 O-O 6.e3 h6 7.Bh4 b6 8.cxd5 Nxd5 9.Bxe7 Qxe7 10.Nxd5 exd5 11.Rc1 Be6 12.Qa4 c5 13.Qa3 Rc8 14.Bb5 a6 15.dxc5 bxc5 16.O-O Ra7 17.Be2 Nd7 18.Nd4 Qf8 19.Nxe6 fxe6 20.e4 d4 21.f4 Qe7 22.e5 Rb8 23.Bc4 Kh8 24.Qh3 Nf8 25.b3 a5 26.f5 exf5 27.Rxf5 Nh7 28.Rcf1 Qd8 29.Qg3 Re7 30.h4 Rbb7 31.e6 Rbc7 32.Qe5 Qe8 33.a4 Qd8 34.R1f2 Qe8 35.R2f3 Qd8 36.Bd3 Qe8 37.Qe4 Nf6 38.Rxf6 gxf6 39.Rxf6 Kg8 40.Bc4 Kh8 41.Qf4  1-0"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"5","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2660","BlackElo":"2785","ECO":"E41"},"moveText":"1.d4 Nf6 2.c4 e6 3.Nc3 Bb4 4.Nf3 c5 5.e3 Nc6 6.Bd3 Bxc3+ 7.bxc3 d6 8.e4 e5 9.d5 Ne7 10.Nh4 h6 11.f4 Ng6 12.Nxg6 fxg6 13.fxe5 dxe5 14.Be3 b6 15.O-O O-O 16.a4 a5 17.Rb1 Bd7 18.Rb2 Rb8 19.Rbf2 Qe7 20.Bc2 g5 21.Bd2 Qe8 22.Be1 Qg6 23.Qd3 Nh5 24.Rxf8+ Rxf8 25.Rxf8+ Kxf8 26.Bd1 Nf4 27.Qc2 Bxa4  0-1"}]}');

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("./src/pages/index/Index.ts"));
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguMmNmMzAzMTViNjgzZjg3OGNiYTAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrQkFBK0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsYUFBYTtBQUN2Qix3QkFBd0IsYUFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixjQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLE9BQU8sc0dBQXNHLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxVQUFVLFVBQVUsd0JBQXdCLE1BQU0sS0FBSyxVQUFVLFVBQVUsd0JBQXdCLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLFdBQVcsTUFBTSxLQUFLLFVBQVUsS0FBSyxLQUFLLFVBQVUsVUFBVSxVQUFVLFVBQVUsTUFBTSxLQUFLLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksYUFBYSxNQUFNLEtBQUssWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksYUFBYSxNQUFNLEtBQUssWUFBWSxhQUFhLGFBQWEsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxLQUFLLEtBQUssWUFBWSxXQUFXLE1BQU0sS0FBSyxVQUFVLFVBQVUsVUFBVSxLQUFLLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxNQUFNLEtBQUssWUFBWSxXQUFXLEtBQUssS0FBSyxZQUFZLFdBQVcsTUFBTSxLQUFLLFVBQVUsVUFBVSxrQ0FBa0MseUJBQXlCLGlDQUFpQyxxQ0FBcUMsMkJBQTJCLGlFQUFpRSxLQUFLLDJCQUEyQixxQkFBcUIsb0JBQW9CLG1CQUFtQiw0QkFBNEIsb0VBQW9FLGlDQUFpQyxzQkFBc0IsdUJBQXVCLDhCQUE4QixxRUFBcUUsWUFBWSx1QkFBdUIsS0FBSyxrQkFBa0IsbUJBQW1CLHdCQUF3QiwwQkFBMEIsMEJBQTBCLHdCQUF3QixLQUFLLHNCQUFzQixtQkFBbUIsS0FBSyxtQkFBbUIsbUJBQW1CLHdCQUF3Qix1QkFBdUIsdUJBQXVCLEtBQUssNkJBQTZCLHdCQUF3QixtQkFBbUIsa0JBQWtCLHVCQUF1QixxQkFBcUIsNEJBQTRCLEtBQUssaUNBQWlDLHVDQUF1Qyw0QkFBNEIsS0FBSyw0Q0FBNEMseUJBQXlCLEtBQUssZ0NBQWdDLHlCQUF5QiwwQkFBMEIsS0FBSyxnQ0FBZ0MsMEJBQTBCLDJCQUEyQixLQUFLLGdDQUFnQywwQkFBMEIsMkJBQTJCLEtBQUssZ0NBQWdDLDBCQUEwQiwyQkFBMkIsS0FBSyxnQ0FBZ0MsNEJBQTRCLDBCQUEwQiwwQkFBMEIsS0FBSyxZQUFZLDJCQUEyQixrQkFBa0Isb0JBQW9CLHFCQUFxQixtQkFBbUIsaUJBQWlCLGtCQUFrQix5Q0FBeUMsS0FBSyxrQ0FBa0MsaURBQWlELEtBQUssa0NBQWtDLGlEQUFpRCxLQUFLLHlDQUF5QyxnREFBZ0QsS0FBSyw4QkFBOEIsb0JBQW9CLEtBQUssNEJBQTRCLHNCQUFzQix1QkFBdUIsS0FBSyxhQUFhLHNCQUFzQixtQkFBbUIsc0JBQXNCLGlCQUFpQixrQkFBa0IsaUJBQWlCLEtBQUssZ0NBQWdDLDBCQUEwQix1QkFBdUIsS0FBSyxvQ0FBb0MsaUJBQWlCLGtCQUFrQixtQkFBbUIsS0FBSyxxQ0FBcUMsZ0JBQWdCLGlCQUFpQixrQkFBa0IscUJBQXFCLEtBQUssZUFBZSwwQkFBMEIsa0JBQWtCLEtBQUssc0JBQXNCLG9DQUFvQyx1QkFBdUIsS0FBSyw0QkFBNEIsaUJBQWlCLHVCQUF1QixLQUFLLG1CQUFtQjtBQUNsdEk7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9JdkM7QUFDZ0g7QUFDakI7QUFDL0YsOEJBQThCLG1GQUEyQixDQUFDLDRGQUFxQztBQUMvRjtBQUNBLGdEQUFnRCxhQUFhLGtCQUFrQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrQkFBa0IsU0FBUyxTQUFTLE9BQU8sUUFBUSxrQkFBa0IsK0JBQStCLGdCQUFnQixrQkFBa0I7QUFDckoscUJBQXFCLHdCQUF3QixnQkFBZ0Isa0JBQWtCO0FBQy9FLDRCQUE0QixrQ0FBa0M7QUFDOUQsMkJBQTJCO0FBQzNCLE1BQU07QUFDTixlQUFlLFdBQVcsVUFBVTtBQUNwQyx5QkFBeUI7QUFDekIsZUFBZSxVQUFVLFdBQVcsZ0JBQWdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsVUFBVTtBQUNoQyw2QkFBNkI7QUFDN0I7QUFDQSxvQkFBb0IsV0FBVztBQUMvQixtQkFBbUIsV0FBVyxXQUFXO0FBQ3pDLENBQUMsT0FBTyxpSUFBaUksTUFBTSxZQUFZLFdBQVcsVUFBVSxVQUFVLEtBQUssc0JBQXNCLE1BQU0sVUFBVSxZQUFZLGFBQWEsYUFBYSxXQUFXLFVBQVUsWUFBWSxNQUFNLHdIQUF3SCx5REFBeUQsZ0NBQWdDLG9CQUFvQix1QkFBdUIseUNBQXlDLHVCQUF1QixtREFBbUQsTUFBTSxZQUFZLFdBQVcsTUFBTSxLQUFLLFlBQVksV0FBVyxZQUFZLFdBQVcsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksV0FBVyxNQUFNLGtDQUFrQyx1QkFBdUIsTUFBTSxnQ0FBZ0MseUNBQXlDLGdDQUFnQyxhQUFhLGtCQUFrQixhQUFhLGlCQUFpQiwwQkFBMEIsb0JBQW9CLGVBQWUsZ0JBQWdCLEtBQUssaUNBQWlDLGVBQWUsK0JBQStCLHdCQUF3QiwwQkFBMEIsK0JBQStCLDhCQUE4QixxQkFBcUIsd0JBQXdCLHlCQUF5QixLQUFLLG1CQUFtQixrQkFBa0IsU0FBUyxTQUFTLE9BQU8sUUFBUSxrQkFBa0IsK0JBQStCLGdCQUFnQixrQkFBa0IsNkNBQTZDLHlCQUF5Qix3QkFBd0IsZ0JBQWdCLGtCQUFrQixnQkFBZ0IsZ0NBQWdDLGtDQUFrQywrQkFBK0IsK0JBQStCLGlDQUFpQyxVQUFVLG1CQUFtQixtQkFBbUIsV0FBVyxVQUFVLGlCQUFpQiw2QkFBNkIsaUJBQWlCLG1CQUFtQixVQUFVLFdBQVcsZ0JBQWdCLGNBQWMsZ0NBQWdDLDRCQUE0QixxQkFBcUIsS0FBSyxxQ0FBcUMsK0JBQStCLHdCQUF3QiwwQkFBMEIsdUJBQXVCLEtBQUssMkNBQTJDLCtCQUErQixLQUFLLDhDQUE4Qyw4QkFBOEIscUJBQXFCLEtBQUssMEJBQTBCLFVBQVUsa0JBQWtCLGlDQUFpQyxnQkFBZ0IsK0NBQStDLHdCQUF3QixXQUFXLFlBQVksdUJBQXVCLFdBQVcsV0FBVyxjQUFjLEtBQUssbUJBQW1CO0FBQy9yRjtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdER2QztBQUM2RztBQUNqQjtBQUM1Riw4QkFBOEIsbUZBQTJCLENBQUMsNEZBQXFDO0FBQy9GO0FBQ0EsK0NBQStDLFVBQVUsU0FBUywrQkFBK0IsMEJBQTBCLE9BQU8saUtBQWlLLFVBQVUsU0FBUywrQkFBK0IsMEJBQTBCLG1CQUFtQjtBQUNsWTtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7OztBQ1AxQjs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxQkFBcUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysc0ZBQXNGLHFCQUFxQjtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsaURBQWlELHFCQUFxQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysc0RBQXNELHFCQUFxQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FDcEZhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUN6QmE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxjQUFjO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNkQSxNQUFxRztBQUNyRyxNQUEyRjtBQUMzRixNQUFrRztBQUNsRyxNQUFxSDtBQUNySCxNQUE4RztBQUM5RyxNQUE4RztBQUM5RyxNQUE4RztBQUM5RztBQUNBOztBQUVBOztBQUVBLDRCQUE0QixxR0FBbUI7QUFDL0Msd0JBQXdCLGtIQUFhOztBQUVyQyx1QkFBdUIsdUdBQWE7QUFDcEM7QUFDQSxpQkFBaUIsK0ZBQU07QUFDdkIsNkJBQTZCLHNHQUFrQjs7QUFFL0MsYUFBYSwwR0FBRyxDQUFDLDJGQUFPOzs7O0FBSXdEO0FBQ2hGLE9BQU8saUVBQWUsMkZBQU8sSUFBSSwyRkFBTyxVQUFVLDJGQUFPLG1CQUFtQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pCN0UsTUFBcUc7QUFDckcsTUFBMkY7QUFDM0YsTUFBa0c7QUFDbEcsTUFBcUg7QUFDckgsTUFBOEc7QUFDOUcsTUFBOEc7QUFDOUcsTUFBeUc7QUFDekc7QUFDQTs7QUFFQTs7QUFFQSw0QkFBNEIscUdBQW1CO0FBQy9DLHdCQUF3QixrSEFBYTs7QUFFckMsdUJBQXVCLHVHQUFhO0FBQ3BDO0FBQ0EsaUJBQWlCLCtGQUFNO0FBQ3ZCLDZCQUE2QixzR0FBa0I7O0FBRS9DLGFBQWEsMEdBQUcsQ0FBQyxzRkFBTzs7OztBQUltRDtBQUMzRSxPQUFPLGlFQUFlLHNGQUFPLElBQUksc0ZBQU8sVUFBVSxzRkFBTyxtQkFBbUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6QjdFLE1BQWtHO0FBQ2xHLE1BQXdGO0FBQ3hGLE1BQStGO0FBQy9GLE1BQWtIO0FBQ2xILE1BQTJHO0FBQzNHLE1BQTJHO0FBQzNHLE1BQXVHO0FBQ3ZHO0FBQ0E7O0FBRUE7O0FBRUEsNEJBQTRCLHFHQUFtQjtBQUMvQyx3QkFBd0Isa0hBQWE7O0FBRXJDLHVCQUF1Qix1R0FBYTtBQUNwQztBQUNBLGlCQUFpQiwrRkFBTTtBQUN2Qiw2QkFBNkIsc0dBQWtCOztBQUUvQyxhQUFhLDBHQUFHLENBQUMsdUZBQU87Ozs7QUFJaUQ7QUFDekUsT0FBTyxpRUFBZSx1RkFBTyxJQUFJLHVGQUFPLFVBQVUsdUZBQU8sbUJBQW1CLEVBQUM7Ozs7Ozs7Ozs7O0FDMUJoRTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0JBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRCQUE0QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZCQUE2QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ25GYTs7QUFFYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUNqQ2E7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ1RhOztBQUViO0FBQ0E7QUFDQSxjQUFjLEtBQXdDLEdBQUcsc0JBQWlCLEdBQUcsQ0FBSTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FDVGE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQSxpRkFBaUY7QUFDakY7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUM1RGE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ1pBLHlGQUFrQztBQUVsQyxNQUFxQixNQUFNO0lBUXZCLFlBQVksVUFBcUI7UUFOakMsZUFBVSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3RELGFBQVEsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNwRCxRQUFHLEdBQXNCLElBQUksQ0FBQztRQUM5QixnQkFBVyxHQUFHLEdBQUcsQ0FBQztRQUNsQix1QkFBa0IsR0FBb0IsSUFBSSxDQUFDO1FBR3ZDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztRQUN4RCxJQUFJLFVBQVUsQ0FBQyxTQUFTO1lBQ3BCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFFLENBQUM7UUFDaEYsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBRSxDQUFDO1FBQzVFLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBRSxDQUFDO0lBQ3hGLENBQUM7SUFDRCxlQUFlLENBQUMsS0FBZ0I7UUFDNUIsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQztRQUNyRCxJQUFJLFlBQVksSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLGVBQU0sQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUN0RixDQUFDO1lBQ0csSUFBSSxDQUFDLGtCQUFrQixHQUFHLGVBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQzFFLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMzQixDQUFDO2FBQ0ksSUFBRyxJQUFJLENBQUMsR0FBRyxFQUFDLENBQUM7WUFDZCxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLENBQUM7SUFDTCxDQUFDO0lBQ0QsYUFBYSxDQUFDLEtBQWdCO1FBQzFCLElBQUksWUFBWSxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUM7UUFDckQsSUFBSSxZQUFZLElBQUksS0FBSyxDQUFDLE1BQU0sSUFBSSxlQUFNLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsRUFDdEYsQ0FBQztZQUNHLElBQUksWUFBWSxHQUFHLGVBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ25FLElBQUksWUFBWSxFQUFDLENBQUM7Z0JBQ2QsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEtBQUssWUFBWSxFQUFDLENBQUM7b0JBQzFDLElBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLEVBQUMsQ0FBQzt3QkFDbEQsWUFBWSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7b0JBQ25ELENBQUM7eUJBQ0csQ0FBQzt3QkFDRCxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztvQkFDaEQsQ0FBQztnQkFDTCxDQUFDO3FCQUNJLElBQUksSUFBSSxDQUFDLGtCQUFrQixFQUFDLENBQUM7b0JBQzlCLElBQUksZUFBZSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFFLENBQUM7b0JBQ3hFLElBQUksZUFBZSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFFLENBQUM7b0JBQzdELElBQUksQ0FBQyxTQUFTLENBQUMsZUFBZSxFQUFFLGVBQWUsQ0FBQyxDQUFDO2dCQUNyRCxDQUFDO1lBRUwsQ0FBQztZQUNELEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMzQixDQUFDO1FBQ0QsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztJQUNuQyxDQUFDO0lBQ08saUJBQWlCLENBQUMsS0FBZ0I7UUFFdEMsSUFBSSxlQUFNLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDO1lBQ3BELEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMzQixDQUFDO0lBQ0wsQ0FBQztJQUNELGtCQUFrQixDQUFDLFNBQWlCO1FBQ2hDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDNUMsQ0FBQztJQUNELFNBQVMsQ0FBQyxVQUFpQixFQUFFLFVBQWlCO1FBQzFDLElBQUksSUFBSSxDQUFDLEdBQUcsS0FBSyxJQUFJLEVBQUMsQ0FBQztZQUNuQixJQUFJLENBQUMsR0FBRyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsNEJBQTRCLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDekUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQztZQUNoRCxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzlDLENBQUM7UUFDRCxNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDLDRCQUE0QixFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ2xGLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdkMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdkMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7UUFFdkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzlDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM1QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakYsSUFBSSxlQUFlLEdBQUcsR0FBRyxDQUFDO1FBQzFCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDO1FBQzVELElBQUksa0JBQWtCLEdBQUcsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxHQUFHLGtCQUFrQixHQUFHLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsR0FBRyxrQkFBa0IsQ0FBQztRQUMzQixJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVqRSxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsZUFBZSxDQUFDO1FBQ3ZELE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztRQUUzQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDcEIsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFFdkMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLFFBQVEsR0FBRyxnQkFBZ0IsR0FBRyxlQUFlLENBQUM7UUFDcEUsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBRXBCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNwQixNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztRQUN2QyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFFcEIsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxrQkFBa0IsQ0FBQztRQUV6QyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDcEIsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFFdkMsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUUzQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN4QyxJQUFJLE9BQU8sR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7UUFFckMsT0FBTyxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsU0FBUyxHQUFHLE9BQU8sR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNySCxPQUFPLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN2QyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBQ0QsaUJBQWlCLENBQUMsU0FBZ0I7UUFDOUIsSUFBSSxJQUFJLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztRQUN0RCxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNyRCxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3BCLENBQUM7Q0FDSjtBQXZJRCw0QkF1SUM7Ozs7Ozs7Ozs7Ozs7O0FDMUlELE1BQWEsU0FBUztDQU1yQjtBQU5ELDhCQU1DOzs7Ozs7Ozs7Ozs7Ozs7OztBQ05ELHFGQUEwQjtBQUMxQix1R0FBNEI7QUFDNUIsMEdBQThCO0FBRTlCLE1BQU0sV0FBVyxHQUEwQixFQUFDLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7QUFDckYsTUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUVwWixNQUFhLEtBQUs7SUFHZCxZQUFZLE9BQXdCLEVBQUUsT0FBYztRQUNoRCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUMzQixDQUFDO0NBQ0o7QUFQRCxzQkFPQztBQUNELE1BQWEsTUFBTTtJQUdmLFlBQVksT0FBb0IsRUFBRSxHQUFVO1FBQ3hDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQ25CLENBQUM7Q0FDSjtBQVBELHdCQU9DO0FBQ0QsTUFBYSxTQUFTO0NBRXJCO0FBRkQsOEJBRUM7QUFDRCxNQUFhLFVBQVU7SUFlbkIsWUFBWSxjQUEyQixFQUFFLEdBQVUsRUFBRSxTQUFpQjtRQWJ0RSxZQUFPLEdBQTBCLEVBQUUsQ0FBQztRQUVwQyxrQkFBYSxHQUFzQixFQUFFLENBQUM7UUFDdEMsY0FBUyxHQUFHLEtBQUssQ0FBQztRQUNsQixjQUFTLEdBQUcsSUFBSSxTQUFTLEVBQUUsQ0FBQztRQUNwQixVQUFLLEdBQUcsQ0FBQyxDQUFDO1FBR1Ysa0JBQWEsR0FBK0IsRUFBRSxDQUFDO1FBQy9DLGtCQUFhLEdBQStCLEVBQUUsQ0FBQztRQW1JdkQsV0FBTSxHQUFHLEdBQUcsRUFBRTtZQUNWLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN4RCxJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsSUFBSSxjQUFjLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLGNBQWMsRUFBRSxZQUFZLENBQUMsQ0FBQztZQUNyRCxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUNqQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFDLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM1QyxDQUFDO1FBQ0wsQ0FBQztRQXZJRyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDMUQsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztRQUNyRSxJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFFOUQsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNqRSxJQUFJLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3RELENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUNwRCxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ3JDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDakQsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztZQUNoQyxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMxRSxJQUFJLFNBQVMsRUFBQyxDQUFDO1lBQ1gsSUFBSSxnQkFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pCLHlDQUF5QztZQUN6QyxnQ0FBZ0M7WUFDaEMsUUFBUTtRQUNaLENBQUM7UUFDRCxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUMxQixJQUFJLEdBQUcsRUFBQyxDQUFDO1lBQ0wsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUNELHdCQUF3QjtRQUN4QixrQkFBa0I7SUFDdEIsQ0FBQztJQUNPLFFBQVEsQ0FBQyxNQUFrQixFQUFFLEdBQVUsRUFBRSxTQUFnQixFQUFFLElBQVk7UUFDM0UsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QyxLQUFLLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJLElBQUk7WUFDSixLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUMzQixNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzFCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFDRCxXQUFXLENBQUMsT0FBYztRQUN0QixPQUFPLGVBQUssQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUNPLGtCQUFrQjtRQUN0QixJQUFJLFVBQVUsR0FBMkIsRUFBRSxDQUFDO1FBQzVDLFVBQVUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDckIsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNuRSxhQUFhLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN2RCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDdkQsT0FBTyxVQUFVLENBQUM7SUFDdEIsQ0FBQztJQUNELE1BQU0sQ0FBQyxHQUFVLEVBQUUsVUFBa0I7UUFDakMsSUFBSSxVQUFVLEVBQUMsQ0FBQztZQUNaLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDekMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO2dCQUM5QixNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7WUFDeEMsQ0FBQyxDQUFDLENBQUM7WUFDSCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQzFGLE9BQU8sQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1lBQzNCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLGFBQWEsR0FBRyxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixDQUFDO1FBQ0QsSUFBSSxHQUFHLEtBQUssRUFBRSxFQUFDLENBQUM7WUFDWixJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUUsS0FBSyxPQUFPO2dCQUM3QixHQUFHLEdBQUcsMERBQTBELENBQUM7WUFDckUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM1QyxJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUM7WUFDcEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUMsQ0FBQztnQkFDakMsSUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEVBQUMsQ0FBQztvQkFDdkIsV0FBVyxJQUFJLGFBQWEsQ0FBQztnQkFDakMsQ0FBQztxQkFDRyxDQUFDO29CQUNELElBQUksR0FBRyxHQUFHLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO29CQUNwQyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUM3QyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQ3hELENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLDhCQUE4QixDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUU7Z0JBQ3ZELElBQUksS0FBSyxHQUFHLENBQUMsRUFBQyxDQUFDO29CQUNYLElBQUksS0FBSyxHQUFHLEdBQUcsS0FBSyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO29CQUNsRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFDLENBQUM7d0JBQzVCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxXQUFXLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDckQsQ0FBQztnQkFDTCxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO0lBQ0wsQ0FBQztJQUNELFFBQVEsQ0FBQyxLQUFZO1FBQ2pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksV0FBVyxHQUFHLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdELElBQUksV0FBVyxHQUFHLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQy9FLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ25GLENBQUM7SUFDRCxjQUFjLENBQUMsS0FBWSxFQUFFLEtBQVk7UUFDckMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztJQUMzQyxDQUFDO0lBQ0QsVUFBVSxDQUFDLEtBQVksRUFBRSxRQUFlLEVBQUUsS0FBc0I7UUFDNUQsSUFBSSxJQUFJLEdBQUcsS0FBSyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN2RixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLElBQUksVUFBVSxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN2QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsS0FBSyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMzRSxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFDRCxXQUFXLENBQUMsS0FBWSxFQUFFLFFBQWU7UUFDckMsSUFBSSxVQUFVLEdBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDeEIsT0FBTyxDQUFDLEtBQUssS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFVBQVUsQ0FBcUIsQ0FBQztJQUNuSSxDQUFDO0lBQ0QsV0FBVyxDQUFDLE9BQWM7UUFDdEIsSUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNqRCxZQUFZLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztRQUNqQyxZQUFZLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNoRCxZQUFZLENBQUMsR0FBRyxHQUFHLGVBQUssQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDdEMsT0FBTyxZQUFZLENBQUM7SUFDeEIsQ0FBQztJQVdELG1CQUFtQjtRQUVmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUN6QyxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7UUFDeEMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsOEJBQThCLENBQUMsR0FBVTtRQUNyQyxzRUFBc0U7UUFDdEUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM1QyxxRUFBcUU7UUFDckUsSUFBSSxRQUFRLEdBQTJCLEVBQUUsQ0FBQztRQUMxQyxDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNyRCxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLENBQUMsQ0FBQyxDQUFDO1FBQ0gsaURBQWlEO1FBQ2pELEtBQUssTUFBTSxJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7WUFDckIsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsQ0FBQztnQkFDdkIsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4QixDQUFDO1FBQ0wsQ0FBQztRQUFBLENBQUM7UUFDRiw0Q0FBNEM7UUFDNUMsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQyxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDN0UsS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM3QyxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLDZFQUE2RTtRQUM3RSxJQUFJLFFBQVEsR0FBMkIsRUFBRSxDQUFDO1FBQzFDLHNGQUFzRjtRQUN0RixLQUFLLE1BQU0sSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBQyxDQUFDO1lBQy9DLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEUsQ0FBQztRQUNELEtBQUssTUFBTSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUMsQ0FBQztZQUMzQixRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEQsQ0FBQztRQUNELDhEQUE4RDtRQUM5RCxJQUFJLEtBQUssR0FBRyxFQUFDLElBQUksRUFBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFDLENBQUM7UUFDM0QsSUFBSSxLQUFLLEdBQUcsRUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBQyxDQUFDO1FBQzNELEtBQUssTUFBTSxNQUFNLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLEVBQ25DLENBQUM7WUFDRyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xELElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQztnQkFDNUIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFFLENBQUMsQ0FBQztZQUN2RCxDQUFDO1lBQ0QsS0FBSyxNQUFNLEtBQUssSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFDLENBQUM7Z0JBQy9CLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDO29CQUNyQixRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRSxDQUFDLENBQUM7Z0JBQ2hELENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQztRQUNELE9BQU8sRUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFDO0lBQzVCLENBQUM7SUFDRCxVQUFVLENBQUMsS0FBWTtRQUNuQixJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUNqQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzdDLElBQUksSUFBSSxLQUFLLEdBQUcsRUFBQyxDQUFDO2dCQUNkLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxhQUE0QixDQUFDO2dCQUMzRCxJQUFJLG1CQUFtQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLEtBQUssRUFBRSxTQUFTLEdBQUcsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFxQixDQUFDO2dCQUNuSSxtQkFBbUIsQ0FBQyxHQUFHLEdBQUcsS0FBSyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsZUFBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsZUFBSyxDQUFDLEtBQUssQ0FBQztZQUN0RSxDQUFDO2lCQUNJLElBQUksSUFBSSxLQUFLLEdBQUcsRUFBQyxDQUFDO2dCQUNuQixJQUFJLGVBQWUsR0FBRyxPQUFPLENBQUMsYUFBNEIsQ0FBQztnQkFDM0QsSUFBSSxtQkFBbUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxLQUFLLEVBQUUsU0FBUyxHQUFHLENBQUMsS0FBSyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBcUIsQ0FBQztnQkFDbkksbUJBQW1CLENBQUMsR0FBRyxHQUFHLEtBQUssS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGVBQUssQ0FBQyxLQUFLLENBQUM7WUFDdEUsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUNKO0FBMU5ELGdDQTBOQzs7Ozs7Ozs7Ozs7OztBQ25QRCx5RkFBa0M7QUFFbEMsTUFBcUIsV0FBVztJQWE1QixZQUFZLFVBQXFCLEVBQUUsUUFBZSxFQUFFLGNBQXVCO1FBUm5FLGNBQVMsR0FBdUIsSUFBSSxDQUFDO1FBQ3JDLGVBQVUsR0FBRyxDQUFDLENBQUM7UUFDZixlQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsY0FBUyxHQUFHLENBQUMsQ0FBQztRQUNkLG1CQUFjLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLGVBQVUsR0FBRyxDQUFDLENBQUM7UUFDZixvQkFBZSxHQUFHLENBQUMsQ0FBQztRQUl4QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUVyQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFFLENBQUM7UUFDaEYsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBRSxDQUFDO1FBQ2hGLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUUsQ0FBQztRQUM1RSxRQUFRLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBRSxDQUFDO1FBQ2hFLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBQ0QsYUFBYTtRQUNULE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxZQUFZLENBQUMsRUFBRSxFQUFFO1lBQzFFLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLE9BQU8sSUFBSSxHQUFHLEtBQUssR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLE9BQU8sSUFBSSxHQUFHLEtBQUssR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUMsQ0FBQztnQkFDbEosWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDN0MsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNPLGVBQWUsQ0FBQyxLQUFnQjtRQUVwQyxJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxZQUFZLElBQUksS0FBSyxDQUFDLE1BQU0sSUFBSSxlQUFNLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsRUFDdkYsQ0FBQztZQUNHLElBQUksQ0FBQyxVQUFVLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUN0QyxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBcUIsQ0FBQztZQUN6QyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFDLENBQUM7Z0JBQy9FLE1BQU0sQ0FBQyxhQUFjLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDOUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsTUFBcUIsQ0FBQztnQkFDN0MsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUN6QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLHFCQUFxQixFQUFFLENBQUM7Z0JBQ2xELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDNUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO2dCQUMzQixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLDhFQUE2RTtnQkFDakksSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUMsQ0FBQyx1RUFBdUU7Z0JBQ2hHLElBQUksQ0FBQyxVQUFVLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUM7Z0JBQ3RELElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxDQUFDO1lBQzdCLENBQUM7WUFDRCxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDM0IsQ0FBQztJQUNMLENBQUM7SUFDTyxlQUFlLENBQUMsS0FBZ0I7UUFDcEMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDakIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3ZCLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztZQUM3QyxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7WUFDN0MsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztZQUNqRSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1FBQ25FLENBQUM7SUFDTCxDQUFDO0lBQ08sYUFBYSxDQUFDLEtBQWdCO1FBRWxDLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7WUFDbEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQztZQUNqQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDNUMsSUFBSSxlQUFNLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBQyxDQUFDO2dCQUNwRCxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksbUJBQW1CLEdBQUcsZUFBTSxDQUFDLGdCQUFnQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzFFLElBQUksbUJBQW1CLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUMsQ0FBQztvQkFDdEQsSUFBSSxlQUFlLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO29CQUM3RSxJQUFJLGVBQWUsR0FBRyxtQkFBbUIsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQ25FLElBQUksQ0FBQyxjQUFjLENBQUMsZUFBZ0IsRUFBRSxlQUFnQixDQUFDLENBQUM7Z0JBQzVELENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDMUIsQ0FBQztJQUNMLENBQUM7SUFDTyxZQUFZO1FBRWhCLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLElBQUksU0FBUyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7WUFDdEUsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUNwRSxJQUFJLGNBQWMsR0FBRyxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUN0RCxJQUFJLGNBQWMsR0FBRyxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUNyRCxJQUFJLENBQUMsZUFBZSxHQUFHLFNBQVMsQ0FBQztZQUNqQyxJQUFJLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQztZQUNoQyxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEQsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2pELElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxPQUFPLEdBQUcsY0FBYyxHQUFHLElBQUksQ0FBQztZQUM1RCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsT0FBTyxHQUFHLGNBQWMsR0FBRyxJQUFJLENBQUM7UUFDL0QsQ0FBQztJQUNMLENBQUM7Q0FDSjtBQWhHRCxpQ0FnR0M7Ozs7Ozs7Ozs7Ozs7O0FDbkdELG9HQUF1QztBQUV2QyxNQUFhLElBQUk7SUFLYixZQUFZLFFBQTJCO1FBSnZDLFVBQUssR0FBYyxTQUFTLENBQUMsS0FBSyxDQUFDO1FBQ25DLGNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNmLFVBQUssR0FBVyxFQUFFLENBQUM7UUFHZixJQUFJLFFBQVEsRUFBQyxDQUFDO1lBQ1YsSUFBSSxLQUFLLEdBQUcsSUFBSSxnQkFBSyxFQUFFLENBQUM7WUFDeEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztRQUMvQyxDQUFDO0lBQ0wsQ0FBQztDQUNKO0FBWkQsb0JBWUM7QUFDRCxJQUFZLFNBT1g7QUFQRCxXQUFZLFNBQVM7SUFDakIsMkNBQUs7SUFDTCx5Q0FBSTtJQUNKLDJDQUFLO0lBQ0wsK0NBQU87SUFDUCw2Q0FBTTtJQUNOLHVDQUFHO0FBQ1AsQ0FBQyxFQVBXLFNBQVMseUJBQVQsU0FBUyxRQU9wQjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0QkQscUdBQTBDO0FBQzFDLHlIQUF3QztBQUV4QywrRkFBc0M7QUFDdEMsbUZBQXlDO0FBQ3pDLGtHQUF3QztBQUV4QyxNQUFhLGNBQWM7SUFZdkIsWUFBWSxZQUF5QixFQUFFLEdBQVUsRUFBRSxRQUEyQixFQUFFLFNBQWlCO1FBUGpHLGNBQVMsR0FBRyxJQUFJLHFCQUFTLEVBQUUsQ0FBQztRQUM1QixzQkFBaUIsR0FBVSxHQUFHLENBQUM7UUFDL0IsMEJBQXFCLEdBQVUsR0FBRyxDQUFDO1FBQ25DLHNCQUFpQixHQUFVLENBQUMsQ0FBQztRQUM3QiwyQkFBc0IsR0FBVSxDQUFDLENBQUM7UUFDMUIsb0JBQWUsR0FBRyxLQUFLLENBQUM7UUE0RWhDLGNBQVMsR0FBRSxHQUFHLEVBQUU7WUFDWixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEIsQ0FBQztRQUNELFdBQU0sR0FBRSxHQUFHLEVBQUU7WUFDVCxJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0MsQ0FBQztRQUNELFNBQUksR0FBRSxHQUFHLEVBQUU7WUFDUCxJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekMsQ0FBQztRQUNELFVBQUssR0FBRSxHQUFHLEVBQUU7WUFDUixJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsQ0FBQztRQUNELFlBQU8sR0FBRSxHQUFHLEVBQUU7WUFDVixJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFTLENBQUMsT0FBTyxDQUFDO1FBQzNDLENBQUM7UUFDRCxZQUFPLEdBQUUsR0FBRyxFQUFFO1lBQ1YsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUM7Z0JBQ2xCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3BELENBQUM7UUFDTCxDQUFDO1FBNUZHLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSx1QkFBVSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDL0QsSUFBSSxRQUFRLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBQyxDQUFDO1lBQzNELElBQUkscUJBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFFBQVE7WUFDckMsbUJBQW1CO1lBQ25CLENBQUMsSUFBVyxFQUFFLEVBQVMsRUFBRSxFQUFFO2dCQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztZQUMxQixDQUFDLENBQUMsQ0FBQztRQUNYLENBQUM7SUFDTCxDQUFDO0lBQ08sYUFBYTtRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztRQUM1QixZQUFZLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDdEMsWUFBWSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFDRCxTQUFTLENBQUMsSUFBUyxFQUFFLFNBQTBCLEVBQUUsU0FBMEI7UUFDdkUsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLFNBQVMsSUFBSSxPQUFPLEVBQUUsU0FBUyxJQUFJLE9BQU8sQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBQ08sZUFBZSxDQUFDLFFBQW1CO1FBQ3ZDLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssS0FBSyxRQUFRLEVBQUMsQ0FBQztZQUN6RCxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxLQUFLLGdCQUFTLENBQUMsS0FBSyxFQUFDLENBQUM7Z0JBQzVDLElBQUksQ0FBQyxnQkFBUyxDQUFDLE1BQU0sRUFBRSxnQkFBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBQyxDQUFDO29CQUN4RCxPQUFPO2dCQUNYLENBQUM7WUFDTCxDQUFDO2lCQUNJLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEtBQUssZ0JBQVMsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFFLENBQUMsRUFBQyxDQUFDO2dCQUNsSCxJQUFJLENBQUMsZ0JBQVMsQ0FBQyxJQUFJLEVBQUUsZ0JBQVMsQ0FBQyxLQUFLLEVBQUUsZ0JBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUMsQ0FBQztvQkFDekUsT0FBTztnQkFDWCxDQUFDO1lBQ0wsQ0FBQztZQUNELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQztZQUNsQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEVBQUMsQ0FBQztnQkFDbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNoRCxDQUFDO1lBQ0QsSUFBSSxDQUFDLGdCQUFTLENBQUMsS0FBSyxFQUFFLGdCQUFTLENBQUMsS0FBSyxFQUFFLGdCQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFDLENBQUM7Z0JBQ3ZFLElBQUksQ0FBQyxnQkFBUyxDQUFDLE1BQU0sRUFBRSxnQkFBUyxDQUFDLElBQUksRUFBRSxnQkFBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBQyxDQUFDO29CQUMxRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztnQkFDN0IsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQztJQUNELFFBQVEsQ0FBQyxTQUFnQjtRQUNyQixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQztZQUNsQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQzVCLElBQUksU0FBUyxLQUFLLElBQUksQ0FBQyxTQUFTLEVBQUMsQ0FBQztnQkFDOUIsSUFBSSxDQUFDLGdCQUFTLENBQUMsTUFBTSxFQUFFLGdCQUFTLENBQUMsSUFBSSxFQUFFLGdCQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBQyxDQUFDO29CQUM1RSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7Z0JBQ3pCLENBQUM7Z0JBQ0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7Z0JBQzNCLElBQUksU0FBUyxLQUFLLENBQUMsQ0FBQyxFQUFDLENBQUM7b0JBQ2xCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDdEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxnQkFBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUMxQyxDQUFDO3FCQUNHLENBQUM7b0JBQ0QsSUFBSSxTQUFTLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUUsQ0FBQyxFQUFDLENBQUM7d0JBQ3BDLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDeEMsQ0FBQzt5QkFDRyxDQUFDO3dCQUNELElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDMUMsQ0FBQztvQkFDRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUNqQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO29CQUN6QyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ25FLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDckUsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQztJQXFCTyxpQkFBaUI7UUFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEtBQUssZ0JBQVMsQ0FBQyxLQUFLLEVBQUMsQ0FBQztZQUNqRSxPQUFPO1FBQ1gsQ0FBQztRQUNELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDNUIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyw4RUFBNkU7UUFDeEcsSUFBSSxNQUFNLEdBQUcsU0FBUyxLQUFLLGdCQUFTLENBQUMsTUFBTSxDQUFDO1FBQzVDLElBQUksa0JBQWtCLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztRQUN0RSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDMUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBQyxDQUFDO1lBQzVCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxrQkFBa0IsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNqRSxDQUFDO1FBQ0QsSUFBSSxRQUFRLEdBQUcsSUFBSSxtQkFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxVQUFVLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUN0QyxRQUFRLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzlDLElBQUksUUFBUSxDQUFDLFFBQVEsRUFBQyxDQUFDO1lBQ25CLFFBQVEsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMzRCxRQUFRLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDL0QsQ0FBQzthQUNJLElBQUksTUFBTSxFQUFDLENBQUM7WUFDYixxREFBcUQ7WUFDckQsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFDLENBQUM7Z0JBQ2hCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztnQkFDN0MsUUFBUSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUNsRCxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM5RCxDQUFDO1lBQ0QsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFDLENBQUM7Z0JBQ2YsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ25FLFFBQVEsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzdDLENBQUM7UUFDTCxDQUFDO1FBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUU7WUFFN0MsMEJBQTBCO1lBQzFCLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBQyxDQUFDO2dCQUN0RCxJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztnQkFDekQsSUFBSSxLQUFLLEdBQUcsYUFBYSxDQUFDLFVBQThCLENBQUM7Z0JBQ3pELElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDN0Qsb0RBQW9EO2dCQUNwRCw0Q0FBNEM7Z0JBQzVDLDRFQUE0RTtZQUNoRixDQUFDO1lBQ0QsdUNBQXVDO1lBQ3ZDLFFBQVEsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNqQyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM3QyxDQUFDLENBQUMsQ0FBQztZQUVILElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUMsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDM0QsQ0FBQztZQUNELElBQUksQ0FBQyxTQUFTLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBQyxDQUFDO2dCQUMzQixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFDakYsUUFBUSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUNsRCxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM5RCxDQUFDO1lBQ0QsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFFLENBQUMsRUFBQyxDQUFDO2dCQUNwRCxJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3BDLE9BQU87WUFDWCxDQUFDO1lBQ0QsSUFBSSxNQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDO2dCQUNqQyxJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3RDLE9BQU87WUFDWCxDQUFDO1lBRUQsMkVBQTJFO1lBQzNFLElBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDLEtBQUssS0FBSyxnQkFBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUM7WUFDN0csSUFBSSxDQUFDLGlCQUFpQixHQUFHLFVBQVUsQ0FBQyxHQUFHLEVBQUU7Z0JBRXJDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQzdCLENBQUMsRUFBRSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDTyxXQUFXLENBQUMsUUFBaUIsRUFBRSxJQUFTLEVBQUUsU0FBbUIsRUFBRSxzQkFBK0I7UUFFbEcsOENBQThDO1FBQzlDLElBQUcsQ0FBQztZQUNBLFFBQVEsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNqQyxJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLENBQUM7Z0JBQ3ZELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsQ0FBQztnQkFDcEQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNyQyxJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO2dCQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsR0FBRyxXQUFXLENBQUM7Z0JBQ2xELElBQUksaUJBQWlCLEdBQUcsU0FBUyxLQUFLLGdCQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztnQkFDM0csSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEdBQUcsaUJBQWlCLEdBQUcsR0FBRyxDQUFDO2dCQUM5RCxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsV0FBVyxDQUFDLENBQUMsR0FBRyxhQUFhLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztnQkFDL0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLFdBQVcsQ0FBQyxDQUFDLEdBQUcsYUFBYSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7Z0JBQzlELElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN6QyxDQUFDLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO1lBQzdCLFFBQVEsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtnQkFDbEQsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUMsQ0FBQztvQkFDdkIsOENBQThDO29CQUM5QyxRQUFRLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTt3QkFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEdBQUcsRUFBRSxDQUFDO3dCQUN6QyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO3dCQUMzQixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO3dCQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQzVDLENBQUMsQ0FBQyxDQUFDO29CQUNILHNCQUFzQixFQUFFLENBQUM7Z0JBQzdCLENBQUM7WUFDTCxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUN2QixDQUFDO1FBQ0QsT0FBTSxFQUFFLEVBQUMsQ0FBQztZQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDaEIsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztZQUNiLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQztZQUNsQixRQUFRLENBQUM7UUFDYixDQUFDO0lBQ0wsQ0FBQztJQUNELG9KQUFvSjtJQUM1SSxNQUFNLENBQUMsSUFBVyxFQUFFLEVBQVU7UUFDbEMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQThCLENBQUM7UUFDakYsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMxQixJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQVEsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDNUQsSUFBSSxZQUFZLENBQUMsVUFBVSxFQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFFBQVMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ3JGLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLFFBQVMsRUFBRSxZQUFZLENBQUMsTUFBTyxDQUFDLENBQUM7UUFDbEUsQ0FBQztJQUNMLENBQUM7SUFDTyxVQUFVLENBQUMsSUFBVyxFQUFFLEVBQVM7UUFFckMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQThCLENBQUM7UUFDakYsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3ZELFlBQVksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQzVCLFlBQVksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUNELDRFQUE0RTtJQUNwRSxlQUFlLENBQUMsT0FBYyxFQUFFLElBQVcsRUFBRSxFQUFTO1FBRTFELElBQUksT0FBTyxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFDLENBQUM7WUFDbEMsSUFBSSxFQUFFLEtBQUssSUFBSTtnQkFDWCxPQUFPLEVBQUMsVUFBVSxFQUFDLElBQUksRUFBRSxRQUFRLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBQyxJQUFJLEVBQUMsQ0FBQztpQkFDcEQsSUFBSSxFQUFFLEtBQUssSUFBSTtnQkFDaEIsT0FBTyxFQUFDLFVBQVUsRUFBQyxJQUFJLEVBQUUsUUFBUSxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUMsSUFBSSxFQUFDLENBQUM7UUFDN0QsQ0FBQzthQUNJLElBQUksT0FBTyxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUN6QyxDQUFDO1lBQ0csSUFBSSxFQUFFLEtBQUssSUFBSTtnQkFDWCxPQUFPLEVBQUMsVUFBVSxFQUFDLElBQUksRUFBRSxRQUFRLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBQyxJQUFJLEVBQUMsQ0FBQztpQkFDcEQsSUFBSSxFQUFFLEtBQUssSUFBSTtnQkFDaEIsT0FBTyxFQUFDLFVBQVUsRUFBQyxJQUFJLEVBQUUsUUFBUSxFQUFDLElBQUksRUFBRSxNQUFNLEVBQUMsSUFBSSxFQUFDLENBQUM7UUFDN0QsQ0FBQztRQUNELE9BQU8sRUFBQyxVQUFVLEVBQUMsS0FBSyxFQUFDO0lBQzdCLENBQUM7Q0FDSjtBQWpRRCx3Q0FpUUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4UUQsMkpBQW9EO0FBQ3BELDJKQUFvRDtBQUNwRCwySkFBb0Q7QUFDcEQsMkpBQW9EO0FBQ3BELDJKQUFvRDtBQUNwRCwySkFBb0Q7QUFDcEQsMkpBQW9EO0FBQ3BELDJKQUFvRDtBQUNwRCwySkFBb0Q7QUFDcEQsMkpBQW9EO0FBQ3BELDJKQUFvRDtBQUNwRCwySkFBb0Q7QUFFcEQsZ0pBQStDO0FBQy9DLHNKQUFtRDtBQUVuRCxNQUFxQixLQUFLOztBQUNmLFNBQUcsR0FBRyxpQkFBRyxDQUFDO0FBQ1YsV0FBSyxHQUFHLG1CQUFLLENBQUM7QUFFZCxjQUFRLEdBQTBCO0lBQ3JDLENBQUMsR0FBRyxDQUFDLEVBQUUsZ0JBQUU7SUFDVCxDQUFDLEdBQUcsQ0FBQyxFQUFFLGdCQUFFO0lBQ1QsQ0FBQyxHQUFHLENBQUMsRUFBRSxnQkFBRTtJQUNULENBQUMsR0FBRyxDQUFDLEVBQUUsZ0JBQUU7SUFDVCxDQUFDLEdBQUcsQ0FBQyxFQUFFLGdCQUFFO0lBQ1QsQ0FBQyxHQUFHLENBQUMsRUFBRSxnQkFBRTtJQUNULENBQUMsR0FBRyxDQUFDLEVBQUUsZ0JBQUU7SUFDVCxDQUFDLEdBQUcsQ0FBQyxFQUFFLGdCQUFFO0lBQ1QsQ0FBQyxHQUFHLENBQUMsRUFBRSxnQkFBRTtJQUNULENBQUMsR0FBRyxDQUFDLEVBQUUsZ0JBQUU7SUFDVCxDQUFDLEdBQUcsQ0FBQyxFQUFFLGdCQUFFO0lBQ1QsQ0FBQyxHQUFHLENBQUMsRUFBRSxnQkFBRTtDQUNaLENBQUM7cUJBakJlLEtBQUs7Ozs7Ozs7Ozs7Ozs7O0FDYjFCLE1BQWEsUUFBUTtJQU9qQixZQUFZLFVBQXFCLEVBQUUsSUFBUyxFQUFFLE1BQWM7UUFGNUQsaUJBQVksR0FBdUQsRUFBRSxDQUFDO1FBR2xFLElBQUksQ0FBQyxZQUFZLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQzFELElBQUksQ0FBQyxZQUFZLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3hELElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBcUIsQ0FBQztRQUN4RyxJQUFJLEtBQUssR0FBRyxFQUFDLEtBQUssRUFBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUMsQ0FBQztRQUM1RixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU5QixJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssR0FBRyxFQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLFFBQVEsQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ3ZELElBQUksS0FBSyxHQUFHLEVBQUMsS0FBSyxFQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUMsQ0FBQztZQUM5SCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQyxDQUFDO0lBQ0wsQ0FBQztDQUNKO0FBcEJELDRCQW9CQztBQUNELE1BQWEsUUFBUTtJQUtqQixZQUFZLFVBQXFCLEVBQUUsSUFBUyxFQUFFLE1BQWM7UUFDeEQsSUFBSSxRQUFRLEdBQUcsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUNsRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ2hFLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQXFCLENBQUM7SUFDbkgsQ0FBQztDQUNKO0FBWEQsNEJBV0M7QUFDRCxTQUFTLG1CQUFtQixDQUFDLElBQVcsRUFBRSxLQUFZO0lBQ2xELFFBQU8sSUFBSSxFQUFDLENBQUM7UUFDVCxLQUFLLEdBQUc7WUFDSixPQUFPLEtBQUssS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBRSxFQUFFLEVBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBRSxFQUFFLEVBQUMsSUFBSSxFQUFDLENBQUM7UUFDdkU7WUFDSSxPQUFPLEtBQUssS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBRSxFQUFFLEVBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBRSxFQUFFLEVBQUMsSUFBSSxFQUFDLENBQUM7SUFDM0UsQ0FBQztBQUNMLENBQUM7Ozs7Ozs7Ozs7Ozs7O0FDekNELElBQWlCLE1BQU0sQ0ErQnRCO0FBL0JELFdBQWlCLE1BQU07SUFDbkIsU0FBZ0IsbUJBQW1CLENBQUMsS0FBaUIsRUFBRSxVQUFxQjtRQUV4RSxJQUFJLElBQUksR0FBRyxrQkFBa0IsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbEQsSUFBSSxLQUFLLEdBQUcsd0JBQXdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUMsT0FBTyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ25ILENBQUM7SUFMZSwwQkFBbUIsc0JBS2xDO0lBQ0QsU0FBZ0IsZ0JBQWdCLENBQUMsS0FBZ0IsRUFBRSxVQUFxQjtRQUNwRSxJQUFJLG1CQUFtQixHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBQ3pELElBQUksb0JBQW9CLEdBQUcsbUJBQW1CLEdBQUcsQ0FBQyxDQUFDO1FBQ25ELElBQUksZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQztRQUMzRyxJQUFJLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUM7UUFDekcsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ25FLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEdBQUcsb0JBQW9CLENBQUMsQ0FBQztRQUN0RSxJQUFJLGlCQUFpQixHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztRQUNyRCxPQUFPLFVBQVUsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFnQixDQUFDO0lBQ2pGLENBQUM7SUFUZSx1QkFBZ0IsbUJBUy9CO0lBQ0QsU0FBZ0Isa0JBQWtCLENBQUMsT0FBbUI7UUFDbEQsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsT0FBTyxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3JILE9BQU8sT0FBTyxDQUFDLFlBQVksWUFBWSxXQUFXLEVBQUMsQ0FBQztZQUNoRCxPQUFPLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQztZQUMvQixJQUFJLENBQUMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUM7WUFDN0IsSUFBSSxDQUFDLENBQUMsSUFBSSxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ2hDLENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBUmUseUJBQWtCLHFCQVFqQztJQUNELFNBQWdCLHdCQUF3QixDQUFDLEtBQWdCO1FBQ3JELElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUM7UUFDNUQsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQztRQUMzRCxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUplLCtCQUF3QiwyQkFJdkM7QUFDTCxDQUFDLEVBL0JnQixNQUFNLHNCQUFOLE1BQU0sUUErQnRCOzs7Ozs7Ozs7Ozs7Ozs7O0FDakNELHFJQUF3QztBQUN4Qyx3SUFBMEM7QUFDMUMsMEpBQW9EO0FBQ3BELG9KQUFnRDtBQUNoRCw4SUFBOEM7QUFDOUMsMklBQTRDO0FBRTVDLE1BQXFCLEtBQUs7O0FBQ2YsVUFBSSxHQUFHLGtCQUFJLENBQUM7QUFDWixXQUFLLEdBQUcsbUJBQUssQ0FBQztBQUNkLGVBQVMsR0FBRyx5QkFBUyxDQUFDO0FBQ3RCLGFBQU8sR0FBRyx1QkFBTyxDQUFDO0FBQ2xCLGFBQU8sR0FBRyxxQkFBTyxDQUFDO0FBQ2xCLFlBQU0sR0FBRyxvQkFBTSxDQUFDO3FCQU5OLEtBQUs7Ozs7Ozs7Ozs7Ozs7O0FDUDFCLElBQWlCLEdBQUcsQ0F1Rm5CO0FBdkZELFdBQWlCLEdBQUc7SUFDaEIsTUFBYSxJQUFJO1FBQWpCO1lBRUksU0FBSSxHQUEyQixFQUFFLENBQUM7UUFFdEMsQ0FBQztLQUFBO0lBSlksUUFBSSxPQUloQjtJQUNELElBQUssV0FHSjtJQUhELFdBQUssV0FBVztRQUNaLDZDQUFJO1FBQ0osK0NBQUs7SUFDVCxDQUFDLEVBSEksV0FBVyxLQUFYLFdBQVcsUUFHZjtJQUtELFNBQWdCLFFBQVEsQ0FBQyxLQUFZO1FBQ2pDLElBQUksVUFBVSxHQUFHLFlBQVksQ0FBQztRQUM5QixLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2pCLFVBQVUsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUMvQyxDQUFDLENBQUMsQ0FBQztRQUNILFVBQVUsR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUM1QyxJQUFJLFdBQVcsR0FBRyxrQkFBa0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqRCxRQUFRLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxxRkFBcUYsR0FBRyxXQUFXLEdBQUcsNkJBQTZCLENBQUMsQ0FBQztRQUNuTCxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDekQsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDO1FBQ2QsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDO0lBQ25CLENBQUM7SUFYZSxZQUFRLFdBV3ZCO0lBQ0QsU0FBZ0IsY0FBYyxDQUFDLE9BQWM7UUFDekMsSUFBSSxRQUFRLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BDLElBQUksUUFBUSxFQUFDLENBQUM7WUFDVixJQUFJLFFBQVEsR0FBVSxFQUFFLENBQUM7WUFDekIsSUFBSSxXQUFXLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUM3QixLQUFLLElBQUksT0FBTyxJQUFJLFFBQVEsRUFBQyxDQUFDO2dCQUMxQixJQUFJLE9BQU8sQ0FBQyxJQUFJLEtBQUssV0FBVyxDQUFDLElBQUksRUFBQyxDQUFDO29CQUNuQyxXQUFXLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDeEMsQ0FBQztxQkFDRyxDQUFDO29CQUNELFdBQVcsQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUM1RCxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO29CQUMzQixXQUFXLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDN0IsQ0FBQztZQUNMLENBQUM7WUFDRCxPQUFPLFFBQVEsQ0FBQztRQUNwQixDQUFDO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQWxCZSxrQkFBYyxpQkFrQjdCO0lBQ0QsU0FBUyxXQUFXLENBQUMsT0FBZTtRQUNoQyxJQUFJLE9BQU8sRUFBQyxDQUFDO1lBQ1QsSUFBSSxRQUFRLEdBQWEsRUFBRSxDQUFDO1lBQzVCLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDdEMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUMsQ0FBQztnQkFDcEIsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBQyxDQUFDO29CQUNqQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUMsQ0FBQzt3QkFDakIsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksRUFBQyxXQUFXLENBQUMsSUFBSSxFQUFFLElBQUksRUFBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO29CQUN0RCxDQUFDO3lCQUNJLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBQyxDQUFDO3dCQUN0QixRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxDQUFDO29CQUN2RCxDQUFDO2dCQUNMLENBQUM7WUFDTCxDQUFDO1lBQ0QsT0FBTyxRQUFRLENBQUM7UUFDcEIsQ0FBQztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ3JCLENBQUM7SUFDRCxTQUFTLE9BQU8sQ0FBQyxPQUFlO1FBQzVCLElBQUksSUFBSSxHQUEwQixFQUFFLENBQUM7UUFDckMsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUMsQ0FBQztZQUNwQixJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdkIsSUFBSSxHQUFHLEVBQUMsQ0FBQztnQkFDTCxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFDOUIsQ0FBQztRQUNMLENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0QsU0FBUyxNQUFNLENBQUMsSUFBVztRQUN2QixJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ25CLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBQyxDQUFDO1lBQ3BDLElBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM5QyxJQUFJLGlCQUFpQixHQUFHLENBQUMsRUFBQyxDQUFDO2dCQUN2QixJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzFDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLGlCQUFpQixDQUFDLENBQUM7Z0JBQy9DLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEdBQUUsQ0FBQyxFQUFFLGlCQUFpQixHQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN2RSxPQUFPLEVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUM7WUFDcEMsQ0FBQztRQUNMLENBQUM7UUFDRCxPQUFPLFNBQVMsQ0FBQztJQUNyQixDQUFDO0FBQ0wsQ0FBQyxFQXZGZ0IsR0FBRyxtQkFBSCxHQUFHLFFBdUZuQjs7Ozs7Ozs7Ozs7OztBQ3ZGRCxNQUFxQixHQUFHOztBQUNiLFVBQU0sR0FBMkI7SUFDcEMsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0lBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRO0NBQ2xCLENBQUM7cUJBZGUsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQ3hCLHdHQUE4RDtBQUM5RCxzSUFBdUU7QUFDdkUsNkdBQXFEO0FBQ3JELDhIQUFpRDtBQUNqRCxvSUFBcUQ7QUFDckQscUpBQXNFO0FBQ3RFLG1FQUF1QjtBQUN2QixzRUFBcUI7QUFFckIsSUFBSSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQWdCLENBQUM7QUFDakUsSUFBSSxjQUFjLEdBQUcsSUFBSSwrQkFBYyxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzNFLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFnQixDQUFDO0FBQ3hELElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFnQixDQUFDO0FBQ2xFLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFxQixDQUFDO0FBRXZFLElBQUksUUFBUSxHQUEyQixJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ2xELFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUVyQixJQUFJLGFBQWEsR0FBRyxXQUFXLENBQUMsYUFBYSxFQUFFLGVBQUssQ0FBQyxTQUFTLEVBQUUsR0FBRSxFQUFFO0lBQ2hFLEdBQUcsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ25CLGNBQWMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztBQUMvQixDQUFDLENBQUMsQ0FBQztBQUNILElBQUksVUFBVSxHQUFHLFdBQVcsQ0FBQyxRQUFRLEVBQUUsZUFBSyxDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDNUUsSUFBSSxRQUFRLEdBQUcsV0FBVyxDQUFDLE1BQU0sRUFBRSxlQUFLLENBQUMsSUFBSSxFQUFFLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNwRSxJQUFJLFNBQVMsR0FBRyxXQUFXLENBQUMsT0FBTyxFQUFFLGVBQUssQ0FBQyxLQUFLLEVBQUUsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3hFLElBQUksV0FBVyxHQUFHLFdBQVcsQ0FBQyxTQUFTLEVBQUUsZUFBSyxDQUFDLE9BQU8sRUFBRSxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDaEYsSUFBSSxXQUFXLEdBQUcsV0FBVyxDQUFDLFdBQVcsRUFBRSxlQUFLLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUMzRCxJQUFJLGNBQWMsQ0FBQyxXQUFXLEVBQUMsQ0FBQztRQUM1QixHQUFHLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNuQixJQUFJLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDbkIsY0FBYyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3pCLGNBQWMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM1QyxVQUFVLENBQUMsVUFBVSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDSCxTQUFTLFdBQVcsQ0FBQyxFQUFTLEVBQUUsT0FBYyxFQUFFLEVBQWM7SUFDMUQsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQXFCLENBQUM7SUFDM0QsSUFBSSxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUM7SUFDbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDbEIsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQztBQUNELFNBQVMsZUFBZSxDQUFDLEtBQWdCO0lBQ3JDLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBQyxDQUFDO1FBQ3hCLE9BQU87SUFDWCxDQUFDO0lBQ0QsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQ2pDLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxhQUE0QixDQUFDO0lBQ2pELEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDdkQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEMsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNoQyxJQUFJLEtBQUssR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLFVBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0QsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlCLElBQUksSUFBSSxHQUFHLElBQUksV0FBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN0QyxHQUFHLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUNuQixJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQztJQUNqRCxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQztJQUNqRCxjQUFjLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDekQsQ0FBQztBQUNELEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFO0lBQ2xDLE1BQU0sTUFBTSxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7SUFDaEMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7UUFDN0IsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUN6QixJQUFJLElBQUksSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQ3BDLENBQUM7WUFDRyxRQUFRLEdBQUcsU0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxJQUFJLFFBQVEsRUFBQyxDQUFDO2dCQUNWLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDbkIsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNyRSxzQ0FBc0M7Z0JBQ3RDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN6QixDQUFDO1FBQ0wsQ0FBQztJQUNMLENBQUMsRUFDRCxLQUFLLENBQ1IsQ0FBQztJQUNGLElBQUksS0FBSyxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDaEMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0gsU0FBUyxVQUFVLENBQUMsS0FBaUI7SUFDakMsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQWdCLENBQUM7SUFDMUQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BELEtBQUssQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFFakIsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxLQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVCLFFBQVEsQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFDO1FBQ25DLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUU7WUFFL0MsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QyxPQUFPLENBQUMsU0FBUyxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ3ZDLFFBQVEsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbEMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFDRCxjQUFjLENBQUMsU0FBUyxDQUFDLGtCQUFrQixHQUFHLENBQUMsUUFBa0IsRUFBRSxFQUFFO0lBQ2pFLFFBQVEsUUFBUSxFQUFDLENBQUM7UUFDZCxLQUFLLGdCQUFTLENBQUMsS0FBSztZQUNoQixNQUFNLENBQUMsQ0FBQyxRQUFRLEVBQUUsV0FBVyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDN0MsT0FBTyxDQUFDLENBQUMsYUFBYSxFQUFFLFVBQVUsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ2hELE1BQU07UUFDVixLQUFLLGdCQUFTLENBQUMsSUFBSTtZQUNmLE1BQU0sQ0FBQyxDQUFDLGFBQWEsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3pFLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDcEIsTUFBTTtRQUNWLEtBQUssZ0JBQVMsQ0FBQyxLQUFLO1lBQ2hCLE1BQU0sQ0FBQyxDQUFDLGFBQWEsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3hFLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDckIsTUFBTTtRQUNWLEtBQUssZ0JBQVMsQ0FBQyxNQUFNO1lBQ2pCLE1BQU0sQ0FBQyxDQUFDLGFBQWEsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDdEIsTUFBTTtRQUNWLEtBQUssZ0JBQVMsQ0FBQyxPQUFPO1lBQ2xCLE1BQU0sQ0FBQyxDQUFDLGFBQWEsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3RFLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtRQUNWLEtBQUssZ0JBQVMsQ0FBQyxHQUFHO1lBQ2QsTUFBTSxDQUFDLENBQUMsYUFBYSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDcEMsT0FBTyxDQUFDLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUN6RCxNQUFNO0lBQ2QsQ0FBQztBQUNMLENBQUM7QUFDRCxTQUFTLE9BQU8sQ0FBQyxLQUF5QjtJQUN0QyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRTtRQUNoQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNuQyxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFDRCxTQUFTLE1BQU0sQ0FBQyxLQUF5QjtJQUNyQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRTtRQUNoQixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN0QyxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFDRCxjQUFjLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxDQUFDLElBQVMsRUFBRSxLQUFZLEVBQUUsTUFBYyxFQUFFLEVBQUU7SUFDL0UsSUFBSSxDQUFDLE1BQU0sRUFBQyxDQUFDO1FBQ1QsVUFBVSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0FBQ0wsQ0FBQztBQUNELGNBQWMsQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBUyxFQUFFLEtBQVksRUFBRSxNQUFjLEVBQUUsRUFBRTtJQUM3RSxJQUFJLE1BQU0sRUFBQyxDQUFDO1FBQ1IsR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBaUIsQ0FBQyxDQUFDO0lBQzNDLENBQUM7QUFDTCxDQUFDO0FBQ0QsY0FBYyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxLQUFZLEVBQUUsT0FBYyxFQUFFLGFBQThCLEVBQUUsSUFBWSxFQUFFLEVBQUU7SUFDaEgsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNwQixDQUFDO0FBQ0QsU0FBUyxVQUFVLENBQUMsU0FBZ0IsRUFBRSxJQUFTO0lBQzNDLElBQUksVUFBVSxHQUFHLFNBQVMsR0FBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDM0MsSUFBSSxTQUFTLEdBQUcsVUFBVSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDckMsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3QyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekMsSUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDaEQsSUFBSSxTQUFTLEtBQUssU0FBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLFNBQVMsQ0FBQyxXQUFXLEVBQUUsS0FBSyxHQUFHLEVBQzVFLENBQUM7UUFDRyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssR0FBRyxFQUFDLENBQUM7WUFDcEIsU0FBUyxHQUFHLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN4QyxDQUFDO1FBQ0QsU0FBUyxHQUFHLGFBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEMsT0FBTyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRCxDQUFDOztRQUVHLE9BQU8sSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ3hCLE9BQU8sQ0FBQyxTQUFTLEdBQUcsT0FBTyxHQUFHLEdBQUcsQ0FBQztJQUNsQyxHQUFHLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzdCLENBQUM7QUFDRCxHQUFHLENBQUMsT0FBTyxHQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDbEIsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQXFCLENBQUM7SUFDekMsSUFBSSxNQUFNLEtBQUssR0FBRyxFQUFDLENBQUM7UUFDaEIsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVELEdBQUcsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ25CLElBQUksY0FBYyxDQUFDLFdBQVcsRUFBQyxDQUFDO1lBQzVCLElBQUksS0FBSyxHQUFHLGNBQWMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO1lBQzdDLEtBQUssSUFBSSxTQUFTLEdBQUcsQ0FBQyxFQUFFLFNBQVMsSUFBSSxZQUFZLEVBQUUsU0FBUyxFQUFFLEVBQUMsQ0FBQztnQkFDNUQsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUM1QixVQUFVLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ2hDLENBQUM7WUFDRCxjQUFjLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzFDLENBQUM7SUFDTCxDQUFDO0FBQ0wsQ0FBQztBQUNELG1CQUFtQjtBQUNuQixnREFBZ0Q7QUFDaEQsOENBQThDO0FBQzlDLDhCQUE4QjtBQUM5QixxRUFBcUU7QUFDckUsdUJBQXVCO0FBQ3ZCLHlEQUF5RDtBQUN6RCxJQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL25vZGVfbW9kdWxlcy9jaGVzcy5qcy9kaXN0L2VzbS9jaGVzcy5qcyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvY2hlc3MvY2hlc3Nib2FyZC5jc3MiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9wYWdlcy9pbmRleC9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9wYWdlcy9tYXN0ZXIuY3NzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvY2hlc3MvY2hlc3Nib2FyZC5jc3M/M2M1ZSIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL3BhZ2VzL2luZGV4L2luZGV4LmNzcz84ZDBjIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvcGFnZXMvbWFzdGVyLmNzcz8yZWFhIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL2NoZXNzL0Fycm93cy50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvY2hlc3MvQ2FsbGJhY2tzLnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy9jaGVzcy9DaGVzc2JvYXJkLnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy9jaGVzcy9EcmFnQW5kRHJvcC50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvY2hlc3MvR2FtZS50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvY2hlc3MvR2FtZUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL2NoZXNzL0ljb25zLnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy9jaGVzcy9Nb3ZlSW5mby50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvY2hlc3MvU2hhcmVkLnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy9wZ25WaWV3ZXIvSWNvbnMudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3BnblZpZXdlci9QR04udHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3BnblZpZXdlci9VVEYudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9wYWdlcy9pbmRleC9JbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjMsIEplZmYgSGx5d2EgKGpobHl3YUBnbWFpbC5jb20pXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb25cbiAqICAgIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuICogQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFXG4gKiBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4gKiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuICogU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTXG4gKiBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuICogQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAqIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4gKiBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuZXhwb3J0IGNvbnN0IFdISVRFID0gJ3cnO1xuZXhwb3J0IGNvbnN0IEJMQUNLID0gJ2InO1xuZXhwb3J0IGNvbnN0IFBBV04gPSAncCc7XG5leHBvcnQgY29uc3QgS05JR0hUID0gJ24nO1xuZXhwb3J0IGNvbnN0IEJJU0hPUCA9ICdiJztcbmV4cG9ydCBjb25zdCBST09LID0gJ3InO1xuZXhwb3J0IGNvbnN0IFFVRUVOID0gJ3EnO1xuZXhwb3J0IGNvbnN0IEtJTkcgPSAnayc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1NJVElPTiA9ICdybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SIHcgS1FrcSAtIDAgMSc7XG5jb25zdCBFTVBUWSA9IC0xO1xuY29uc3QgRkxBR1MgPSB7XG4gICAgTk9STUFMOiAnbicsXG4gICAgQ0FQVFVSRTogJ2MnLFxuICAgIEJJR19QQVdOOiAnYicsXG4gICAgRVBfQ0FQVFVSRTogJ2UnLFxuICAgIFBST01PVElPTjogJ3AnLFxuICAgIEtTSURFX0NBU1RMRTogJ2snLFxuICAgIFFTSURFX0NBU1RMRTogJ3EnLFxufTtcbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGNvbnN0IFNRVUFSRVMgPSBbXG4gICAgJ2E4JywgJ2I4JywgJ2M4JywgJ2Q4JywgJ2U4JywgJ2Y4JywgJ2c4JywgJ2g4JyxcbiAgICAnYTcnLCAnYjcnLCAnYzcnLCAnZDcnLCAnZTcnLCAnZjcnLCAnZzcnLCAnaDcnLFxuICAgICdhNicsICdiNicsICdjNicsICdkNicsICdlNicsICdmNicsICdnNicsICdoNicsXG4gICAgJ2E1JywgJ2I1JywgJ2M1JywgJ2Q1JywgJ2U1JywgJ2Y1JywgJ2c1JywgJ2g1JyxcbiAgICAnYTQnLCAnYjQnLCAnYzQnLCAnZDQnLCAnZTQnLCAnZjQnLCAnZzQnLCAnaDQnLFxuICAgICdhMycsICdiMycsICdjMycsICdkMycsICdlMycsICdmMycsICdnMycsICdoMycsXG4gICAgJ2EyJywgJ2IyJywgJ2MyJywgJ2QyJywgJ2UyJywgJ2YyJywgJ2cyJywgJ2gyJyxcbiAgICAnYTEnLCAnYjEnLCAnYzEnLCAnZDEnLCAnZTEnLCAnZjEnLCAnZzEnLCAnaDEnXG5dO1xuY29uc3QgQklUUyA9IHtcbiAgICBOT1JNQUw6IDEsXG4gICAgQ0FQVFVSRTogMixcbiAgICBCSUdfUEFXTjogNCxcbiAgICBFUF9DQVBUVVJFOiA4LFxuICAgIFBST01PVElPTjogMTYsXG4gICAgS1NJREVfQ0FTVExFOiAzMixcbiAgICBRU0lERV9DQVNUTEU6IDY0LFxufTtcbi8qXG4gKiBOT1RFUyBBQk9VVCAweDg4IE1PVkUgR0VORVJBVElPTiBBTEdPUklUSE1cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pobHl3YS9jaGVzcy5qcy9pc3N1ZXMvMjMwXG4gKlxuICogQSBsb3Qgb2YgcGVvcGxlIGFyZSBjb25mdXNlZCB3aGVuIHRoZXkgZmlyc3Qgc2VlIHRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvblxuICogb2YgY2hlc3MuanMuIEl0IHVzZXMgdGhlIDB4ODggTW92ZSBHZW5lcmF0aW9uIEFsZ29yaXRobSB3aGljaCBpbnRlcm5hbGx5XG4gKiBzdG9yZXMgdGhlIGJvYXJkIGFzIGFuIDh4MTYgYXJyYXkuIFRoaXMgaXMgcHVyZWx5IGZvciBlZmZpY2llbmN5IGJ1dCBoYXMgYVxuICogY291cGxlIG9mIGludGVyZXN0aW5nIGJlbmVmaXRzOlxuICpcbiAqIDEuIDB4ODggb2ZmZXJzIGEgdmVyeSBpbmV4cGVuc2l2ZSBcIm9mZiB0aGUgYm9hcmRcIiBjaGVjay4gQml0d2lzZSBBTkQgKCYpIGFueVxuICogICAgc3F1YXJlIHdpdGggMHg4OCwgaWYgdGhlIHJlc3VsdCBpcyBub24temVybyB0aGVuIHRoZSBzcXVhcmUgaXMgb2ZmIHRoZVxuICogICAgYm9hcmQuIEZvciBleGFtcGxlLCBhc3N1bWluZyBhIGtuaWdodCBzcXVhcmUgQTggKDAgaW4gMHg4OCBub3RhdGlvbiksXG4gKiAgICB0aGVyZSBhcmUgOCBwb3NzaWJsZSBkaXJlY3Rpb25zIGluIHdoaWNoIHRoZSBrbmlnaHQgY2FuIG1vdmUuIFRoZXNlXG4gKiAgICBkaXJlY3Rpb25zIGFyZSByZWxhdGl2ZSB0byB0aGUgOHgxNiBib2FyZCBhbmQgYXJlIHN0b3JlZCBpbiB0aGVcbiAqICAgIFBJRUNFX09GRlNFVFMgbWFwLiBPbmUgcG9zc2libGUgbW92ZSBpcyBBOCAtIDE4ICh1cCBvbmUgc3F1YXJlLCBhbmQgdHdvXG4gKiAgICBzcXVhcmVzIHRvIHRoZSBsZWZ0IC0gd2hpY2ggaXMgb2ZmIHRoZSBib2FyZCkuIDAgLSAxOCA9IC0xOCAmIDB4ODggPSAweDg4XG4gKiAgICAoYmVjYXVzZSBvZiB0d28tY29tcGxlbWVudCByZXByZXNlbnRhdGlvbiBvZiAtMTgpLiBUaGUgbm9uLXplcm8gcmVzdWx0XG4gKiAgICBtZWFucyB0aGUgc3F1YXJlIGlzIG9mZiB0aGUgYm9hcmQgYW5kIHRoZSBtb3ZlIGlzIGlsbGVnYWwuIFRha2UgdGhlXG4gKiAgICBvcHBvc2l0ZSBtb3ZlIChmcm9tIEE4IHRvIEM3KSwgMCArIDE4ID0gMTggJiAweDg4ID0gMC4gQSByZXN1bHQgb2YgemVyb1xuICogICAgbWVhbnMgdGhlIHNxdWFyZSBpcyBvbiB0aGUgYm9hcmQuXG4gKlxuICogMi4gVGhlIHJlbGF0aXZlIGRpc3RhbmNlIChvciBkaWZmZXJlbmNlKSBiZXR3ZWVuIHR3byBzcXVhcmVzIG9uIGEgOHgxNiBib2FyZFxuICogICAgaXMgdW5pcXVlIGFuZCBjYW4gYmUgdXNlZCB0byBpbmV4cGVuc2l2ZWx5IGRldGVybWluZSBpZiBhIHBpZWNlIG9uIGFcbiAqICAgIHNxdWFyZSBjYW4gYXR0YWNrIGFueSBvdGhlciBhcmJpdHJhcnkgc3F1YXJlLiBGb3IgZXhhbXBsZSwgbGV0J3Mgc2VlIGlmIGFcbiAqICAgIHBhd24gb24gRTcgY2FuIGF0dGFjayBFMi4gVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBFNyAoMjApIC0gRTIgKDEwMCkgaXNcbiAqICAgIC04MC4gV2UgYWRkIDExOSB0byBtYWtlIHRoZSBBVFRBQ0tTIGFycmF5IGluZGV4IG5vbi1uZWdhdGl2ZSAoYmVjYXVzZSB0aGVcbiAqICAgIHdvcnN0IGNhc2UgZGlmZmVyZW5jZSBpcyBBOCAtIEgxID0gLTExOSkuIFRoZSBBVFRBQ0tTIGFycmF5IGNvbnRhaW5zIGFcbiAqICAgIGJpdG1hc2sgb2YgcGllY2VzIHRoYXQgY2FuIGF0dGFjayBmcm9tIHRoYXQgZGlzdGFuY2UgYW5kIGRpcmVjdGlvbi5cbiAqICAgIEFUVEFDS1NbLTgwICsgMTE5PTM5XSBnaXZlcyB1cyAyNCBvciAwYjExMDAwIGluIGJpbmFyeS4gTG9vayBhdCB0aGVcbiAqICAgIFBJRUNFX01BU0tTIG1hcCB0byBkZXRlcm1pbmUgdGhlIG1hc2sgZm9yIGEgZ2l2ZW4gcGllY2UgdHlwZS4gSW4gb3VyIHBhd25cbiAqICAgIGV4YW1wbGUsIHdlIHdvdWxkIGNoZWNrIHRvIHNlZSBpZiAyNCAmIDB4MSBpcyBub24temVybywgd2hpY2ggaXQgaXNcbiAqICAgIG5vdC4gU28sIG5hdHVyYWxseSwgYSBwYXduIG9uIEU3IGNhbid0IGF0dGFjayBhIHBpZWNlIG9uIEUyLiBIb3dldmVyLCBhXG4gKiAgICByb29rIGNhbiBzaW5jZSAyNCAmIDB4OCBpcyBub24temVyby4gVGhlIG9ubHkgdGhpbmcgbGVmdCB0byBjaGVjayBpcyB0aGF0XG4gKiAgICB0aGVyZSBhcmUgbm8gYmxvY2tpbmcgcGllY2VzIGJldHdlZW4gRTcgYW5kIEUyLiBUaGF0J3Mgd2hlcmUgdGhlIFJBWVNcbiAqICAgIGFycmF5IGNvbWVzIGluLiBJdCBwcm92aWRlcyBhbiBvZmZzZXQgKGluIHRoaXMgY2FzZSAxNikgdG8gYWRkIHRvIEU3ICgyMClcbiAqICAgIHRvIGNoZWNrIGZvciBibG9ja2luZyBwaWVjZXMuIEU3ICgyMCkgKyAxNiA9IEU2ICgzNikgKyAxNiA9IEU1ICg1MikgZXRjLlxuICovXG4vLyBwcmV0dGllci1pZ25vcmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgT3g4OCA9IHtcbiAgICBhODogMCwgYjg6IDEsIGM4OiAyLCBkODogMywgZTg6IDQsIGY4OiA1LCBnODogNiwgaDg6IDcsXG4gICAgYTc6IDE2LCBiNzogMTcsIGM3OiAxOCwgZDc6IDE5LCBlNzogMjAsIGY3OiAyMSwgZzc6IDIyLCBoNzogMjMsXG4gICAgYTY6IDMyLCBiNjogMzMsIGM2OiAzNCwgZDY6IDM1LCBlNjogMzYsIGY2OiAzNywgZzY6IDM4LCBoNjogMzksXG4gICAgYTU6IDQ4LCBiNTogNDksIGM1OiA1MCwgZDU6IDUxLCBlNTogNTIsIGY1OiA1MywgZzU6IDU0LCBoNTogNTUsXG4gICAgYTQ6IDY0LCBiNDogNjUsIGM0OiA2NiwgZDQ6IDY3LCBlNDogNjgsIGY0OiA2OSwgZzQ6IDcwLCBoNDogNzEsXG4gICAgYTM6IDgwLCBiMzogODEsIGMzOiA4MiwgZDM6IDgzLCBlMzogODQsIGYzOiA4NSwgZzM6IDg2LCBoMzogODcsXG4gICAgYTI6IDk2LCBiMjogOTcsIGMyOiA5OCwgZDI6IDk5LCBlMjogMTAwLCBmMjogMTAxLCBnMjogMTAyLCBoMjogMTAzLFxuICAgIGExOiAxMTIsIGIxOiAxMTMsIGMxOiAxMTQsIGQxOiAxMTUsIGUxOiAxMTYsIGYxOiAxMTcsIGcxOiAxMTgsIGgxOiAxMTlcbn07XG5jb25zdCBQQVdOX09GRlNFVFMgPSB7XG4gICAgYjogWzE2LCAzMiwgMTcsIDE1XSxcbiAgICB3OiBbLTE2LCAtMzIsIC0xNywgLTE1XSxcbn07XG5jb25zdCBQSUVDRV9PRkZTRVRTID0ge1xuICAgIG46IFstMTgsIC0zMywgLTMxLCAtMTQsIDE4LCAzMywgMzEsIDE0XSxcbiAgICBiOiBbLTE3LCAtMTUsIDE3LCAxNV0sXG4gICAgcjogWy0xNiwgMSwgMTYsIC0xXSxcbiAgICBxOiBbLTE3LCAtMTYsIC0xNSwgMSwgMTcsIDE2LCAxNSwgLTFdLFxuICAgIGs6IFstMTcsIC0xNiwgLTE1LCAxLCAxNywgMTYsIDE1LCAtMV0sXG59O1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBBVFRBQ0tTID0gW1xuICAgIDIwLCAwLCAwLCAwLCAwLCAwLCAwLCAyNCwgMCwgMCwgMCwgMCwgMCwgMCwgMjAsIDAsXG4gICAgMCwgMjAsIDAsIDAsIDAsIDAsIDAsIDI0LCAwLCAwLCAwLCAwLCAwLCAyMCwgMCwgMCxcbiAgICAwLCAwLCAyMCwgMCwgMCwgMCwgMCwgMjQsIDAsIDAsIDAsIDAsIDIwLCAwLCAwLCAwLFxuICAgIDAsIDAsIDAsIDIwLCAwLCAwLCAwLCAyNCwgMCwgMCwgMCwgMjAsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMCwgMjAsIDAsIDAsIDI0LCAwLCAwLCAyMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAwLCAwLCAwLCAwLCAwLCAyMCwgMiwgMjQsIDIsIDIwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgIDAsIDAsIDAsIDAsIDAsIDIsIDUzLCA1NiwgNTMsIDIsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgMjQsIDI0LCAyNCwgMjQsIDI0LCAyNCwgNTYsIDAsIDU2LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCAwLFxuICAgIDAsIDAsIDAsIDAsIDAsIDIsIDUzLCA1NiwgNTMsIDIsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMCwgMCwgMjAsIDIsIDI0LCAyLCAyMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAwLCAwLCAwLCAwLCAyMCwgMCwgMCwgMjQsIDAsIDAsIDIwLCAwLCAwLCAwLCAwLCAwLFxuICAgIDAsIDAsIDAsIDIwLCAwLCAwLCAwLCAyNCwgMCwgMCwgMCwgMjAsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMjAsIDAsIDAsIDAsIDAsIDI0LCAwLCAwLCAwLCAwLCAyMCwgMCwgMCwgMCxcbiAgICAwLCAyMCwgMCwgMCwgMCwgMCwgMCwgMjQsIDAsIDAsIDAsIDAsIDAsIDIwLCAwLCAwLFxuICAgIDIwLCAwLCAwLCAwLCAwLCAwLCAwLCAyNCwgMCwgMCwgMCwgMCwgMCwgMCwgMjBcbl07XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IFJBWVMgPSBbXG4gICAgMTcsIDAsIDAsIDAsIDAsIDAsIDAsIDE2LCAwLCAwLCAwLCAwLCAwLCAwLCAxNSwgMCxcbiAgICAwLCAxNywgMCwgMCwgMCwgMCwgMCwgMTYsIDAsIDAsIDAsIDAsIDAsIDE1LCAwLCAwLFxuICAgIDAsIDAsIDE3LCAwLCAwLCAwLCAwLCAxNiwgMCwgMCwgMCwgMCwgMTUsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMTcsIDAsIDAsIDAsIDE2LCAwLCAwLCAwLCAxNSwgMCwgMCwgMCwgMCxcbiAgICAwLCAwLCAwLCAwLCAxNywgMCwgMCwgMTYsIDAsIDAsIDE1LCAwLCAwLCAwLCAwLCAwLFxuICAgIDAsIDAsIDAsIDAsIDAsIDE3LCAwLCAxNiwgMCwgMTUsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMCwgMCwgMCwgMTcsIDE2LCAxNSwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgMCxcbiAgICAwLCAwLCAwLCAwLCAwLCAwLCAtMTUsIC0xNiwgLTE3LCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgIDAsIDAsIDAsIDAsIDAsIC0xNSwgMCwgLTE2LCAwLCAtMTcsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMCwgLTE1LCAwLCAwLCAtMTYsIDAsIDAsIC0xNywgMCwgMCwgMCwgMCwgMCxcbiAgICAwLCAwLCAwLCAtMTUsIDAsIDAsIDAsIC0xNiwgMCwgMCwgMCwgLTE3LCAwLCAwLCAwLCAwLFxuICAgIDAsIDAsIC0xNSwgMCwgMCwgMCwgMCwgLTE2LCAwLCAwLCAwLCAwLCAtMTcsIDAsIDAsIDAsXG4gICAgMCwgLTE1LCAwLCAwLCAwLCAwLCAwLCAtMTYsIDAsIDAsIDAsIDAsIDAsIC0xNywgMCwgMCxcbiAgICAtMTUsIDAsIDAsIDAsIDAsIDAsIDAsIC0xNiwgMCwgMCwgMCwgMCwgMCwgMCwgLTE3XG5dO1xuY29uc3QgUElFQ0VfTUFTS1MgPSB7IHA6IDB4MSwgbjogMHgyLCBiOiAweDQsIHI6IDB4OCwgcTogMHgxMCwgazogMHgyMCB9O1xuY29uc3QgU1lNQk9MUyA9ICdwbmJycWtQTkJSUUsnO1xuY29uc3QgUFJPTU9USU9OUyA9IFtLTklHSFQsIEJJU0hPUCwgUk9PSywgUVVFRU5dO1xuY29uc3QgUkFOS18xID0gNztcbmNvbnN0IFJBTktfMiA9IDY7XG4vKlxuICogY29uc3QgUkFOS18zID0gNVxuICogY29uc3QgUkFOS180ID0gNFxuICogY29uc3QgUkFOS181ID0gM1xuICogY29uc3QgUkFOS182ID0gMlxuICovXG5jb25zdCBSQU5LXzcgPSAxO1xuY29uc3QgUkFOS184ID0gMDtcbmNvbnN0IFNJREVTID0ge1xuICAgIFtLSU5HXTogQklUUy5LU0lERV9DQVNUTEUsXG4gICAgW1FVRUVOXTogQklUUy5RU0lERV9DQVNUTEUsXG59O1xuY29uc3QgUk9PS1MgPSB7XG4gICAgdzogW1xuICAgICAgICB7IHNxdWFyZTogT3g4OC5hMSwgZmxhZzogQklUUy5RU0lERV9DQVNUTEUgfSxcbiAgICAgICAgeyBzcXVhcmU6IE94ODguaDEsIGZsYWc6IEJJVFMuS1NJREVfQ0FTVExFIH0sXG4gICAgXSxcbiAgICBiOiBbXG4gICAgICAgIHsgc3F1YXJlOiBPeDg4LmE4LCBmbGFnOiBCSVRTLlFTSURFX0NBU1RMRSB9LFxuICAgICAgICB7IHNxdWFyZTogT3g4OC5oOCwgZmxhZzogQklUUy5LU0lERV9DQVNUTEUgfSxcbiAgICBdLFxufTtcbmNvbnN0IFNFQ09ORF9SQU5LID0geyBiOiBSQU5LXzcsIHc6IFJBTktfMiB9O1xuY29uc3QgVEVSTUlOQVRJT05fTUFSS0VSUyA9IFsnMS0wJywgJzAtMScsICcxLzItMS8yJywgJyonXTtcbi8vIEV4dHJhY3RzIHRoZSB6ZXJvLWJhc2VkIHJhbmsgb2YgYW4gMHg4OCBzcXVhcmUuXG5mdW5jdGlvbiByYW5rKHNxdWFyZSkge1xuICAgIHJldHVybiBzcXVhcmUgPj4gNDtcbn1cbi8vIEV4dHJhY3RzIHRoZSB6ZXJvLWJhc2VkIGZpbGUgb2YgYW4gMHg4OCBzcXVhcmUuXG5mdW5jdGlvbiBmaWxlKHNxdWFyZSkge1xuICAgIHJldHVybiBzcXVhcmUgJiAweGY7XG59XG5mdW5jdGlvbiBpc0RpZ2l0KGMpIHtcbiAgICByZXR1cm4gJzAxMjM0NTY3ODknLmluZGV4T2YoYykgIT09IC0xO1xufVxuLy8gQ29udmVydHMgYSAweDg4IHNxdWFyZSB0byBhbGdlYnJhaWMgbm90YXRpb24uXG5mdW5jdGlvbiBhbGdlYnJhaWMoc3F1YXJlKSB7XG4gICAgY29uc3QgZiA9IGZpbGUoc3F1YXJlKTtcbiAgICBjb25zdCByID0gcmFuayhzcXVhcmUpO1xuICAgIHJldHVybiAoJ2FiY2RlZmdoJy5zdWJzdHJpbmcoZiwgZiArIDEpICtcbiAgICAgICAgJzg3NjU0MzIxJy5zdWJzdHJpbmcociwgciArIDEpKTtcbn1cbmZ1bmN0aW9uIHN3YXBDb2xvcihjb2xvcikge1xuICAgIHJldHVybiBjb2xvciA9PT0gV0hJVEUgPyBCTEFDSyA6IFdISVRFO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRmVuKGZlbikge1xuICAgIC8vIDFzdCBjcml0ZXJpb246IDYgc3BhY2Utc2VwZXJhdGVkIGZpZWxkcz9cbiAgICBjb25zdCB0b2tlbnMgPSBmZW4uc3BsaXQoL1xccysvKTtcbiAgICBpZiAodG9rZW5zLmxlbmd0aCAhPT0gNikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIEZFTjogbXVzdCBjb250YWluIHNpeCBzcGFjZS1kZWxpbWl0ZWQgZmllbGRzJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gMm5kIGNyaXRlcmlvbjogbW92ZSBudW1iZXIgZmllbGQgaXMgYSBpbnRlZ2VyIHZhbHVlID4gMD9cbiAgICBjb25zdCBtb3ZlTnVtYmVyID0gcGFyc2VJbnQodG9rZW5zWzVdLCAxMCk7XG4gICAgaWYgKGlzTmFOKG1vdmVOdW1iZXIpIHx8IG1vdmVOdW1iZXIgPD0gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIEZFTjogbW92ZSBudW1iZXIgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXInLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyAzcmQgY3JpdGVyaW9uOiBoYWxmIG1vdmUgY291bnRlciBpcyBhbiBpbnRlZ2VyID49IDA/XG4gICAgY29uc3QgaGFsZk1vdmVzID0gcGFyc2VJbnQodG9rZW5zWzRdLCAxMCk7XG4gICAgaWYgKGlzTmFOKGhhbGZNb3ZlcykgfHwgaGFsZk1vdmVzIDwgMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIEZFTjogaGFsZiBtb3ZlIGNvdW50ZXIgbnVtYmVyIG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlcicsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIDR0aCBjcml0ZXJpb246IDR0aCBmaWVsZCBpcyBhIHZhbGlkIGUucC4tc3RyaW5nP1xuICAgIGlmICghL14oLXxbYWJjZGVmZ2hdWzM2XSkkLy50ZXN0KHRva2Vuc1szXSkpIHtcbiAgICAgICAgcmV0dXJuIHsgb2s6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgRkVOOiBlbi1wYXNzYW50IHNxdWFyZSBpcyBpbnZhbGlkJyB9O1xuICAgIH1cbiAgICAvLyA1dGggY3JpdGVyaW9uOiAzdGggZmllbGQgaXMgYSB2YWxpZCBjYXN0bGUtc3RyaW5nP1xuICAgIGlmICgvW15rS3FRLV0vLnRlc3QodG9rZW5zWzJdKSkge1xuICAgICAgICByZXR1cm4geyBvazogZmFsc2UsIGVycm9yOiAnSW52YWxpZCBGRU46IGNhc3RsaW5nIGF2YWlsYWJpbGl0eSBpcyBpbnZhbGlkJyB9O1xuICAgIH1cbiAgICAvLyA2dGggY3JpdGVyaW9uOiAybmQgZmllbGQgaXMgXCJ3XCIgKHdoaXRlKSBvciBcImJcIiAoYmxhY2spP1xuICAgIGlmICghL14od3xiKSQvLnRlc3QodG9rZW5zWzFdKSkge1xuICAgICAgICByZXR1cm4geyBvazogZmFsc2UsIGVycm9yOiAnSW52YWxpZCBGRU46IHNpZGUtdG8tbW92ZSBpcyBpbnZhbGlkJyB9O1xuICAgIH1cbiAgICAvLyA3dGggY3JpdGVyaW9uOiAxc3QgZmllbGQgY29udGFpbnMgOCByb3dzP1xuICAgIGNvbnN0IHJvd3MgPSB0b2tlbnNbMF0uc3BsaXQoJy8nKTtcbiAgICBpZiAocm93cy5sZW5ndGggIT09IDgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBcIkludmFsaWQgRkVOOiBwaWVjZSBkYXRhIGRvZXMgbm90IGNvbnRhaW4gOCAnLyctZGVsaW1pdGVkIHJvd3NcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gOHRoIGNyaXRlcmlvbjogZXZlcnkgcm93IGlzIHZhbGlkP1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBjaGVjayBmb3IgcmlnaHQgc3VtIG9mIGZpZWxkcyBBTkQgbm90IHR3byBudW1iZXJzIGluIHN1Y2Nlc3Npb25cbiAgICAgICAgbGV0IHN1bUZpZWxkcyA9IDA7XG4gICAgICAgIGxldCBwcmV2aW91c1dhc051bWJlciA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJvd3NbaV0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIGlmIChpc0RpZ2l0KHJvd3NbaV1ba10pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzV2FzTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogJ0ludmFsaWQgRkVOOiBwaWVjZSBkYXRhIGlzIGludmFsaWQgKGNvbnNlY3V0aXZlIG51bWJlciknLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdW1GaWVsZHMgKz0gcGFyc2VJbnQocm93c1tpXVtrXSwgMTApO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzV2FzTnVtYmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghL15bcHJuYnFrUFJOQlFLXSQvLnRlc3Qocm93c1tpXVtrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBGRU46IHBpZWNlIGRhdGEgaXMgaW52YWxpZCAoaW52YWxpZCBwaWVjZSknLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdW1GaWVsZHMgKz0gMTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1dhc051bWJlciA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdW1GaWVsZHMgIT09IDgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBGRU46IHBpZWNlIGRhdGEgaXMgaW52YWxpZCAodG9vIG1hbnkgc3F1YXJlcyBpbiByYW5rKScsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIDl0aCBjcml0ZXJpb246IGlzIGVuLXBhc3NhbnQgc3F1YXJlIGxlZ2FsP1xuICAgIGlmICgodG9rZW5zWzNdWzFdID09ICczJyAmJiB0b2tlbnNbMV0gPT0gJ3cnKSB8fFxuICAgICAgICAodG9rZW5zWzNdWzFdID09ICc2JyAmJiB0b2tlbnNbMV0gPT0gJ2InKSkge1xuICAgICAgICByZXR1cm4geyBvazogZmFsc2UsIGVycm9yOiAnSW52YWxpZCBGRU46IGlsbGVnYWwgZW4tcGFzc2FudCBzcXVhcmUnIH07XG4gICAgfVxuICAgIC8vIDEwdGggY3JpdGVyaW9uOiBkb2VzIGNoZXNzIHBvc2l0aW9uIGNvbnRhaW4gZXhhY3QgdHdvIGtpbmdzP1xuICAgIGNvbnN0IGtpbmdzID0gW1xuICAgICAgICB7IGNvbG9yOiAnd2hpdGUnLCByZWdleDogL0svZyB9LFxuICAgICAgICB7IGNvbG9yOiAnYmxhY2snLCByZWdleDogL2svZyB9LFxuICAgIF07XG4gICAgZm9yIChjb25zdCB7IGNvbG9yLCByZWdleCB9IG9mIGtpbmdzKSB7XG4gICAgICAgIGlmICghcmVnZXgudGVzdCh0b2tlbnNbMF0pKSB7XG4gICAgICAgICAgICByZXR1cm4geyBvazogZmFsc2UsIGVycm9yOiBgSW52YWxpZCBGRU46IG1pc3NpbmcgJHtjb2xvcn0ga2luZ2AgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRva2Vuc1swXS5tYXRjaChyZWdleCkgfHwgW10pLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSwgZXJyb3I6IGBJbnZhbGlkIEZFTjogdG9vIG1hbnkgJHtjb2xvcn0ga2luZ3NgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gMTF0aCBjcml0ZXJpb246IGFyZSBhbnkgcGF3bnMgb24gdGhlIGZpcnN0IG9yIGVpZ2h0aCByb3dzP1xuICAgIGlmIChBcnJheS5mcm9tKHJvd3NbMF0gKyByb3dzWzddKS5zb21lKChjaGFyKSA9PiBjaGFyLnRvVXBwZXJDYXNlKCkgPT09ICdQJykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBGRU46IHNvbWUgcGF3bnMgYXJlIG9uIHRoZSBlZGdlIHJvd3MnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyBvazogdHJ1ZSB9O1xufVxuLy8gdGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGFtYmlndW91cyBtb3Zlc1xuZnVuY3Rpb24gZ2V0RGlzYW1iaWd1YXRvcihtb3ZlLCBtb3Zlcykge1xuICAgIGNvbnN0IGZyb20gPSBtb3ZlLmZyb207XG4gICAgY29uc3QgdG8gPSBtb3ZlLnRvO1xuICAgIGNvbnN0IHBpZWNlID0gbW92ZS5waWVjZTtcbiAgICBsZXQgYW1iaWd1aXRpZXMgPSAwO1xuICAgIGxldCBzYW1lUmFuayA9IDA7XG4gICAgbGV0IHNhbWVGaWxlID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbW92ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgYW1iaWdGcm9tID0gbW92ZXNbaV0uZnJvbTtcbiAgICAgICAgY29uc3QgYW1iaWdUbyA9IG1vdmVzW2ldLnRvO1xuICAgICAgICBjb25zdCBhbWJpZ1BpZWNlID0gbW92ZXNbaV0ucGllY2U7XG4gICAgICAgIC8qXG4gICAgICAgICAqIGlmIGEgbW92ZSBvZiB0aGUgc2FtZSBwaWVjZSB0eXBlIGVuZHMgb24gdGhlIHNhbWUgdG8gc3F1YXJlLCB3ZSdsbCBuZWVkXG4gICAgICAgICAqIHRvIGFkZCBhIGRpc2FtYmlndWF0b3IgdG8gdGhlIGFsZ2VicmFpYyBub3RhdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHBpZWNlID09PSBhbWJpZ1BpZWNlICYmIGZyb20gIT09IGFtYmlnRnJvbSAmJiB0byA9PT0gYW1iaWdUbykge1xuICAgICAgICAgICAgYW1iaWd1aXRpZXMrKztcbiAgICAgICAgICAgIGlmIChyYW5rKGZyb20pID09PSByYW5rKGFtYmlnRnJvbSkpIHtcbiAgICAgICAgICAgICAgICBzYW1lUmFuaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpbGUoZnJvbSkgPT09IGZpbGUoYW1iaWdGcm9tKSkge1xuICAgICAgICAgICAgICAgIHNhbWVGaWxlKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFtYmlndWl0aWVzID4gMCkge1xuICAgICAgICBpZiAoc2FtZVJhbmsgPiAwICYmIHNhbWVGaWxlID4gMCkge1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIGlmIHRoZXJlIGV4aXN0cyBhIHNpbWlsYXIgbW92aW5nIHBpZWNlIG9uIHRoZSBzYW1lIHJhbmsgYW5kIGZpbGUgYXNcbiAgICAgICAgICAgICAqIHRoZSBtb3ZlIGluIHF1ZXN0aW9uLCB1c2UgdGhlIHNxdWFyZSBhcyB0aGUgZGlzYW1iaWd1YXRvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXR1cm4gYWxnZWJyYWljKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNhbWVGaWxlID4gMCkge1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIGlmIHRoZSBtb3ZpbmcgcGllY2UgcmVzdHMgb24gdGhlIHNhbWUgZmlsZSwgdXNlIHRoZSByYW5rIHN5bWJvbCBhcyB0aGVcbiAgICAgICAgICAgICAqIGRpc2FtYmlndWF0b3JcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmV0dXJuIGFsZ2VicmFpYyhmcm9tKS5jaGFyQXQoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlbHNlIHVzZSB0aGUgZmlsZSBzeW1ib2xcbiAgICAgICAgICAgIHJldHVybiBhbGdlYnJhaWMoZnJvbSkuY2hhckF0KDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cbmZ1bmN0aW9uIGFkZE1vdmUobW92ZXMsIGNvbG9yLCBmcm9tLCB0bywgcGllY2UsIGNhcHR1cmVkID0gdW5kZWZpbmVkLCBmbGFncyA9IEJJVFMuTk9STUFMKSB7XG4gICAgY29uc3QgciA9IHJhbmsodG8pO1xuICAgIGlmIChwaWVjZSA9PT0gUEFXTiAmJiAociA9PT0gUkFOS18xIHx8IHIgPT09IFJBTktfOCkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQUk9NT1RJT05TLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9tb3Rpb24gPSBQUk9NT1RJT05TW2ldO1xuICAgICAgICAgICAgbW92ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICBwaWVjZSxcbiAgICAgICAgICAgICAgICBjYXB0dXJlZCxcbiAgICAgICAgICAgICAgICBwcm9tb3Rpb24sXG4gICAgICAgICAgICAgICAgZmxhZ3M6IGZsYWdzIHwgQklUUy5QUk9NT1RJT04sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbW92ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICB0byxcbiAgICAgICAgICAgIHBpZWNlLFxuICAgICAgICAgICAgY2FwdHVyZWQsXG4gICAgICAgICAgICBmbGFncyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5mZXJQaWVjZVR5cGUoc2FuKSB7XG4gICAgbGV0IHBpZWNlVHlwZSA9IHNhbi5jaGFyQXQoMCk7XG4gICAgaWYgKHBpZWNlVHlwZSA+PSAnYScgJiYgcGllY2VUeXBlIDw9ICdoJykge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gc2FuLm1hdGNoKC9bYS1oXVxcZC4qW2EtaF1cXGQvKTtcbiAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBBV047XG4gICAgfVxuICAgIHBpZWNlVHlwZSA9IHBpZWNlVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChwaWVjZVR5cGUgPT09ICdvJykge1xuICAgICAgICByZXR1cm4gS0lORztcbiAgICB9XG4gICAgcmV0dXJuIHBpZWNlVHlwZTtcbn1cbi8vIHBhcnNlcyBhbGwgb2YgdGhlIGRlY29yYXRvcnMgb3V0IG9mIGEgU0FOIHN0cmluZ1xuZnVuY3Rpb24gc3RyaXBwZWRTYW4obW92ZSkge1xuICAgIHJldHVybiBtb3ZlLnJlcGxhY2UoLz0vLCAnJykucmVwbGFjZSgvWysjXT9bPyFdKiQvLCAnJyk7XG59XG5mdW5jdGlvbiB0cmltRmVuKGZlbikge1xuICAgIC8qXG4gICAgICogcmVtb3ZlIGxhc3QgdHdvIGZpZWxkcyBpbiBGRU4gc3RyaW5nIGFzIHRoZXkncmUgbm90IG5lZWRlZCB3aGVuIGNoZWNraW5nXG4gICAgICogZm9yIHJlcGV0aXRpb25cbiAgICAgKi9cbiAgICByZXR1cm4gZmVuLnNwbGl0KCcgJykuc2xpY2UoMCwgNCkuam9pbignICcpO1xufVxuZXhwb3J0IGNsYXNzIENoZXNzIHtcbiAgICBfYm9hcmQgPSBuZXcgQXJyYXkoMTI4KTtcbiAgICBfdHVybiA9IFdISVRFO1xuICAgIF9oZWFkZXIgPSB7fTtcbiAgICBfa2luZ3MgPSB7IHc6IEVNUFRZLCBiOiBFTVBUWSB9O1xuICAgIF9lcFNxdWFyZSA9IC0xO1xuICAgIF9oYWxmTW92ZXMgPSAwO1xuICAgIF9tb3ZlTnVtYmVyID0gMDtcbiAgICBfaGlzdG9yeSA9IFtdO1xuICAgIF9jb21tZW50cyA9IHt9O1xuICAgIF9jYXN0bGluZyA9IHsgdzogMCwgYjogMCB9O1xuICAgIF9wb3NpdGlvbkNvdW50cyA9IHt9O1xuICAgIGNvbnN0cnVjdG9yKGZlbiA9IERFRkFVTFRfUE9TSVRJT04pIHtcbiAgICAgICAgdGhpcy5sb2FkKGZlbik7XG4gICAgfVxuICAgIGNsZWFyKHsgcHJlc2VydmVIZWFkZXJzID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2JvYXJkID0gbmV3IEFycmF5KDEyOCk7XG4gICAgICAgIHRoaXMuX2tpbmdzID0geyB3OiBFTVBUWSwgYjogRU1QVFkgfTtcbiAgICAgICAgdGhpcy5fdHVybiA9IFdISVRFO1xuICAgICAgICB0aGlzLl9jYXN0bGluZyA9IHsgdzogMCwgYjogMCB9O1xuICAgICAgICB0aGlzLl9lcFNxdWFyZSA9IEVNUFRZO1xuICAgICAgICB0aGlzLl9oYWxmTW92ZXMgPSAwO1xuICAgICAgICB0aGlzLl9tb3ZlTnVtYmVyID0gMTtcbiAgICAgICAgdGhpcy5faGlzdG9yeSA9IFtdO1xuICAgICAgICB0aGlzLl9jb21tZW50cyA9IHt9O1xuICAgICAgICB0aGlzLl9oZWFkZXIgPSBwcmVzZXJ2ZUhlYWRlcnMgPyB0aGlzLl9oZWFkZXIgOiB7fTtcbiAgICAgICAgLypcbiAgICAgICAgICogRGVsZXRlIHRoZSBTZXRVcCBhbmQgRkVOIGhlYWRlcnMgKGlmIHByZXNlcnZlZCksIHRoZSBib2FyZCBpcyBlbXB0eSBhbmRcbiAgICAgICAgICogdGhlc2UgaGVhZGVycyBkb24ndCBtYWtlIHNlbnNlIGluIHRoaXMgc3RhdGUuIFRoZXknbGwgZ2V0IGFkZGVkIGxhdGVyXG4gICAgICAgICAqIHZpYSAubG9hZCgpIG9yIC5wdXQoKVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlIHRoaXMuX2hlYWRlclsnU2V0VXAnXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2hlYWRlclsnRkVOJ107XG4gICAgICAgIC8qXG4gICAgICAgICAqIEluc3RhbnRpYXRlIGEgcHJveHkgdGhhdCBrZWVwcyB0cmFjayBvZiBwb3NpdGlvbiBvY2N1cnJlbmNlIGNvdW50cyBmb3IgdGhlIHB1cnBvc2VcbiAgICAgICAgICogb2YgcmVwZXRpdGlvbiBjaGVja2luZy4gVGhlIGdldHRlciBhbmQgc2V0dGVyIG1ldGhvZHMgYXV0b21hdGljYWxseSBoYW5kbGUgdHJpbW1pbmdcbiAgICAgICAgICogaXJyZWxldmVudCBpbmZvcm1hdGlvbiBmcm9tIHRoZSBmZW4sIGluaXRpYWxpc2luZyBuZXcgcG9zaXRpb25zLCBhbmQgcmVtb3Zpbmcgb2xkXG4gICAgICAgICAqIHBvc2l0aW9ucyBmcm9tIHRoZSByZWNvcmQgaWYgdGhlaXIgY291bnRzIGFyZSByZWR1Y2VkIHRvIDAuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wb3NpdGlvbkNvdW50cyA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICAgICAgZ2V0OiAodGFyZ2V0LCBwb3NpdGlvbikgPT4gcG9zaXRpb24gPT09ICdsZW5ndGgnXG4gICAgICAgICAgICAgICAgPyBPYmplY3Qua2V5cyh0YXJnZXQpLmxlbmd0aCAvLyBsZW5ndGggZm9yIHVuaXQgdGVzdGluZ1xuICAgICAgICAgICAgICAgIDogdGFyZ2V0Py5bdHJpbUZlbihwb3NpdGlvbildIHx8IDAsXG4gICAgICAgICAgICBzZXQ6ICh0YXJnZXQsIHBvc2l0aW9uLCBjb3VudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyaW1tZWRGZW4gPSB0cmltRmVuKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRbdHJpbW1lZEZlbl07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRbdHJpbW1lZEZlbl0gPSBjb3VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVIZWFkZXIoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5faGVhZGVyKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faGVhZGVyW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbG9hZChmZW4sIHsgc2tpcFZhbGlkYXRpb24gPSBmYWxzZSwgcHJlc2VydmVIZWFkZXJzID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGxldCB0b2tlbnMgPSBmZW4uc3BsaXQoL1xccysvKTtcbiAgICAgICAgLy8gYXBwZW5kIGNvbW1vbmx5IG9taXR0ZWQgZmVuIHRva2Vuc1xuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA+PSAyICYmIHRva2Vucy5sZW5ndGggPCA2KSB7XG4gICAgICAgICAgICBjb25zdCBhZGp1c3RtZW50cyA9IFsnLScsICctJywgJzAnLCAnMSddO1xuICAgICAgICAgICAgZmVuID0gdG9rZW5zLmNvbmNhdChhZGp1c3RtZW50cy5zbGljZSgtKDYgLSB0b2tlbnMubGVuZ3RoKSkpLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICB0b2tlbnMgPSBmZW4uc3BsaXQoL1xccysvKTtcbiAgICAgICAgaWYgKCFza2lwVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgY29uc3QgeyBvaywgZXJyb3IgfSA9IHZhbGlkYXRlRmVuKGZlbik7XG4gICAgICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRva2Vuc1swXTtcbiAgICAgICAgbGV0IHNxdWFyZSA9IDA7XG4gICAgICAgIHRoaXMuY2xlYXIoeyBwcmVzZXJ2ZUhlYWRlcnMgfSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9zaXRpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBpZWNlID0gcG9zaXRpb24uY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKHBpZWNlID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICBzcXVhcmUgKz0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRGlnaXQocGllY2UpKSB7XG4gICAgICAgICAgICAgICAgc3F1YXJlICs9IHBhcnNlSW50KHBpZWNlLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IHBpZWNlIDwgJ2EnID8gV0hJVEUgOiBCTEFDSztcbiAgICAgICAgICAgICAgICB0aGlzLl9wdXQoeyB0eXBlOiBwaWVjZS50b0xvd2VyQ2FzZSgpLCBjb2xvciB9LCBhbGdlYnJhaWMoc3F1YXJlKSk7XG4gICAgICAgICAgICAgICAgc3F1YXJlKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHVybiA9IHRva2Vuc1sxXTtcbiAgICAgICAgaWYgKHRva2Vuc1syXS5pbmRleE9mKCdLJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmcudyB8PSBCSVRTLktTSURFX0NBU1RMRTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW5zWzJdLmluZGV4T2YoJ1EnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXN0bGluZy53IHw9IEJJVFMuUVNJREVfQ0FTVExFO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbnNbMl0uaW5kZXhPZignaycpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nhc3RsaW5nLmIgfD0gQklUUy5LU0lERV9DQVNUTEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2Vuc1syXS5pbmRleE9mKCdxJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmcuYiB8PSBCSVRTLlFTSURFX0NBU1RMRTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lcFNxdWFyZSA9IHRva2Vuc1szXSA9PT0gJy0nID8gRU1QVFkgOiBPeDg4W3Rva2Vuc1szXV07XG4gICAgICAgIHRoaXMuX2hhbGZNb3ZlcyA9IHBhcnNlSW50KHRva2Vuc1s0XSwgMTApO1xuICAgICAgICB0aGlzLl9tb3ZlTnVtYmVyID0gcGFyc2VJbnQodG9rZW5zWzVdLCAxMCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNldHVwKGZlbik7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uQ291bnRzW2Zlbl0rKztcbiAgICB9XG4gICAgZmVuKCkge1xuICAgICAgICBsZXQgZW1wdHkgPSAwO1xuICAgICAgICBsZXQgZmVuID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSBPeDg4LmE4OyBpIDw9IE94ODguaDE7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JvYXJkW2ldKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVtcHR5ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmZW4gKz0gZW1wdHk7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb2xvciwgdHlwZTogcGllY2UgfSA9IHRoaXMuX2JvYXJkW2ldO1xuICAgICAgICAgICAgICAgIGZlbiArPSBjb2xvciA9PT0gV0hJVEUgPyBwaWVjZS50b1VwcGVyQ2FzZSgpIDogcGllY2UudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVtcHR5Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGkgKyAxKSAmIDB4ODgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1wdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlbiArPSBlbXB0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IE94ODguaDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZmVuICs9ICcvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZW1wdHkgPSAwO1xuICAgICAgICAgICAgICAgIGkgKz0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgY2FzdGxpbmcgPSAnJztcbiAgICAgICAgaWYgKHRoaXMuX2Nhc3RsaW5nW1dISVRFXSAmIEJJVFMuS1NJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICBjYXN0bGluZyArPSAnSyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2Nhc3RsaW5nW1dISVRFXSAmIEJJVFMuUVNJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICBjYXN0bGluZyArPSAnUSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2Nhc3RsaW5nW0JMQUNLXSAmIEJJVFMuS1NJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICBjYXN0bGluZyArPSAnayc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2Nhc3RsaW5nW0JMQUNLXSAmIEJJVFMuUVNJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICBjYXN0bGluZyArPSAncSc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG8gd2UgaGF2ZSBhbiBlbXB0eSBjYXN0bGluZyBmbGFnP1xuICAgICAgICBjYXN0bGluZyA9IGNhc3RsaW5nIHx8ICctJztcbiAgICAgICAgbGV0IGVwU3F1YXJlID0gJy0nO1xuICAgICAgICAvKlxuICAgICAgICAgKiBvbmx5IHByaW50IHRoZSBlcCBzcXVhcmUgaWYgZW4gcGFzc2FudCBpcyBhIHZhbGlkIG1vdmUgKHBhd24gaXMgcHJlc2VudFxuICAgICAgICAgKiBhbmQgZXAgY2FwdHVyZSBpcyBub3QgcGlubmVkKVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuX2VwU3F1YXJlICE9PSBFTVBUWSkge1xuICAgICAgICAgICAgY29uc3QgYmlnUGF3blNxdWFyZSA9IHRoaXMuX2VwU3F1YXJlICsgKHRoaXMuX3R1cm4gPT09IFdISVRFID8gMTYgOiAtMTYpO1xuICAgICAgICAgICAgY29uc3Qgc3F1YXJlcyA9IFtiaWdQYXduU3F1YXJlICsgMSwgYmlnUGF3blNxdWFyZSAtIDFdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzcXVhcmUgb2Ygc3F1YXJlcykge1xuICAgICAgICAgICAgICAgIC8vIGlzIHRoZSBzcXVhcmUgb2ZmIHRoZSBib2FyZD9cbiAgICAgICAgICAgICAgICBpZiAoc3F1YXJlICYgMHg4OCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLl90dXJuO1xuICAgICAgICAgICAgICAgIC8vIGlzIHRoZXJlIGEgcGF3biB0aGF0IGNhbiBjYXB0dXJlIHRoZSBlcFNxdWFyZT9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYm9hcmRbc3F1YXJlXT8uY29sb3IgPT09IGNvbG9yICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JvYXJkW3NxdWFyZV0/LnR5cGUgPT09IFBBV04pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHBhd24gbWFrZXMgYW4gZXAgY2FwdHVyZSwgZG9lcyBpdCBsZWF2ZSBpdCdzIGtpbmcgaW4gY2hlY2s/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21ha2VNb3ZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogc3F1YXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IHRoaXMuX2VwU3F1YXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGllY2U6IFBBV04sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXB0dXJlZDogUEFXTixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzOiBCSVRTLkVQX0NBUFRVUkUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0xlZ2FsID0gIXRoaXMuX2lzS2luZ0F0dGFja2VkKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdW5kb01vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXAgaXMgbGVnYWwsIGJyZWFrIGFuZCBzZXQgdGhlIGVwIHNxdWFyZSBpbiB0aGUgRkVOIG91dHB1dFxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNMZWdhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXBTcXVhcmUgPSBhbGdlYnJhaWModGhpcy5fZXBTcXVhcmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGZlbixcbiAgICAgICAgICAgIHRoaXMuX3R1cm4sXG4gICAgICAgICAgICBjYXN0bGluZyxcbiAgICAgICAgICAgIGVwU3F1YXJlLFxuICAgICAgICAgICAgdGhpcy5faGFsZk1vdmVzLFxuICAgICAgICAgICAgdGhpcy5fbW92ZU51bWJlcixcbiAgICAgICAgXS5qb2luKCcgJyk7XG4gICAgfVxuICAgIC8qXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGluaXRpYWwgYm9hcmQgc2V0dXAgaXMgY2hhbmdlZCB3aXRoIHB1dCgpIG9yIHJlbW92ZSgpLlxuICAgICAqIG1vZGlmaWVzIHRoZSBTZXRVcCBhbmQgRkVOIHByb3BlcnRpZXMgb2YgdGhlIGhlYWRlciBvYmplY3QuIElmIHRoZSBGRU5cbiAgICAgKiBpcyBlcXVhbCB0byB0aGUgZGVmYXVsdCBwb3NpdGlvbiwgdGhlIFNldFVwIGFuZCBGRU4gYXJlIGRlbGV0ZWQgdGhlIHNldHVwXG4gICAgICogaXMgb25seSB1cGRhdGVkIGlmIGhpc3RvcnkubGVuZ3RoIGlzIHplcm8sIGllIG1vdmVzIGhhdmVuJ3QgYmVlbiBtYWRlLlxuICAgICAqL1xuICAgIF91cGRhdGVTZXR1cChmZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX2hpc3RvcnkubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGZlbiAhPT0gREVGQVVMVF9QT1NJVElPTikge1xuICAgICAgICAgICAgdGhpcy5faGVhZGVyWydTZXRVcCddID0gJzEnO1xuICAgICAgICAgICAgdGhpcy5faGVhZGVyWydGRU4nXSA9IGZlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9oZWFkZXJbJ1NldFVwJ107XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faGVhZGVyWydGRU4nXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5sb2FkKERFRkFVTFRfUE9TSVRJT04pO1xuICAgIH1cbiAgICBnZXQoc3F1YXJlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib2FyZFtPeDg4W3NxdWFyZV1dIHx8IGZhbHNlO1xuICAgIH1cbiAgICBwdXQoeyB0eXBlLCBjb2xvciB9LCBzcXVhcmUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3B1dCh7IHR5cGUsIGNvbG9yIH0sIHNxdWFyZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNhc3RsaW5nUmlnaHRzKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVFblBhc3NhbnRTcXVhcmUoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNldHVwKHRoaXMuZmVuKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfcHV0KHsgdHlwZSwgY29sb3IgfSwgc3F1YXJlKSB7XG4gICAgICAgIC8vIGNoZWNrIGZvciBwaWVjZVxuICAgICAgICBpZiAoU1lNQk9MUy5pbmRleE9mKHR5cGUudG9Mb3dlckNhc2UoKSkgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgZm9yIHZhbGlkIHNxdWFyZVxuICAgICAgICBpZiAoIShzcXVhcmUgaW4gT3g4OCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcSA9IE94ODhbc3F1YXJlXTtcbiAgICAgICAgLy8gZG9uJ3QgbGV0IHRoZSB1c2VyIHBsYWNlIG1vcmUgdGhhbiBvbmUga2luZ1xuICAgICAgICBpZiAodHlwZSA9PSBLSU5HICYmXG4gICAgICAgICAgICAhKHRoaXMuX2tpbmdzW2NvbG9yXSA9PSBFTVBUWSB8fCB0aGlzLl9raW5nc1tjb2xvcl0gPT0gc3EpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFBpZWNlT25TcXVhcmUgPSB0aGlzLl9ib2FyZFtzcV07XG4gICAgICAgIC8vIGlmIG9uZSBvZiB0aGUga2luZ3Mgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgcGllY2UgZnJvbSBhcmdzLCBzZXQgdGhlIGBfa2luZ3NgIHJlc3BlY3RpdmUgZW50cnkgdG8gYEVNUFRZYFxuICAgICAgICBpZiAoY3VycmVudFBpZWNlT25TcXVhcmUgJiYgY3VycmVudFBpZWNlT25TcXVhcmUudHlwZSA9PT0gS0lORykge1xuICAgICAgICAgICAgdGhpcy5fa2luZ3NbY3VycmVudFBpZWNlT25TcXVhcmUuY29sb3JdID0gRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm9hcmRbc3FdID0geyB0eXBlOiB0eXBlLCBjb2xvcjogY29sb3IgfTtcbiAgICAgICAgaWYgKHR5cGUgPT09IEtJTkcpIHtcbiAgICAgICAgICAgIHRoaXMuX2tpbmdzW2NvbG9yXSA9IHNxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZW1vdmUoc3F1YXJlKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gdGhpcy5nZXQoc3F1YXJlKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2JvYXJkW094ODhbc3F1YXJlXV07XG4gICAgICAgIGlmIChwaWVjZSAmJiBwaWVjZS50eXBlID09PSBLSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl9raW5nc1twaWVjZS5jb2xvcl0gPSBFTVBUWTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVDYXN0bGluZ1JpZ2h0cygpO1xuICAgICAgICB0aGlzLl91cGRhdGVFblBhc3NhbnRTcXVhcmUoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2V0dXAodGhpcy5mZW4oKSk7XG4gICAgICAgIHJldHVybiBwaWVjZTtcbiAgICB9XG4gICAgX3VwZGF0ZUNhc3RsaW5nUmlnaHRzKCkge1xuICAgICAgICBjb25zdCB3aGl0ZUtpbmdJblBsYWNlID0gdGhpcy5fYm9hcmRbT3g4OC5lMV0/LnR5cGUgPT09IEtJTkcgJiZcbiAgICAgICAgICAgIHRoaXMuX2JvYXJkW094ODguZTFdPy5jb2xvciA9PT0gV0hJVEU7XG4gICAgICAgIGNvbnN0IGJsYWNrS2luZ0luUGxhY2UgPSB0aGlzLl9ib2FyZFtPeDg4LmU4XT8udHlwZSA9PT0gS0lORyAmJlxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbT3g4OC5lOF0/LmNvbG9yID09PSBCTEFDSztcbiAgICAgICAgaWYgKCF3aGl0ZUtpbmdJblBsYWNlIHx8XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtPeDg4LmExXT8udHlwZSAhPT0gUk9PSyB8fFxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbT3g4OC5hMV0/LmNvbG9yICE9PSBXSElURSkge1xuICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmcudyAmPSB+QklUUy5RU0lERV9DQVNUTEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF3aGl0ZUtpbmdJblBsYWNlIHx8XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtPeDg4LmgxXT8udHlwZSAhPT0gUk9PSyB8fFxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbT3g4OC5oMV0/LmNvbG9yICE9PSBXSElURSkge1xuICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmcudyAmPSB+QklUUy5LU0lERV9DQVNUTEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFibGFja0tpbmdJblBsYWNlIHx8XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtPeDg4LmE4XT8udHlwZSAhPT0gUk9PSyB8fFxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbT3g4OC5hOF0/LmNvbG9yICE9PSBCTEFDSykge1xuICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmcuYiAmPSB+QklUUy5RU0lERV9DQVNUTEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFibGFja0tpbmdJblBsYWNlIHx8XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtPeDg4Lmg4XT8udHlwZSAhPT0gUk9PSyB8fFxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbT3g4OC5oOF0/LmNvbG9yICE9PSBCTEFDSykge1xuICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmcuYiAmPSB+QklUUy5LU0lERV9DQVNUTEU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3VwZGF0ZUVuUGFzc2FudFNxdWFyZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VwU3F1YXJlID09PSBFTVBUWSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXJ0U3F1YXJlID0gdGhpcy5fZXBTcXVhcmUgKyAodGhpcy5fdHVybiA9PT0gV0hJVEUgPyAtMTYgOiAxNik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTcXVhcmUgPSB0aGlzLl9lcFNxdWFyZSArICh0aGlzLl90dXJuID09PSBXSElURSA/IDE2IDogLTE2KTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJzID0gW2N1cnJlbnRTcXVhcmUgKyAxLCBjdXJyZW50U3F1YXJlIC0gMV07XG4gICAgICAgIGlmICh0aGlzLl9ib2FyZFtzdGFydFNxdWFyZV0gIT09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMuX2JvYXJkW3RoaXMuX2VwU3F1YXJlXSAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbY3VycmVudFNxdWFyZV0/LmNvbG9yICE9PSBzd2FwQ29sb3IodGhpcy5fdHVybikgfHxcbiAgICAgICAgICAgIHRoaXMuX2JvYXJkW2N1cnJlbnRTcXVhcmVdPy50eXBlICE9PSBQQVdOKSB7XG4gICAgICAgICAgICB0aGlzLl9lcFNxdWFyZSA9IEVNUFRZO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbkNhcHR1cmUgPSAoc3F1YXJlKSA9PiAhKHNxdWFyZSAmIDB4ODgpICYmXG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtzcXVhcmVdPy5jb2xvciA9PT0gdGhpcy5fdHVybiAmJlxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbc3F1YXJlXT8udHlwZSA9PT0gUEFXTjtcbiAgICAgICAgaWYgKCFhdHRhY2tlcnMuc29tZShjYW5DYXB0dXJlKSkge1xuICAgICAgICAgICAgdGhpcy5fZXBTcXVhcmUgPSBFTVBUWTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYXR0YWNrZWQoY29sb3IsIHNxdWFyZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gT3g4OC5hODsgaSA8PSBPeDg4LmgxOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGRpZCB3ZSBydW4gb2ZmIHRoZSBlbmQgb2YgdGhlIGJvYXJkXG4gICAgICAgICAgICBpZiAoaSAmIDB4ODgpIHtcbiAgICAgICAgICAgICAgICBpICs9IDc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBlbXB0eSBzcXVhcmUgb3Igd3JvbmcgY29sb3JcbiAgICAgICAgICAgIGlmICh0aGlzLl9ib2FyZFtpXSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2JvYXJkW2ldLmNvbG9yICE9PSBjb2xvcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGllY2UgPSB0aGlzLl9ib2FyZFtpXTtcbiAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBpIC0gc3F1YXJlO1xuICAgICAgICAgICAgLy8gc2tpcCAtIHRvL2Zyb20gc3F1YXJlIGFyZSB0aGUgc2FtZVxuICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2UgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZGlmZmVyZW5jZSArIDExOTtcbiAgICAgICAgICAgIGlmIChBVFRBQ0tTW2luZGV4XSAmIFBJRUNFX01BU0tTW3BpZWNlLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlLnR5cGUgPT09IFBBV04pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT09IFdISVRFKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlLmNvbG9yID09PSBCTEFDSylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHBpZWNlIGlzIGEga25pZ2h0IG9yIGEga2luZ1xuICAgICAgICAgICAgICAgIGlmIChwaWVjZS50eXBlID09PSAnbicgfHwgcGllY2UudHlwZSA9PT0gJ2snKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBSQVlTW2luZGV4XTtcbiAgICAgICAgICAgICAgICBsZXQgaiA9IGkgKyBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaiAhPT0gc3F1YXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ib2FyZFtqXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGogKz0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWJsb2NrZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX2lzS2luZ0F0dGFja2VkKGNvbG9yKSB7XG4gICAgICAgIGNvbnN0IHNxdWFyZSA9IHRoaXMuX2tpbmdzW2NvbG9yXTtcbiAgICAgICAgcmV0dXJuIHNxdWFyZSA9PT0gLTEgPyBmYWxzZSA6IHRoaXMuX2F0dGFja2VkKHN3YXBDb2xvcihjb2xvciksIHNxdWFyZSk7XG4gICAgfVxuICAgIGlzQXR0YWNrZWQoc3F1YXJlLCBhdHRhY2tlZEJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2tlZChhdHRhY2tlZEJ5LCBPeDg4W3NxdWFyZV0pO1xuICAgIH1cbiAgICBpc0NoZWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNLaW5nQXR0YWNrZWQodGhpcy5fdHVybik7XG4gICAgfVxuICAgIGluQ2hlY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQ2hlY2soKTtcbiAgICB9XG4gICAgaXNDaGVja21hdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQ2hlY2soKSAmJiB0aGlzLl9tb3ZlcygpLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgaXNTdGFsZW1hdGUoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5pc0NoZWNrKCkgJiYgdGhpcy5fbW92ZXMoKS5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGlzSW5zdWZmaWNpZW50TWF0ZXJpYWwoKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIGsuYi4gdnMgay5iLiAob2Ygb3Bwb3NpdGUgY29sb3JzKSB3aXRoIG1hdGUgaW4gMTpcbiAgICAgICAgICogOC84LzgvOC8xYjYvOC9CMWs1L0s3IGIgLSAtIDAgMVxuICAgICAgICAgKlxuICAgICAgICAgKiBrLmIuIHZzIGsubi4gd2l0aCBtYXRlIGluIDE6XG4gICAgICAgICAqIDgvOC84LzgvMW42LzgvQjcvSzFrNSBiIC0gLSAyIDFcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHBpZWNlcyA9IHtcbiAgICAgICAgICAgIGI6IDAsXG4gICAgICAgICAgICBuOiAwLFxuICAgICAgICAgICAgcjogMCxcbiAgICAgICAgICAgIHE6IDAsXG4gICAgICAgICAgICBrOiAwLFxuICAgICAgICAgICAgcDogMCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYmlzaG9wcyA9IFtdO1xuICAgICAgICBsZXQgbnVtUGllY2VzID0gMDtcbiAgICAgICAgbGV0IHNxdWFyZUNvbG9yID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IE94ODguYTg7IGkgPD0gT3g4OC5oMTsgaSsrKSB7XG4gICAgICAgICAgICBzcXVhcmVDb2xvciA9IChzcXVhcmVDb2xvciArIDEpICUgMjtcbiAgICAgICAgICAgIGlmIChpICYgMHg4OCkge1xuICAgICAgICAgICAgICAgIGkgKz0gNztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBpZWNlID0gdGhpcy5fYm9hcmRbaV07XG4gICAgICAgICAgICBpZiAocGllY2UpIHtcbiAgICAgICAgICAgICAgICBwaWVjZXNbcGllY2UudHlwZV0gPSBwaWVjZS50eXBlIGluIHBpZWNlcyA/IHBpZWNlc1twaWVjZS50eXBlXSArIDEgOiAxO1xuICAgICAgICAgICAgICAgIGlmIChwaWVjZS50eXBlID09PSBCSVNIT1ApIHtcbiAgICAgICAgICAgICAgICAgICAgYmlzaG9wcy5wdXNoKHNxdWFyZUNvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbnVtUGllY2VzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gayB2cy4ga1xuICAgICAgICBpZiAobnVtUGllY2VzID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgLy8gayB2cy4ga24gLi4uLiBvciAuLi4uIGsgdnMuIGtiXG4gICAgICAgIG51bVBpZWNlcyA9PT0gMyAmJlxuICAgICAgICAgICAgKHBpZWNlc1tCSVNIT1BdID09PSAxIHx8IHBpZWNlc1tLTklHSFRdID09PSAxKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobnVtUGllY2VzID09PSBwaWVjZXNbQklTSE9QXSArIDIpIHtcbiAgICAgICAgICAgIC8vIGtiIHZzLiBrYiB3aGVyZSBhbnkgbnVtYmVyIG9mIGJpc2hvcHMgYXJlIGFsbCBvbiB0aGUgc2FtZSBjb2xvclxuICAgICAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBiaXNob3BzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gYmlzaG9wc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdW0gPT09IDAgfHwgc3VtID09PSBsZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF9nZXRSZXBldGl0aW9uQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbkNvdW50c1t0aGlzLmZlbigpXTtcbiAgICB9XG4gICAgaXNUaHJlZWZvbGRSZXBldGl0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVwZXRpdGlvbkNvdW50KCkgPj0gMztcbiAgICB9XG4gICAgaXNEcmF3KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2hhbGZNb3ZlcyA+PSAxMDAgfHwgLy8gNTAgbW92ZXMgcGVyIHNpZGUgPSAxMDAgaGFsZiBtb3Zlc1xuICAgICAgICAgICAgdGhpcy5pc1N0YWxlbWF0ZSgpIHx8XG4gICAgICAgICAgICB0aGlzLmlzSW5zdWZmaWNpZW50TWF0ZXJpYWwoKSB8fFxuICAgICAgICAgICAgdGhpcy5pc1RocmVlZm9sZFJlcGV0aXRpb24oKSk7XG4gICAgfVxuICAgIGlzR2FtZU92ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQ2hlY2ttYXRlKCkgfHwgdGhpcy5pc1N0YWxlbWF0ZSgpIHx8IHRoaXMuaXNEcmF3KCk7XG4gICAgfVxuICAgIG1vdmVzKHsgdmVyYm9zZSA9IGZhbHNlLCBzcXVhcmUgPSB1bmRlZmluZWQsIHBpZWNlID0gdW5kZWZpbmVkLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgbW92ZXMgPSB0aGlzLl9tb3Zlcyh7IHNxdWFyZSwgcGllY2UgfSk7XG4gICAgICAgIGlmICh2ZXJib3NlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW92ZXMubWFwKChtb3ZlKSA9PiB0aGlzLl9tYWtlUHJldHR5KG1vdmUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtb3Zlcy5tYXAoKG1vdmUpID0+IHRoaXMuX21vdmVUb1Nhbihtb3ZlLCBtb3ZlcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9tb3Zlcyh7IGxlZ2FsID0gdHJ1ZSwgcGllY2UgPSB1bmRlZmluZWQsIHNxdWFyZSA9IHVuZGVmaW5lZCwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGZvclNxdWFyZSA9IHNxdWFyZSA/IHNxdWFyZS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBmb3JQaWVjZSA9IHBpZWNlPy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBtb3ZlcyA9IFtdO1xuICAgICAgICBjb25zdCB1cyA9IHRoaXMuX3R1cm47XG4gICAgICAgIGNvbnN0IHRoZW0gPSBzd2FwQ29sb3IodXMpO1xuICAgICAgICBsZXQgZmlyc3RTcXVhcmUgPSBPeDg4LmE4O1xuICAgICAgICBsZXQgbGFzdFNxdWFyZSA9IE94ODguaDE7XG4gICAgICAgIGxldCBzaW5nbGVTcXVhcmUgPSBmYWxzZTtcbiAgICAgICAgLy8gYXJlIHdlIGdlbmVyYXRpbmcgbW92ZXMgZm9yIGEgc2luZ2xlIHNxdWFyZT9cbiAgICAgICAgaWYgKGZvclNxdWFyZSkge1xuICAgICAgICAgICAgLy8gaWxsZWdhbCBzcXVhcmUsIHJldHVybiBlbXB0eSBtb3Zlc1xuICAgICAgICAgICAgaWYgKCEoZm9yU3F1YXJlIGluIE94ODgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmlyc3RTcXVhcmUgPSBsYXN0U3F1YXJlID0gT3g4OFtmb3JTcXVhcmVdO1xuICAgICAgICAgICAgICAgIHNpbmdsZVNxdWFyZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgZnJvbSA9IGZpcnN0U3F1YXJlOyBmcm9tIDw9IGxhc3RTcXVhcmU7IGZyb20rKykge1xuICAgICAgICAgICAgLy8gZGlkIHdlIHJ1biBvZmYgdGhlIGVuZCBvZiB0aGUgYm9hcmRcbiAgICAgICAgICAgIGlmIChmcm9tICYgMHg4OCkge1xuICAgICAgICAgICAgICAgIGZyb20gKz0gNztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtcHR5IHNxdWFyZSBvciBvcHBvbmVudCwgc2tpcFxuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib2FyZFtmcm9tXSB8fCB0aGlzLl9ib2FyZFtmcm9tXS5jb2xvciA9PT0gdGhlbSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB0eXBlIH0gPSB0aGlzLl9ib2FyZFtmcm9tXTtcbiAgICAgICAgICAgIGxldCB0bztcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBQQVdOKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvclBpZWNlICYmIGZvclBpZWNlICE9PSB0eXBlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAvLyBzaW5nbGUgc3F1YXJlLCBub24tY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgdG8gPSBmcm9tICsgUEFXTl9PRkZTRVRTW3VzXVswXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2JvYXJkW3RvXSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRNb3ZlKG1vdmVzLCB1cywgZnJvbSwgdG8sIFBBV04pO1xuICAgICAgICAgICAgICAgICAgICAvLyBkb3VibGUgc3F1YXJlXG4gICAgICAgICAgICAgICAgICAgIHRvID0gZnJvbSArIFBBV05fT0ZGU0VUU1t1c11bMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChTRUNPTkRfUkFOS1t1c10gPT09IHJhbmsoZnJvbSkgJiYgIXRoaXMuX2JvYXJkW3RvXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkTW92ZShtb3ZlcywgdXMsIGZyb20sIHRvLCBQQVdOLCB1bmRlZmluZWQsIEJJVFMuQklHX1BBV04pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHBhd24gY2FwdHVyZXNcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMjsgaiA8IDQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB0byA9IGZyb20gKyBQQVdOX09GRlNFVFNbdXNdW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG8gJiAweDg4KVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ib2FyZFt0b10/LmNvbG9yID09PSB0aGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRNb3ZlKG1vdmVzLCB1cywgZnJvbSwgdG8sIFBBV04sIHRoaXMuX2JvYXJkW3RvXS50eXBlLCBCSVRTLkNBUFRVUkUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvID09PSB0aGlzLl9lcFNxdWFyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkTW92ZShtb3ZlcywgdXMsIGZyb20sIHRvLCBQQVdOLCBQQVdOLCBCSVRTLkVQX0NBUFRVUkUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvclBpZWNlICYmIGZvclBpZWNlICE9PSB0eXBlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgbGVuID0gUElFQ0VfT0ZGU0VUU1t0eXBlXS5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBQSUVDRV9PRkZTRVRTW3R5cGVdW2pdO1xuICAgICAgICAgICAgICAgICAgICB0byA9IGZyb207XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0byArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG8gJiAweDg4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9ib2FyZFt0b10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRNb3ZlKG1vdmVzLCB1cywgZnJvbSwgdG8sIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3duIGNvbG9yLCBzdG9wIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYm9hcmRbdG9dLmNvbG9yID09PSB1cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkTW92ZShtb3ZlcywgdXMsIGZyb20sIHRvLCB0eXBlLCB0aGlzLl9ib2FyZFt0b10udHlwZSwgQklUUy5DQVBUVVJFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGJyZWFrLCBpZiBrbmlnaHQgb3Iga2luZyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IEtOSUdIVCB8fCB0eXBlID09PSBLSU5HKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICAqIGNoZWNrIGZvciBjYXN0bGluZyBpZiB3ZSdyZTpcbiAgICAgICAgICogICBhKSBnZW5lcmF0aW5nIGFsbCBtb3Zlcywgb3JcbiAgICAgICAgICogICBiKSBkb2luZyBzaW5nbGUgc3F1YXJlIG1vdmUgZ2VuZXJhdGlvbiBvbiB0aGUga2luZydzIHNxdWFyZVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGZvclBpZWNlID09PSB1bmRlZmluZWQgfHwgZm9yUGllY2UgPT09IEtJTkcpIHtcbiAgICAgICAgICAgIGlmICghc2luZ2xlU3F1YXJlIHx8IGxhc3RTcXVhcmUgPT09IHRoaXMuX2tpbmdzW3VzXSkge1xuICAgICAgICAgICAgICAgIC8vIGtpbmctc2lkZSBjYXN0bGluZ1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYXN0bGluZ1t1c10gJiBCSVRTLktTSURFX0NBU1RMRSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXN0bGluZ0Zyb20gPSB0aGlzLl9raW5nc1t1c107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc3RsaW5nVG8gPSBjYXN0bGluZ0Zyb20gKyAyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2JvYXJkW2Nhc3RsaW5nRnJvbSArIDFdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5fYm9hcmRbY2FzdGxpbmdUb10gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl9hdHRhY2tlZCh0aGVtLCB0aGlzLl9raW5nc1t1c10pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5fYXR0YWNrZWQodGhlbSwgY2FzdGxpbmdGcm9tICsgMSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl9hdHRhY2tlZCh0aGVtLCBjYXN0bGluZ1RvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkTW92ZShtb3ZlcywgdXMsIHRoaXMuX2tpbmdzW3VzXSwgY2FzdGxpbmdUbywgS0lORywgdW5kZWZpbmVkLCBCSVRTLktTSURFX0NBU1RMRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcXVlZW4tc2lkZSBjYXN0bGluZ1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYXN0bGluZ1t1c10gJiBCSVRTLlFTSURFX0NBU1RMRSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXN0bGluZ0Zyb20gPSB0aGlzLl9raW5nc1t1c107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc3RsaW5nVG8gPSBjYXN0bGluZ0Zyb20gLSAyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2JvYXJkW2Nhc3RsaW5nRnJvbSAtIDFdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5fYm9hcmRbY2FzdGxpbmdGcm9tIC0gMl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl9ib2FyZFtjYXN0bGluZ0Zyb20gLSAzXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2F0dGFja2VkKHRoZW0sIHRoaXMuX2tpbmdzW3VzXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl9hdHRhY2tlZCh0aGVtLCBjYXN0bGluZ0Zyb20gLSAxKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2F0dGFja2VkKHRoZW0sIGNhc3RsaW5nVG8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRNb3ZlKG1vdmVzLCB1cywgdGhpcy5fa2luZ3NbdXNdLCBjYXN0bGluZ1RvLCBLSU5HLCB1bmRlZmluZWQsIEJJVFMuUVNJREVfQ0FTVExFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgKiByZXR1cm4gYWxsIHBzZXVkby1sZWdhbCBtb3ZlcyAodGhpcyBpbmNsdWRlcyBtb3ZlcyB0aGF0IGFsbG93IHRoZSBraW5nXG4gICAgICAgICAqIHRvIGJlIGNhcHR1cmVkKVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFsZWdhbCB8fCB0aGlzLl9raW5nc1t1c10gPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbW92ZXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmlsdGVyIG91dCBpbGxlZ2FsIG1vdmVzXG4gICAgICAgIGNvbnN0IGxlZ2FsTW92ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG1vdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYWtlTW92ZShtb3Zlc1tpXSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzS2luZ0F0dGFja2VkKHVzKSkge1xuICAgICAgICAgICAgICAgIGxlZ2FsTW92ZXMucHVzaChtb3Zlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91bmRvTW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsZWdhbE1vdmVzO1xuICAgIH1cbiAgICBtb3ZlKG1vdmUsIHsgc3RyaWN0ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIFRoZSBtb3ZlIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgd2l0aCBpbiB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAgICAgICAqXG4gICAgICAgICAqIC5tb3ZlKCdOeGI3JykgICAgICAgPC0gYXJndW1lbnQgaXMgYSBjYXNlLXNlbnNpdGl2ZSBTQU4gc3RyaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIC5tb3ZlKHsgZnJvbTogJ2g3JywgPC0gYXJndW1lbnQgaXMgYSBtb3ZlIG9iamVjdFxuICAgICAgICAgKiAgICAgICAgIHRvIDonaDgnLFxuICAgICAgICAgKiAgICAgICAgIHByb21vdGlvbjogJ3EnIH0pXG4gICAgICAgICAqXG4gICAgICAgICAqXG4gICAgICAgICAqIEFuIG9wdGlvbmFsIHN0cmljdCBhcmd1bWVudCBtYXkgYmUgc3VwcGxpZWQgdG8gdGVsbCBjaGVzcy5qcyB0b1xuICAgICAgICAgKiBzdHJpY3RseSBmb2xsb3cgdGhlIFNBTiBzcGVjaWZpY2F0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IG1vdmVPYmogPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIG1vdmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBtb3ZlT2JqID0gdGhpcy5fbW92ZUZyb21TYW4obW92ZSwgc3RyaWN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbW92ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVzID0gdGhpcy5fbW92ZXMoKTtcbiAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIHByZXR0eSBtb3ZlIG9iamVjdCB0byBhbiB1Z2x5IG1vdmUgb2JqZWN0XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbW92ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobW92ZS5mcm9tID09PSBhbGdlYnJhaWMobW92ZXNbaV0uZnJvbSkgJiZcbiAgICAgICAgICAgICAgICAgICAgbW92ZS50byA9PT0gYWxnZWJyYWljKG1vdmVzW2ldLnRvKSAmJlxuICAgICAgICAgICAgICAgICAgICAoISgncHJvbW90aW9uJyBpbiBtb3Zlc1tpXSkgfHwgbW92ZS5wcm9tb3Rpb24gPT09IG1vdmVzW2ldLnByb21vdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZU9iaiA9IG1vdmVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmFpbGVkIHRvIGZpbmQgbW92ZVxuICAgICAgICBpZiAoIW1vdmVPYmopIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbW92ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbW92ZTogJHttb3ZlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1vdmU6ICR7SlNPTi5zdHJpbmdpZnkobW92ZSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogbmVlZCB0byBtYWtlIGEgY29weSBvZiBtb3ZlIGJlY2F1c2Ugd2UgY2FuJ3QgZ2VuZXJhdGUgU0FOIGFmdGVyIHRoZSBtb3ZlXG4gICAgICAgICAqIGlzIG1hZGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHByZXR0eU1vdmUgPSB0aGlzLl9tYWtlUHJldHR5KG1vdmVPYmopO1xuICAgICAgICB0aGlzLl9tYWtlTW92ZShtb3ZlT2JqKTtcbiAgICAgICAgdGhpcy5fcG9zaXRpb25Db3VudHNbcHJldHR5TW92ZS5hZnRlcl0rKztcbiAgICAgICAgcmV0dXJuIHByZXR0eU1vdmU7XG4gICAgfVxuICAgIF9wdXNoKG1vdmUpIHtcbiAgICAgICAgdGhpcy5faGlzdG9yeS5wdXNoKHtcbiAgICAgICAgICAgIG1vdmUsXG4gICAgICAgICAgICBraW5nczogeyBiOiB0aGlzLl9raW5ncy5iLCB3OiB0aGlzLl9raW5ncy53IH0sXG4gICAgICAgICAgICB0dXJuOiB0aGlzLl90dXJuLFxuICAgICAgICAgICAgY2FzdGxpbmc6IHsgYjogdGhpcy5fY2FzdGxpbmcuYiwgdzogdGhpcy5fY2FzdGxpbmcudyB9LFxuICAgICAgICAgICAgZXBTcXVhcmU6IHRoaXMuX2VwU3F1YXJlLFxuICAgICAgICAgICAgaGFsZk1vdmVzOiB0aGlzLl9oYWxmTW92ZXMsXG4gICAgICAgICAgICBtb3ZlTnVtYmVyOiB0aGlzLl9tb3ZlTnVtYmVyLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX21ha2VNb3ZlKG1vdmUpIHtcbiAgICAgICAgY29uc3QgdXMgPSB0aGlzLl90dXJuO1xuICAgICAgICBjb25zdCB0aGVtID0gc3dhcENvbG9yKHVzKTtcbiAgICAgICAgdGhpcy5fcHVzaChtb3ZlKTtcbiAgICAgICAgdGhpcy5fYm9hcmRbbW92ZS50b10gPSB0aGlzLl9ib2FyZFttb3ZlLmZyb21dO1xuICAgICAgICBkZWxldGUgdGhpcy5fYm9hcmRbbW92ZS5mcm9tXTtcbiAgICAgICAgLy8gaWYgZXAgY2FwdHVyZSwgcmVtb3ZlIHRoZSBjYXB0dXJlZCBwYXduXG4gICAgICAgIGlmIChtb3ZlLmZsYWdzICYgQklUUy5FUF9DQVBUVVJFKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHVybiA9PT0gQkxBQ0spIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fYm9hcmRbbW92ZS50byAtIDE2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ib2FyZFttb3ZlLnRvICsgMTZdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHBhd24gcHJvbW90aW9uLCByZXBsYWNlIHdpdGggbmV3IHBpZWNlXG4gICAgICAgIGlmIChtb3ZlLnByb21vdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fYm9hcmRbbW92ZS50b10gPSB7IHR5cGU6IG1vdmUucHJvbW90aW9uLCBjb2xvcjogdXMgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBtb3ZlZCB0aGUga2luZ1xuICAgICAgICBpZiAodGhpcy5fYm9hcmRbbW92ZS50b10udHlwZSA9PT0gS0lORykge1xuICAgICAgICAgICAgdGhpcy5fa2luZ3NbdXNdID0gbW92ZS50bztcbiAgICAgICAgICAgIC8vIGlmIHdlIGNhc3RsZWQsIG1vdmUgdGhlIHJvb2sgbmV4dCB0byB0aGUga2luZ1xuICAgICAgICAgICAgaWYgKG1vdmUuZmxhZ3MgJiBCSVRTLktTSURFX0NBU1RMRSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhc3RsaW5nVG8gPSBtb3ZlLnRvIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXN0bGluZ0Zyb20gPSBtb3ZlLnRvICsgMTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib2FyZFtjYXN0bGluZ1RvXSA9IHRoaXMuX2JvYXJkW2Nhc3RsaW5nRnJvbV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2JvYXJkW2Nhc3RsaW5nRnJvbV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb3ZlLmZsYWdzICYgQklUUy5RU0lERV9DQVNUTEUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXN0bGluZ1RvID0gbW92ZS50byArIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FzdGxpbmdGcm9tID0gbW92ZS50byAtIDI7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm9hcmRbY2FzdGxpbmdUb10gPSB0aGlzLl9ib2FyZFtjYXN0bGluZ0Zyb21dO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ib2FyZFtjYXN0bGluZ0Zyb21dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHVybiBvZmYgY2FzdGxpbmdcbiAgICAgICAgICAgIHRoaXMuX2Nhc3RsaW5nW3VzXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHVybiBvZmYgY2FzdGxpbmcgaWYgd2UgbW92ZSBhIHJvb2tcbiAgICAgICAgaWYgKHRoaXMuX2Nhc3RsaW5nW3VzXSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IFJPT0tTW3VzXS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChtb3ZlLmZyb20gPT09IFJPT0tTW3VzXVtpXS5zcXVhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmdbdXNdICYgUk9PS1NbdXNdW2ldLmZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmdbdXNdIF49IFJPT0tTW3VzXVtpXS5mbGFnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHVybiBvZmYgY2FzdGxpbmcgaWYgd2UgY2FwdHVyZSBhIHJvb2tcbiAgICAgICAgaWYgKHRoaXMuX2Nhc3RsaW5nW3RoZW1dKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gUk9PS1NbdGhlbV0ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobW92ZS50byA9PT0gUk9PS1NbdGhlbV1baV0uc3F1YXJlICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nhc3RsaW5nW3RoZW1dICYgUk9PS1NbdGhlbV1baV0uZmxhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYXN0bGluZ1t0aGVtXSBePSBST09LU1t0aGVtXVtpXS5mbGFnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYmlnIHBhd24gbW92ZSwgdXBkYXRlIHRoZSBlbiBwYXNzYW50IHNxdWFyZVxuICAgICAgICBpZiAobW92ZS5mbGFncyAmIEJJVFMuQklHX1BBV04pIHtcbiAgICAgICAgICAgIGlmICh1cyA9PT0gQkxBQ0spIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcFNxdWFyZSA9IG1vdmUudG8gLSAxNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VwU3F1YXJlID0gbW92ZS50byArIDE2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZXBTcXVhcmUgPSBFTVBUWTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXNldCB0aGUgNTAgbW92ZSBjb3VudGVyIGlmIGEgcGF3biBpcyBtb3ZlZCBvciBhIHBpZWNlIGlzIGNhcHR1cmVkXG4gICAgICAgIGlmIChtb3ZlLnBpZWNlID09PSBQQVdOKSB7XG4gICAgICAgICAgICB0aGlzLl9oYWxmTW92ZXMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1vdmUuZmxhZ3MgJiAoQklUUy5DQVBUVVJFIHwgQklUUy5FUF9DQVBUVVJFKSkge1xuICAgICAgICAgICAgdGhpcy5faGFsZk1vdmVzID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbGZNb3ZlcysrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cyA9PT0gQkxBQ0spIHtcbiAgICAgICAgICAgIHRoaXMuX21vdmVOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90dXJuID0gdGhlbTtcbiAgICB9XG4gICAgdW5kbygpIHtcbiAgICAgICAgY29uc3QgbW92ZSA9IHRoaXMuX3VuZG9Nb3ZlKCk7XG4gICAgICAgIGlmIChtb3ZlKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV0dHlNb3ZlID0gdGhpcy5fbWFrZVByZXR0eShtb3ZlKTtcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uQ291bnRzW3ByZXR0eU1vdmUuYWZ0ZXJdLS07XG4gICAgICAgICAgICByZXR1cm4gcHJldHR5TW92ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgX3VuZG9Nb3ZlKCkge1xuICAgICAgICBjb25zdCBvbGQgPSB0aGlzLl9oaXN0b3J5LnBvcCgpO1xuICAgICAgICBpZiAob2xkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vdmUgPSBvbGQubW92ZTtcbiAgICAgICAgdGhpcy5fa2luZ3MgPSBvbGQua2luZ3M7XG4gICAgICAgIHRoaXMuX3R1cm4gPSBvbGQudHVybjtcbiAgICAgICAgdGhpcy5fY2FzdGxpbmcgPSBvbGQuY2FzdGxpbmc7XG4gICAgICAgIHRoaXMuX2VwU3F1YXJlID0gb2xkLmVwU3F1YXJlO1xuICAgICAgICB0aGlzLl9oYWxmTW92ZXMgPSBvbGQuaGFsZk1vdmVzO1xuICAgICAgICB0aGlzLl9tb3ZlTnVtYmVyID0gb2xkLm1vdmVOdW1iZXI7XG4gICAgICAgIGNvbnN0IHVzID0gdGhpcy5fdHVybjtcbiAgICAgICAgY29uc3QgdGhlbSA9IHN3YXBDb2xvcih1cyk7XG4gICAgICAgIHRoaXMuX2JvYXJkW21vdmUuZnJvbV0gPSB0aGlzLl9ib2FyZFttb3ZlLnRvXTtcbiAgICAgICAgdGhpcy5fYm9hcmRbbW92ZS5mcm9tXS50eXBlID0gbW92ZS5waWVjZTsgLy8gdG8gdW5kbyBhbnkgcHJvbW90aW9uc1xuICAgICAgICBkZWxldGUgdGhpcy5fYm9hcmRbbW92ZS50b107XG4gICAgICAgIGlmIChtb3ZlLmNhcHR1cmVkKSB7XG4gICAgICAgICAgICBpZiAobW92ZS5mbGFncyAmIEJJVFMuRVBfQ0FQVFVSRSkge1xuICAgICAgICAgICAgICAgIC8vIGVuIHBhc3NhbnQgY2FwdHVyZVxuICAgICAgICAgICAgICAgIGxldCBpbmRleDtcbiAgICAgICAgICAgICAgICBpZiAodXMgPT09IEJMQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gbW92ZS50byAtIDE2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBtb3ZlLnRvICsgMTY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2JvYXJkW2luZGV4XSA9IHsgdHlwZTogUEFXTiwgY29sb3I6IHRoZW0gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlZ3VsYXIgY2FwdHVyZVxuICAgICAgICAgICAgICAgIHRoaXMuX2JvYXJkW21vdmUudG9dID0geyB0eXBlOiBtb3ZlLmNhcHR1cmVkLCBjb2xvcjogdGhlbSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtb3ZlLmZsYWdzICYgKEJJVFMuS1NJREVfQ0FTVExFIHwgQklUUy5RU0lERV9DQVNUTEUpKSB7XG4gICAgICAgICAgICBsZXQgY2FzdGxpbmdUbywgY2FzdGxpbmdGcm9tO1xuICAgICAgICAgICAgaWYgKG1vdmUuZmxhZ3MgJiBCSVRTLktTSURFX0NBU1RMRSkge1xuICAgICAgICAgICAgICAgIGNhc3RsaW5nVG8gPSBtb3ZlLnRvICsgMTtcbiAgICAgICAgICAgICAgICBjYXN0bGluZ0Zyb20gPSBtb3ZlLnRvIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhc3RsaW5nVG8gPSBtb3ZlLnRvIC0gMjtcbiAgICAgICAgICAgICAgICBjYXN0bGluZ0Zyb20gPSBtb3ZlLnRvICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2JvYXJkW2Nhc3RsaW5nVG9dID0gdGhpcy5fYm9hcmRbY2FzdGxpbmdGcm9tXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ib2FyZFtjYXN0bGluZ0Zyb21dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb3ZlO1xuICAgIH1cbiAgICBwZ24oeyBuZXdsaW5lID0gJ1xcbicsIG1heFdpZHRoID0gMCwgfSA9IHt9KSB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIHVzaW5nIHRoZSBzcGVjaWZpY2F0aW9uIGZyb20gaHR0cDovL3d3dy5jaGVzc2NsdWIuY29tL2hlbHAvUEdOLXNwZWNcbiAgICAgICAgICogZXhhbXBsZSBmb3IgaHRtbCB1c2FnZTogLnBnbih7IG1heF93aWR0aDogNzIsIG5ld2xpbmVfY2hhcjogXCI8YnIgLz5cIiB9KVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBoZWFkZXJFeGlzdHMgPSBmYWxzZTtcbiAgICAgICAgLyogYWRkIHRoZSBQR04gaGVhZGVyIGluZm9ybWF0aW9uICovXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9oZWFkZXIpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBUT0RPOiBvcmRlciBvZiBlbnVtZXJhdGVkIHByb3BlcnRpZXMgaW4gaGVhZGVyIG9iamVjdCBpcyBub3RcbiAgICAgICAgICAgICAqIGd1YXJhbnRlZWQsIHNlZSBFQ01BLTI2MiBzcGVjIChzZWN0aW9uIDEyLjYuNClcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goJ1snICsgaSArICcgXCInICsgdGhpcy5faGVhZGVyW2ldICsgJ1wiXScgKyBuZXdsaW5lKTtcbiAgICAgICAgICAgIGhlYWRlckV4aXN0cyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlckV4aXN0cyAmJiB0aGlzLl9oaXN0b3J5Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3bGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXBwZW5kQ29tbWVudCA9IChtb3ZlU3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21tZW50ID0gdGhpcy5fY29tbWVudHNbdGhpcy5mZW4oKV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsaW1pdGVyID0gbW92ZVN0cmluZy5sZW5ndGggPiAwID8gJyAnIDogJyc7XG4gICAgICAgICAgICAgICAgbW92ZVN0cmluZyA9IGAke21vdmVTdHJpbmd9JHtkZWxpbWl0ZXJ9eyR7Y29tbWVudH19YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb3ZlU3RyaW5nO1xuICAgICAgICB9O1xuICAgICAgICAvLyBwb3AgYWxsIG9mIGhpc3Rvcnkgb250byByZXZlcnNlZF9oaXN0b3J5XG4gICAgICAgIGNvbnN0IHJldmVyc2VkSGlzdG9yeSA9IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5faGlzdG9yeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXZlcnNlZEhpc3RvcnkucHVzaCh0aGlzLl91bmRvTW92ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb3ZlcyA9IFtdO1xuICAgICAgICBsZXQgbW92ZVN0cmluZyA9ICcnO1xuICAgICAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYSBjb21tZW50ZWQgc3RhcnRpbmcgcG9zaXRpb24gd2l0aCBubyBtb3Zlc1xuICAgICAgICBpZiAocmV2ZXJzZWRIaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbW92ZXMucHVzaChhcHBlbmRDb21tZW50KCcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYnVpbGQgdGhlIGxpc3Qgb2YgbW92ZXMuICBhIG1vdmVfc3RyaW5nIGxvb2tzIGxpa2U6IFwiMy4gZTMgZTZcIlxuICAgICAgICB3aGlsZSAocmV2ZXJzZWRIaXN0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1vdmVTdHJpbmcgPSBhcHBlbmRDb21tZW50KG1vdmVTdHJpbmcpO1xuICAgICAgICAgICAgY29uc3QgbW92ZSA9IHJldmVyc2VkSGlzdG9yeS5wb3AoKTtcbiAgICAgICAgICAgIC8vIG1ha2UgVHlwZVNjcmlwdCBzdG9wIGNvbXBsYWluaW5nIGFib3V0IG1vdmUgYmVpbmcgdW5kZWZpbmVkXG4gICAgICAgICAgICBpZiAoIW1vdmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZSBwb3NpdGlvbiBzdGFydGVkIHdpdGggYmxhY2sgdG8gbW92ZSwgc3RhcnQgUEdOIHdpdGggIy4gLi4uXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2hpc3RvcnkubGVuZ3RoICYmIG1vdmUuY29sb3IgPT09ICdiJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeCA9IGAke3RoaXMuX21vdmVOdW1iZXJ9LiAuLi5gO1xuICAgICAgICAgICAgICAgIC8vIGlzIHRoZXJlIGEgY29tbWVudCBwcmVjZWRpbmcgdGhlIGZpcnN0IG1vdmU/XG4gICAgICAgICAgICAgICAgbW92ZVN0cmluZyA9IG1vdmVTdHJpbmcgPyBgJHttb3ZlU3RyaW5nfSAke3ByZWZpeH1gIDogcHJlZml4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW92ZS5jb2xvciA9PT0gJ3cnKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIHByZXZpb3VzIGdlbmVyYXRlZCBtb3ZlX3N0cmluZyBpZiB3ZSBoYXZlIG9uZVxuICAgICAgICAgICAgICAgIGlmIChtb3ZlU3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBtb3Zlcy5wdXNoKG1vdmVTdHJpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtb3ZlU3RyaW5nID0gdGhpcy5fbW92ZU51bWJlciArICcuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vdmVTdHJpbmcgPVxuICAgICAgICAgICAgICAgIG1vdmVTdHJpbmcgKyAnICcgKyB0aGlzLl9tb3ZlVG9TYW4obW92ZSwgdGhpcy5fbW92ZXMoeyBsZWdhbDogdHJ1ZSB9KSk7XG4gICAgICAgICAgICB0aGlzLl9tYWtlTW92ZShtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcmUgdGhlcmUgYW55IG90aGVyIGxlZnRvdmVyIG1vdmVzP1xuICAgICAgICBpZiAobW92ZVN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1vdmVzLnB1c2goYXBwZW5kQ29tbWVudChtb3ZlU3RyaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXMgdGhlcmUgYSByZXN1bHQ/XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5faGVhZGVyLlJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG1vdmVzLnB1c2godGhpcy5faGVhZGVyLlJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogaGlzdG9yeSBzaG91bGQgYmUgYmFjayB0byB3aGF0IGl0IHdhcyBiZWZvcmUgd2Ugc3RhcnRlZCBnZW5lcmF0aW5nIFBHTixcbiAgICAgICAgICogc28gam9pbiB0b2dldGhlciBtb3Zlc1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG1heFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpICsgbW92ZXMuam9pbignICcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gKGphaCk6IGh1aD9cbiAgICAgICAgY29uc3Qgc3RyaXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDAgJiYgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBOQjogdGhpcyBkb2VzIG5vdCBwcmVzZXJ2ZSBjb21tZW50IHdoaXRlc3BhY2UuXG4gICAgICAgIGNvbnN0IHdyYXBDb21tZW50ID0gZnVuY3Rpb24gKHdpZHRoLCBtb3ZlKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIG1vdmUuc3BsaXQoJyAnKSkge1xuICAgICAgICAgICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh3aWR0aCArIHRva2VuLmxlbmd0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdHJpcCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld2xpbmUpO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJyAnKTtcbiAgICAgICAgICAgICAgICB3aWR0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0cmlwKCkpIHtcbiAgICAgICAgICAgICAgICB3aWR0aC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgICAgICB9O1xuICAgICAgICAvLyB3cmFwIHRoZSBQR04gb3V0cHV0IGF0IG1heF93aWR0aFxuICAgICAgICBsZXQgY3VycmVudFdpZHRoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb3Zlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRXaWR0aCArIG1vdmVzW2ldLmxlbmd0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmVzW2ldLmluY2x1ZGVzKCd7JykpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdpZHRoID0gd3JhcENvbW1lbnQoY3VycmVudFdpZHRoLCBtb3Zlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZSBjdXJyZW50IG1vdmUgd2lsbCBwdXNoIHBhc3QgbWF4X3dpZHRoXG4gICAgICAgICAgICBpZiAoY3VycmVudFdpZHRoICsgbW92ZXNbaV0ubGVuZ3RoID4gbWF4V2lkdGggJiYgaSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGRvbid0IGVuZCB0aGUgbGluZSB3aXRoIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3bGluZSk7XG4gICAgICAgICAgICAgICAgY3VycmVudFdpZHRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGkgIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnICcpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRXaWR0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobW92ZXNbaV0pO1xuICAgICAgICAgICAgY3VycmVudFdpZHRoICs9IG1vdmVzW2ldLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xuICAgIH1cbiAgICBoZWFkZXIoLi4uYXJncykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1tpXSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGFyZ3NbaSArIDFdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hlYWRlclthcmdzW2ldXSA9IGFyZ3NbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWFkZXI7XG4gICAgfVxuICAgIGxvYWRQZ24ocGduLCB7IHN0cmljdCA9IGZhbHNlLCBuZXdsaW5lQ2hhciA9ICdcXHI/XFxuJywgfSA9IHt9KSB7XG4gICAgICAgIGZ1bmN0aW9uIG1hc2soc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFwnKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwYXJzZVBnbkhlYWRlcihoZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlck9iaiA9IHt9O1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGhlYWRlci5zcGxpdChuZXcgUmVnRXhwKG1hc2sobmV3bGluZUNoYXIpKSk7XG4gICAgICAgICAgICBsZXQga2V5ID0gJyc7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSAnJztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL15cXHMqXFxbXFxzKihbQS1aYS16XSspXFxzKlwiKC4qKVwiXFxzKlxcXVxccyokLztcbiAgICAgICAgICAgICAgICBrZXkgPSBoZWFkZXJzW2ldLnJlcGxhY2UocmVnZXgsICckMScpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gaGVhZGVyc1tpXS5yZXBsYWNlKHJlZ2V4LCAnJDInKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlck9ialtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhlYWRlck9iajtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdHJpcCB3aGl0ZXNwYWNlIGZyb20gaGVhZC90YWlsIG9mIFBHTiBibG9ja1xuICAgICAgICBwZ24gPSBwZ24udHJpbSgpO1xuICAgICAgICAvKlxuICAgICAgICAgKiBSZWdFeHAgdG8gc3BsaXQgaGVhZGVyLiBUYWtlcyBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCBoZWFkZXIgYW5kIG1vdmV0ZXh0XG4gICAgICAgICAqIHdpbGwgYWx3YXlzIGhhdmUgYSBibGFuayBsaW5lIGJldHdlZW4gdGhlbSAoaWUsIHR3byBuZXdsaW5lX2NoYXIncykuIEhhbmRsZXNcbiAgICAgICAgICogY2FzZSB3aGVyZSBtb3ZldGV4dCBpcyBlbXB0eSBieSBtYXRjaGluZyBuZXdsaW5lQ2hhciB1bnRpbCBlbmQgb2Ygc3RyaW5nIGlzXG4gICAgICAgICAqIG1hdGNoZWQgLSBlZmZlY3RpdmVseSB0cmltbWluZyBmcm9tIHRoZSBlbmQgZXh0cmEgbmV3bGluZUNoYXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdpdGggZGVmYXVsdCBuZXdsaW5lX2NoYXIsIHdpbGwgZXF1YWw6XG4gICAgICAgICAqIC9eKFxcWygoPzpcXHI/XFxuKXwuKSpcXF0pKCg/OlxccypcXHI/XFxuKXsyfXwoPzpcXHMqXFxyP1xcbikqJCkvXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBoZWFkZXJSZWdleCA9IG5ldyBSZWdFeHAoJ14oXFxcXFsoKD86JyArXG4gICAgICAgICAgICBtYXNrKG5ld2xpbmVDaGFyKSArXG4gICAgICAgICAgICAnKXwuKSpcXFxcXSknICtcbiAgICAgICAgICAgICcoKD86XFxcXHMqJyArXG4gICAgICAgICAgICBtYXNrKG5ld2xpbmVDaGFyKSArXG4gICAgICAgICAgICAnKXsyfXwoPzpcXFxccyonICtcbiAgICAgICAgICAgIG1hc2sobmV3bGluZUNoYXIpICtcbiAgICAgICAgICAgICcpKiQpJyk7XG4gICAgICAgIC8vIElmIG5vIGhlYWRlciBnaXZlbiwgYmVnaW4gd2l0aCBtb3Zlcy5cbiAgICAgICAgY29uc3QgaGVhZGVyUmVnZXhSZXN1bHRzID0gaGVhZGVyUmVnZXguZXhlYyhwZ24pO1xuICAgICAgICBjb25zdCBoZWFkZXJTdHJpbmcgPSBoZWFkZXJSZWdleFJlc3VsdHNcbiAgICAgICAgICAgID8gaGVhZGVyUmVnZXhSZXN1bHRzLmxlbmd0aCA+PSAyXG4gICAgICAgICAgICAgICAgPyBoZWFkZXJSZWdleFJlc3VsdHNbMV1cbiAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICAvLyBQdXQgdGhlIGJvYXJkIGluIHRoZSBzdGFydGluZyBwb3NpdGlvblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIC8vIHBhcnNlIFBHTiBoZWFkZXJcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHBhcnNlUGduSGVhZGVyKGhlYWRlclN0cmluZyk7XG4gICAgICAgIGxldCBmZW4gPSAnJztcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgLy8gY2hlY2sgdG8gc2VlIHVzZXIgaXMgaW5jbHVkaW5nIGZlbiAocG9zc2libHkgd2l0aCB3cm9uZyB0YWcgY2FzZSlcbiAgICAgICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2ZlbicpIHtcbiAgICAgICAgICAgICAgICBmZW4gPSBoZWFkZXJzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogdGhlIHBlcm1pc3NpdmUgcGFyc2VyIHNob3VsZCBhdHRlbXB0IHRvIGxvYWQgYSBmZW4gdGFnLCBldmVuIGlmIGl0J3MgdGhlXG4gICAgICAgICAqIHdyb25nIGNhc2UgYW5kIGRvZXNuJ3QgaW5jbHVkZSBhIGNvcnJlc3BvbmRpbmcgW1NldFVwIFwiMVwiXSB0YWdcbiAgICAgICAgICovXG4gICAgICAgIGlmICghc3RyaWN0KSB7XG4gICAgICAgICAgICBpZiAoZmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkKGZlbiwgeyBwcmVzZXJ2ZUhlYWRlcnM6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogc3RyaWN0IHBhcnNlciAtIGxvYWQgdGhlIHN0YXJ0aW5nIHBvc2l0aW9uIGluZGljYXRlZCBieSBbU2V0dXAgJzEnXVxuICAgICAgICAgICAgICogYW5kIFtGRU4gcG9zaXRpb25dXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChoZWFkZXJzWydTZXRVcCddID09PSAnMScpIHtcbiAgICAgICAgICAgICAgICBpZiAoISgnRkVOJyBpbiBoZWFkZXJzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgUEdOOiBGRU4gdGFnIG11c3QgYmUgc3VwcGxpZWQgd2l0aCBTZXRVcCB0YWcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgY2xlYXIgdGhlIGhlYWRlcnMgd2hlbiBsb2FkaW5nXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkKGhlYWRlcnNbJ0ZFTiddLCB7IHByZXNlcnZlSGVhZGVyczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgKiBOQjogdGhlIHJlZ2V4ZXMgYmVsb3cgdGhhdCBkZWxldGUgbW92ZSBudW1iZXJzLCByZWN1cnNpdmUgYW5ub3RhdGlvbnMsXG4gICAgICAgICAqIGFuZCBudW1lcmljIGFubm90YXRpb24gZ2x5cGhzIG1heSBhbHNvIG1hdGNoIHRleHQgaW4gY29tbWVudHMuIFRvXG4gICAgICAgICAqIHByZXZlbnQgdGhpcywgd2UgdHJhbnNmb3JtIGNvbW1lbnRzIGJ5IGhleC1lbmNvZGluZyB0aGVtIGluIHBsYWNlIGFuZFxuICAgICAgICAgKiBkZWNvZGluZyB0aGVtIGFnYWluIGFmdGVyIHRoZSBvdGhlciB0b2tlbnMgaGF2ZSBiZWVuIGRlbGV0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoaWxlIHRoZSBzcGVjIHN0YXRlcyB0aGF0IFBHTiBmaWxlcyBzaG91bGQgYmUgQVNDSUkgZW5jb2RlZCwgd2UgdXNlXG4gICAgICAgICAqIHtlbixkZX1jb2RlVVJJQ29tcG9uZW50IGhlcmUgdG8gc3VwcG9ydCBhcmJpdHJhcnkgVVRGOCBhcyBhIGNvbnZlbmllbmNlXG4gICAgICAgICAqIGZvciBtb2Rlcm4gdXNlcnNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHRvSGV4KHMpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHMpXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogZW5jb2RlVVJJIGRvZXNuJ3QgdHJhbnNmb3JtIG1vc3QgQVNDSUkgY2hhcmFjdGVycywgc28gd2UgaGFuZGxlXG4gICAgICAgICAgICAgICAgICogdGhlc2Ugb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIGMuY2hhckNvZGVBdCgwKSA8IDEyOFxuICAgICAgICAgICAgICAgICAgICA/IGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNilcbiAgICAgICAgICAgICAgICAgICAgOiBlbmNvZGVVUklDb21wb25lbnQoYykucmVwbGFjZSgvJS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGZyb21IZXgocykge1xuICAgICAgICAgICAgcmV0dXJuIHMubGVuZ3RoID09IDBcbiAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgOiBkZWNvZGVVUklDb21wb25lbnQoJyUnICsgKHMubWF0Y2goLy57MSwyfS9nKSB8fCBbXSkuam9pbignJScpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNvZGVDb21tZW50ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UobmV3IFJlZ0V4cChtYXNrKG5ld2xpbmVDaGFyKSwgJ2cnKSwgJyAnKTtcbiAgICAgICAgICAgIHJldHVybiBgeyR7dG9IZXgocy5zbGljZSgxLCBzLmxlbmd0aCAtIDEpKX19YDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZGVjb2RlQ29tbWVudCA9IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICBpZiAocy5zdGFydHNXaXRoKCd7JykgJiYgcy5lbmRzV2l0aCgnfScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb21IZXgocy5zbGljZSgxLCBzLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gZGVsZXRlIGhlYWRlciB0byBnZXQgdGhlIG1vdmVzXG4gICAgICAgIGxldCBtcyA9IHBnblxuICAgICAgICAgICAgLnJlcGxhY2UoaGVhZGVyU3RyaW5nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAvLyBlbmNvZGUgY29tbWVudHMgc28gdGhleSBkb24ndCBnZXQgZGVsZXRlZCBiZWxvd1xuICAgICAgICBuZXcgUmVnRXhwKGAoe1tefV0qfSkrP3w7KFteJHttYXNrKG5ld2xpbmVDaGFyKX1dKilgLCAnZycpLCBmdW5jdGlvbiAoX21hdGNoLCBicmFja2V0LCBzZW1pY29sb24pIHtcbiAgICAgICAgICAgIHJldHVybiBicmFja2V0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGVuY29kZUNvbW1lbnQoYnJhY2tldClcbiAgICAgICAgICAgICAgICA6ICcgJyArIGVuY29kZUNvbW1lbnQoYHske3NlbWljb2xvbi5zbGljZSgxKX19YCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmVwbGFjZShuZXcgUmVnRXhwKG1hc2sobmV3bGluZUNoYXIpLCAnZycpLCAnICcpO1xuICAgICAgICAvLyBkZWxldGUgcmVjdXJzaXZlIGFubm90YXRpb24gdmFyaWF0aW9uc1xuICAgICAgICBjb25zdCByYXZSZWdleCA9IC8oXFwoW14oKV0rXFwpKSs/L2c7XG4gICAgICAgIHdoaWxlIChyYXZSZWdleC50ZXN0KG1zKSkge1xuICAgICAgICAgICAgbXMgPSBtcy5yZXBsYWNlKHJhdlJlZ2V4LCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVsZXRlIG1vdmUgbnVtYmVyc1xuICAgICAgICBtcyA9IG1zLnJlcGxhY2UoL1xcZCtcXC4oXFwuXFwuKT8vZywgJycpO1xuICAgICAgICAvLyBkZWxldGUgLi4uIGluZGljYXRpbmcgYmxhY2sgdG8gbW92ZVxuICAgICAgICBtcyA9IG1zLnJlcGxhY2UoL1xcLlxcLlxcLi9nLCAnJyk7XG4gICAgICAgIC8qIGRlbGV0ZSBudW1lcmljIGFubm90YXRpb24gZ2x5cGhzICovXG4gICAgICAgIG1zID0gbXMucmVwbGFjZSgvXFwkXFxkKy9nLCAnJyk7XG4gICAgICAgIC8vIHRyaW0gYW5kIGdldCBhcnJheSBvZiBtb3Zlc1xuICAgICAgICBsZXQgbW92ZXMgPSBtcy50cmltKCkuc3BsaXQobmV3IFJlZ0V4cCgvXFxzKy8pKTtcbiAgICAgICAgLy8gZGVsZXRlIGVtcHR5IGVudHJpZXNcbiAgICAgICAgbW92ZXMgPSBtb3Zlcy5maWx0ZXIoKG1vdmUpID0+IG1vdmUgIT09ICcnKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBoYWxmTW92ZSA9IDA7IGhhbGZNb3ZlIDwgbW92ZXMubGVuZ3RoOyBoYWxmTW92ZSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb21tZW50ID0gZGVjb2RlQ29tbWVudChtb3Zlc1toYWxmTW92ZV0pO1xuICAgICAgICAgICAgaWYgKGNvbW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1lbnRzW3RoaXMuZmVuKCldID0gY29tbWVudDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vdmUgPSB0aGlzLl9tb3ZlRnJvbVNhbihtb3Zlc1toYWxmTW92ZV0sIHN0cmljdCk7XG4gICAgICAgICAgICAvLyBpbnZhbGlkIG1vdmVcbiAgICAgICAgICAgIGlmIChtb3ZlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB3YXMgdGhlIG1vdmUgYW4gZW5kIG9mIGdhbWUgbWFya2VyXG4gICAgICAgICAgICAgICAgaWYgKFRFUk1JTkFUSU9OX01BUktFUlMuaW5kZXhPZihtb3Zlc1toYWxmTW92ZV0pID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbW92ZXNbaGFsZk1vdmVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1vdmUgaW4gUEdOOiAke21vdmVzW2hhbGZNb3ZlXX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZXNldCB0aGUgZW5kIG9mIGdhbWUgbWFya2VyIGlmIG1ha2luZyBhIHZhbGlkIG1vdmVcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAnJztcbiAgICAgICAgICAgICAgICB0aGlzLl9tYWtlTW92ZShtb3ZlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkNvdW50c1t0aGlzLmZlbigpXSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICAqIFBlciBzZWN0aW9uIDguMi42IG9mIHRoZSBQR04gc3BlYywgdGhlIFJlc3VsdCB0YWcgcGFpciBtdXN0IG1hdGNoIG1hdGNoXG4gICAgICAgICAqIHRoZSB0ZXJtaW5hdGlvbiBtYXJrZXIuIE9ubHkgZG8gdGhpcyB3aGVuIGhlYWRlcnMgYXJlIHByZXNlbnQsIGJ1dCB0aGVcbiAgICAgICAgICogcmVzdWx0IHRhZyBpcyBtaXNzaW5nXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocmVzdWx0ICYmIE9iamVjdC5rZXlzKHRoaXMuX2hlYWRlcikubGVuZ3RoICYmICF0aGlzLl9oZWFkZXJbJ1Jlc3VsdCddKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcignUmVzdWx0JywgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKlxuICAgICAqIENvbnZlcnQgYSBtb3ZlIGZyb20gMHg4OCBjb29yZGluYXRlcyB0byBTdGFuZGFyZCBBbGdlYnJhaWMgTm90YXRpb25cbiAgICAgKiAoU0FOKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzdHJpY3QgVXNlIHRoZSBzdHJpY3QgU0FOIHBhcnNlci4gSXQgd2lsbCB0aHJvdyBlcnJvcnNcbiAgICAgKiBvbiBvdmVybHkgZGlzYW1iaWd1YXRlZCBtb3ZlcyAoc2VlIGJlbG93KTpcbiAgICAgKlxuICAgICAqIHIxYnFrYm5yL3BwcDJwcHAvMm41LzFCMXBQMy80UDMvOC9QUFBQMlBQL1JOQlFLMU5SIGIgS1FrcSAtIDIgNFxuICAgICAqIDQuIC4uLiBOZ2U3IGlzIG92ZXJseSBkaXNhbWJpZ3VhdGVkIGJlY2F1c2UgdGhlIGtuaWdodCBvbiBjNiBpcyBwaW5uZWRcbiAgICAgKiA0LiAuLi4gTmU3IGlzIHRlY2huaWNhbGx5IHRoZSB2YWxpZCBTQU5cbiAgICAgKi9cbiAgICBfbW92ZVRvU2FuKG1vdmUsIG1vdmVzKSB7XG4gICAgICAgIGxldCBvdXRwdXQgPSAnJztcbiAgICAgICAgaWYgKG1vdmUuZmxhZ3MgJiBCSVRTLktTSURFX0NBU1RMRSkge1xuICAgICAgICAgICAgb3V0cHV0ID0gJ08tTyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW92ZS5mbGFncyAmIEJJVFMuUVNJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSAnTy1PLU8nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1vdmUucGllY2UgIT09IFBBV04pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXNhbWJpZ3VhdG9yID0gZ2V0RGlzYW1iaWd1YXRvcihtb3ZlLCBtb3Zlcyk7XG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9IG1vdmUucGllY2UudG9VcHBlckNhc2UoKSArIGRpc2FtYmlndWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW92ZS5mbGFncyAmIChCSVRTLkNBUFRVUkUgfCBCSVRTLkVQX0NBUFRVUkUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmUucGllY2UgPT09IFBBV04pIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ICs9IGFsZ2VicmFpYyhtb3ZlLmZyb20pWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJ3gnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0cHV0ICs9IGFsZ2VicmFpYyhtb3ZlLnRvKTtcbiAgICAgICAgICAgIGlmIChtb3ZlLnByb21vdGlvbikge1xuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPScgKyBtb3ZlLnByb21vdGlvbi50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21ha2VNb3ZlKG1vdmUpO1xuICAgICAgICBpZiAodGhpcy5pc0NoZWNrKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2hlY2ttYXRlKCkpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJyMnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICcrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91bmRvTW92ZSgpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICAvLyBjb252ZXJ0IGEgbW92ZSBmcm9tIFN0YW5kYXJkIEFsZ2VicmFpYyBOb3RhdGlvbiAoU0FOKSB0byAweDg4IGNvb3JkaW5hdGVzXG4gICAgX21vdmVGcm9tU2FuKG1vdmUsIHN0cmljdCA9IGZhbHNlKSB7XG4gICAgICAgIC8vIHN0cmlwIG9mZiBhbnkgbW92ZSBkZWNvcmF0aW9uczogZS5nIE5mMys/ISBiZWNvbWVzIE5mM1xuICAgICAgICBjb25zdCBjbGVhbk1vdmUgPSBzdHJpcHBlZFNhbihtb3ZlKTtcbiAgICAgICAgbGV0IHBpZWNlVHlwZSA9IGluZmVyUGllY2VUeXBlKGNsZWFuTW92ZSk7XG4gICAgICAgIGxldCBtb3ZlcyA9IHRoaXMuX21vdmVzKHsgbGVnYWw6IHRydWUsIHBpZWNlOiBwaWVjZVR5cGUgfSk7XG4gICAgICAgIC8vIHN0cmljdCBwYXJzZXJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG1vdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY2xlYW5Nb3ZlID09PSBzdHJpcHBlZFNhbih0aGlzLl9tb3ZlVG9TYW4obW92ZXNbaV0sIG1vdmVzKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW92ZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIHN0cmljdCBwYXJzZXIgZmFpbGVkXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwaWVjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IG1hdGNoZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBmcm9tID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgdG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwcm9tb3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHBlcm1pc3NpdmUgKG5vbi1zdHJpY3QpIHBhcnNlciBhbGxvd3MgdGhlIHVzZXIgdG8gcGFyc2VcbiAgICAgICAgICogbm9uLXN0YW5kYXJkIGNoZXNzIG5vdGF0aW9ucy4gVGhpcyBwYXJzZXIgaXMgb25seSBydW4gYWZ0ZXIgdGhlIHN0cmljdFxuICAgICAgICAgKiBTdGFuZGFyZCBBbGdlYnJhaWMgTm90YXRpb24gKFNBTikgcGFyc2VyIGhhcyBmYWlsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gcnVubmluZyB0aGUgcGVybWlzc2l2ZSBwYXJzZXIsIHdlJ2xsIHJ1biBhIHJlZ2V4IHRvIGdyYWIgdGhlIHBpZWNlLCB0aGVcbiAgICAgICAgICogdG8vZnJvbSBzcXVhcmUsIGFuZCBhbiBvcHRpb25hbCBwcm9tb3Rpb24gcGllY2UuIFRoaXMgcmVnZXggd2lsbFxuICAgICAgICAgKiBwYXJzZSBjb21tb24gbm9uLXN0YW5kYXJkIG5vdGF0aW9uIGxpa2U6IFBlMi1lNCwgUmMxYzQsIFFmM3hmNyxcbiAgICAgICAgICogZjdmOHEsIGIxYzNcbiAgICAgICAgICpcbiAgICAgICAgICogTk9URTogU29tZSBwb3NpdGlvbnMgYW5kIG1vdmVzIG1heSBiZSBhbWJpZ3VvdXMgd2hlbiB1c2luZyB0aGUgcGVybWlzc2l2ZVxuICAgICAgICAgKiBwYXJzZXIuIEZvciBleGFtcGxlLCBpbiB0aGlzIHBvc2l0aW9uOiA2azEvOC84L0I3LzgvOC84L0JONEsxIHcgLSAtIDAgMSxcbiAgICAgICAgICogdGhlIG1vdmUgYjFjMyBtYXkgYmUgaW50ZXJwcmV0ZWQgYXMgTmMzIG9yIEIxYzMgKGEgZGlzYW1iaWd1YXRlZCBiaXNob3BcbiAgICAgICAgICogbW92ZSkuIEluIHRoZXNlIGNhc2VzLCB0aGUgcGVybWlzc2l2ZSBwYXJzZXIgd2lsbCBkZWZhdWx0IHRvIHRoZSBtb3N0XG4gICAgICAgICAqIGJhc2ljIGludGVycHJldGF0aW9uICh3aGljaCBpcyBiMWMzIHBhcnNpbmcgdG8gTmMzKS5cbiAgICAgICAgICovXG4gICAgICAgIGxldCBvdmVybHlEaXNhbWJpZ3VhdGVkID0gZmFsc2U7XG4gICAgICAgIG1hdGNoZXMgPSBjbGVhbk1vdmUubWF0Y2goLyhbcG5icnFrUE5CUlFLXSk/KFthLWhdWzEtOF0peD8tPyhbYS1oXVsxLThdKShbcXJiblFSQk5dKT8vKTtcbiAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAgIHBpZWNlID0gbWF0Y2hlc1sxXTtcbiAgICAgICAgICAgIGZyb20gPSBtYXRjaGVzWzJdO1xuICAgICAgICAgICAgdG8gPSBtYXRjaGVzWzNdO1xuICAgICAgICAgICAgcHJvbW90aW9uID0gbWF0Y2hlc1s0XTtcbiAgICAgICAgICAgIGlmIChmcm9tLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgb3Zlcmx5RGlzYW1iaWd1YXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogVGhlIFthLWhdP1sxLThdPyBwb3J0aW9uIG9mIHRoZSByZWdleCBiZWxvdyBoYW5kbGVzIG1vdmVzIHRoYXQgbWF5IGJlXG4gICAgICAgICAgICAgKiBvdmVybHkgZGlzYW1iaWd1YXRlZCAoZS5nLiBOZ2U3IGlzIHVubmVjZXNzYXJ5IGFuZCBub24tc3RhbmRhcmQgd2hlblxuICAgICAgICAgICAgICogdGhlcmUgaXMgb25lIGxlZ2FsIGtuaWdodCBtb3ZlIHRvIGU3KS4gSW4gdGhpcyBjYXNlLCB0aGUgdmFsdWUgb2ZcbiAgICAgICAgICAgICAqICdmcm9tJyB2YXJpYWJsZSB3aWxsIGJlIGEgcmFuayBvciBmaWxlLCBub3QgYSBzcXVhcmUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG1hdGNoZXMgPSBjbGVhbk1vdmUubWF0Y2goLyhbcG5icnFrUE5CUlFLXSk/KFthLWhdP1sxLThdPyl4Py0/KFthLWhdWzEtOF0pKFtxcmJuUVJCTl0pPy8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICBwaWVjZSA9IG1hdGNoZXNbMV07XG4gICAgICAgICAgICAgICAgZnJvbSA9IG1hdGNoZXNbMl07XG4gICAgICAgICAgICAgICAgdG8gPSBtYXRjaGVzWzNdO1xuICAgICAgICAgICAgICAgIHByb21vdGlvbiA9IG1hdGNoZXNbNF07XG4gICAgICAgICAgICAgICAgaWYgKGZyb20ubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgb3Zlcmx5RGlzYW1iaWd1YXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBpZWNlVHlwZSA9IGluZmVyUGllY2VUeXBlKGNsZWFuTW92ZSk7XG4gICAgICAgIG1vdmVzID0gdGhpcy5fbW92ZXMoe1xuICAgICAgICAgICAgbGVnYWw6IHRydWUsXG4gICAgICAgICAgICBwaWVjZTogcGllY2UgPyBwaWVjZSA6IHBpZWNlVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdG8pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBtb3Zlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKCFmcm9tKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZnJvbSBzcXVhcmUsIGl0IGNvdWxkIGJlIGp1c3QgJ3gnIG1pc3NpbmcgZnJvbSBhIGNhcHR1cmVcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW5Nb3ZlID09PVxuICAgICAgICAgICAgICAgICAgICBzdHJpcHBlZFNhbih0aGlzLl9tb3ZlVG9TYW4obW92ZXNbaV0sIG1vdmVzKSkucmVwbGFjZSgneCcsICcnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW92ZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGhhbmQtY29tcGFyZSBtb3ZlIHByb3BlcnRpZXMgd2l0aCB0aGUgcmVzdWx0cyBmcm9tIG91ciBwZXJtaXNzaXZlIHJlZ2V4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgoIXBpZWNlIHx8IHBpZWNlLnRvTG93ZXJDYXNlKCkgPT0gbW92ZXNbaV0ucGllY2UpICYmXG4gICAgICAgICAgICAgICAgT3g4OFtmcm9tXSA9PSBtb3Zlc1tpXS5mcm9tICYmXG4gICAgICAgICAgICAgICAgT3g4OFt0b10gPT0gbW92ZXNbaV0udG8gJiZcbiAgICAgICAgICAgICAgICAoIXByb21vdGlvbiB8fCBwcm9tb3Rpb24udG9Mb3dlckNhc2UoKSA9PSBtb3Zlc1tpXS5wcm9tb3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdmVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3Zlcmx5RGlzYW1iaWd1YXRlZCkge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogU1BFQ0lBTCBDQVNFOiB3ZSBwYXJzZWQgYSBtb3ZlIHN0cmluZyB0aGF0IG1heSBoYXZlIGFuIHVubmVlZGVkXG4gICAgICAgICAgICAgICAgICogcmFuay9maWxlIGRpc2FtYmlndWF0b3IgKGUuZy4gTmdlNykuICBUaGUgJ2Zyb20nIHZhcmlhYmxlIHdpbGxcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBzcXVhcmUgPSBhbGdlYnJhaWMobW92ZXNbaV0uZnJvbSk7XG4gICAgICAgICAgICAgICAgaWYgKCghcGllY2UgfHwgcGllY2UudG9Mb3dlckNhc2UoKSA9PSBtb3Zlc1tpXS5waWVjZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgT3g4OFt0b10gPT0gbW92ZXNbaV0udG8gJiZcbiAgICAgICAgICAgICAgICAgICAgKGZyb20gPT0gc3F1YXJlWzBdIHx8IGZyb20gPT0gc3F1YXJlWzFdKSAmJlxuICAgICAgICAgICAgICAgICAgICAoIXByb21vdGlvbiB8fCBwcm9tb3Rpb24udG9Mb3dlckNhc2UoKSA9PSBtb3Zlc1tpXS5wcm9tb3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3Zlc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGFzY2lpKCkge1xuICAgICAgICBsZXQgcyA9ICcgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xcbic7XG4gICAgICAgIGZvciAobGV0IGkgPSBPeDg4LmE4OyBpIDw9IE94ODguaDE7IGkrKykge1xuICAgICAgICAgICAgLy8gZGlzcGxheSB0aGUgcmFua1xuICAgICAgICAgICAgaWYgKGZpbGUoaSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzICs9ICcgJyArICc4NzY1NDMyMSdbcmFuayhpKV0gKyAnIHwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2JvYXJkW2ldKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSB0aGlzLl9ib2FyZFtpXS50eXBlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5fYm9hcmRbaV0uY29sb3I7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gY29sb3IgPT09IFdISVRFID8gcGllY2UudG9VcHBlckNhc2UoKSA6IHBpZWNlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgcyArPSAnICcgKyBzeW1ib2wgKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzICs9ICcgLiAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChpICsgMSkgJiAweDg4KSB7XG4gICAgICAgICAgICAgICAgcyArPSAnfFxcbic7XG4gICAgICAgICAgICAgICAgaSArPSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHMgKz0gJyAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXFxuJztcbiAgICAgICAgcyArPSAnICAgICBhICBiICBjICBkICBlICBmICBnICBoJztcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICAgIHBlcmZ0KGRlcHRoKSB7XG4gICAgICAgIGNvbnN0IG1vdmVzID0gdGhpcy5fbW92ZXMoeyBsZWdhbDogZmFsc2UgfSk7XG4gICAgICAgIGxldCBub2RlcyA9IDA7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5fdHVybjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG1vdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYWtlTW92ZShtb3Zlc1tpXSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzS2luZ0F0dGFja2VkKGNvbG9yKSkge1xuICAgICAgICAgICAgICAgIGlmIChkZXB0aCAtIDEgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzICs9IHRoaXMucGVyZnQoZGVwdGggLSAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdW5kb01vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgfVxuICAgIC8vIHByZXR0eSA9IGV4dGVybmFsIG1vdmUgb2JqZWN0XG4gICAgX21ha2VQcmV0dHkodWdseU1vdmUpIHtcbiAgICAgICAgY29uc3QgeyBjb2xvciwgcGllY2UsIGZyb20sIHRvLCBmbGFncywgY2FwdHVyZWQsIHByb21vdGlvbiB9ID0gdWdseU1vdmU7XG4gICAgICAgIGxldCBwcmV0dHlGbGFncyA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IGZsYWcgaW4gQklUUykge1xuICAgICAgICAgICAgaWYgKEJJVFNbZmxhZ10gJiBmbGFncykge1xuICAgICAgICAgICAgICAgIHByZXR0eUZsYWdzICs9IEZMQUdTW2ZsYWddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZyb21BbGdlYnJhaWMgPSBhbGdlYnJhaWMoZnJvbSk7XG4gICAgICAgIGNvbnN0IHRvQWxnZWJyYWljID0gYWxnZWJyYWljKHRvKTtcbiAgICAgICAgY29uc3QgbW92ZSA9IHtcbiAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgcGllY2UsXG4gICAgICAgICAgICBmcm9tOiBmcm9tQWxnZWJyYWljLFxuICAgICAgICAgICAgdG86IHRvQWxnZWJyYWljLFxuICAgICAgICAgICAgc2FuOiB0aGlzLl9tb3ZlVG9TYW4odWdseU1vdmUsIHRoaXMuX21vdmVzKHsgbGVnYWw6IHRydWUgfSkpLFxuICAgICAgICAgICAgZmxhZ3M6IHByZXR0eUZsYWdzLFxuICAgICAgICAgICAgbGFuOiBmcm9tQWxnZWJyYWljICsgdG9BbGdlYnJhaWMsXG4gICAgICAgICAgICBiZWZvcmU6IHRoaXMuZmVuKCksXG4gICAgICAgICAgICBhZnRlcjogJycsXG4gICAgICAgIH07XG4gICAgICAgIC8vIGdlbmVyYXRlIHRoZSBGRU4gZm9yIHRoZSAnYWZ0ZXInIGtleVxuICAgICAgICB0aGlzLl9tYWtlTW92ZSh1Z2x5TW92ZSk7XG4gICAgICAgIG1vdmUuYWZ0ZXIgPSB0aGlzLmZlbigpO1xuICAgICAgICB0aGlzLl91bmRvTW92ZSgpO1xuICAgICAgICBpZiAoY2FwdHVyZWQpIHtcbiAgICAgICAgICAgIG1vdmUuY2FwdHVyZWQgPSBjYXB0dXJlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbW90aW9uKSB7XG4gICAgICAgICAgICBtb3ZlLnByb21vdGlvbiA9IHByb21vdGlvbjtcbiAgICAgICAgICAgIG1vdmUubGFuICs9IHByb21vdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW92ZTtcbiAgICB9XG4gICAgdHVybigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R1cm47XG4gICAgfVxuICAgIGJvYXJkKCkge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgICAgICAgbGV0IHJvdyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gT3g4OC5hODsgaSA8PSBPeDg4LmgxOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9ib2FyZFtpXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcm93LnB1c2gobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByb3cucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZTogYWxnZWJyYWljKGkpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLl9ib2FyZFtpXS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5fYm9hcmRbaV0uY29sb3IsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGkgKyAxKSAmIDB4ODgpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgIHJvdyA9IFtdO1xuICAgICAgICAgICAgICAgIGkgKz0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICBzcXVhcmVDb2xvcihzcXVhcmUpIHtcbiAgICAgICAgaWYgKHNxdWFyZSBpbiBPeDg4KSB7XG4gICAgICAgICAgICBjb25zdCBzcSA9IE94ODhbc3F1YXJlXTtcbiAgICAgICAgICAgIHJldHVybiAocmFuayhzcSkgKyBmaWxlKHNxKSkgJSAyID09PSAwID8gJ2xpZ2h0JyA6ICdkYXJrJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaGlzdG9yeSh7IHZlcmJvc2UgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgcmV2ZXJzZWRIaXN0b3J5ID0gW107XG4gICAgICAgIGNvbnN0IG1vdmVIaXN0b3J5ID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLl9oaXN0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldmVyc2VkSGlzdG9yeS5wdXNoKHRoaXMuX3VuZG9Nb3ZlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBtb3ZlID0gcmV2ZXJzZWRIaXN0b3J5LnBvcCgpO1xuICAgICAgICAgICAgaWYgKCFtb3ZlKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmVyYm9zZSkge1xuICAgICAgICAgICAgICAgIG1vdmVIaXN0b3J5LnB1c2godGhpcy5fbWFrZVByZXR0eShtb3ZlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb3ZlSGlzdG9yeS5wdXNoKHRoaXMuX21vdmVUb1Nhbihtb3ZlLCB0aGlzLl9tb3ZlcygpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYWtlTW92ZShtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW92ZUhpc3Rvcnk7XG4gICAgfVxuICAgIF9wcnVuZUNvbW1lbnRzKCkge1xuICAgICAgICBjb25zdCByZXZlcnNlZEhpc3RvcnkgPSBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudENvbW1lbnRzID0ge307XG4gICAgICAgIGNvbnN0IGNvcHlDb21tZW50ID0gKGZlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGZlbiBpbiB0aGlzLl9jb21tZW50cykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDb21tZW50c1tmZW5dID0gdGhpcy5fY29tbWVudHNbZmVuXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2hpc3RvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV2ZXJzZWRIaXN0b3J5LnB1c2godGhpcy5fdW5kb01vdmUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29weUNvbW1lbnQodGhpcy5mZW4oKSk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBtb3ZlID0gcmV2ZXJzZWRIaXN0b3J5LnBvcCgpO1xuICAgICAgICAgICAgaWYgKCFtb3ZlKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYWtlTW92ZShtb3ZlKTtcbiAgICAgICAgICAgIGNvcHlDb21tZW50KHRoaXMuZmVuKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbW1lbnRzID0gY3VycmVudENvbW1lbnRzO1xuICAgIH1cbiAgICBnZXRDb21tZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tbWVudHNbdGhpcy5mZW4oKV07XG4gICAgfVxuICAgIHNldENvbW1lbnQoY29tbWVudCkge1xuICAgICAgICB0aGlzLl9jb21tZW50c1t0aGlzLmZlbigpXSA9IGNvbW1lbnQucmVwbGFjZSgneycsICdbJykucmVwbGFjZSgnfScsICddJyk7XG4gICAgfVxuICAgIGRlbGV0ZUNvbW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLl9jb21tZW50c1t0aGlzLmZlbigpXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2NvbW1lbnRzW3RoaXMuZmVuKCldO1xuICAgICAgICByZXR1cm4gY29tbWVudDtcbiAgICB9XG4gICAgZ2V0Q29tbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX3BydW5lQ29tbWVudHMoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2NvbW1lbnRzKS5tYXAoKGZlbikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgZmVuOiBmZW4sIGNvbW1lbnQ6IHRoaXMuX2NvbW1lbnRzW2Zlbl0gfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlbGV0ZUNvbW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9wcnVuZUNvbW1lbnRzKCk7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9jb21tZW50cykubWFwKChmZW4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLl9jb21tZW50c1tmZW5dO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NvbW1lbnRzW2Zlbl07XG4gICAgICAgICAgICByZXR1cm4geyBmZW46IGZlbiwgY29tbWVudDogY29tbWVudCB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0Q2FzdGxpbmdSaWdodHMoY29sb3IsIHJpZ2h0cykge1xuICAgICAgICBmb3IgKGNvbnN0IHNpZGUgb2YgW0tJTkcsIFFVRUVOXSkge1xuICAgICAgICAgICAgaWYgKHJpZ2h0c1tzaWRlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0c1tzaWRlXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYXN0bGluZ1tjb2xvcl0gfD0gU0lERVNbc2lkZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYXN0bGluZ1tjb2xvcl0gJj0gflNJREVTW3NpZGVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVDYXN0bGluZ1JpZ2h0cygpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmdldENhc3RsaW5nUmlnaHRzKGNvbG9yKTtcbiAgICAgICAgcmV0dXJuICgocmlnaHRzW0tJTkddID09PSB1bmRlZmluZWQgfHwgcmlnaHRzW0tJTkddID09PSByZXN1bHRbS0lOR10pICYmXG4gICAgICAgICAgICAocmlnaHRzW1FVRUVOXSA9PT0gdW5kZWZpbmVkIHx8IHJpZ2h0c1tRVUVFTl0gPT09IHJlc3VsdFtRVUVFTl0pKTtcbiAgICB9XG4gICAgZ2V0Q2FzdGxpbmdSaWdodHMoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtLSU5HXTogKHRoaXMuX2Nhc3RsaW5nW2NvbG9yXSAmIFNJREVTW0tJTkddKSAhPT0gMCxcbiAgICAgICAgICAgIFtRVUVFTl06ICh0aGlzLl9jYXN0bGluZ1tjb2xvcl0gJiBTSURFU1tRVUVFTl0pICE9PSAwLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBtb3ZlTnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW92ZU51bWJlcjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVzcy5qcy5tYXAiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSBuZXcgVVJMKFwiLi9hc3NldHMvaW1nL2JvYXJkcy9ncmVlbi5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5ib2FyZCB7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX199KTtcclxufVxyXG4uYm9hcmQgPiAuc3F1YXJlcyBkaXYge1xyXG4gICAgd2lkdGg6IDEyLjUlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBQaWVjZXMgd2lsbCBoYXZlIGFic29sdXRlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBzcXVhcmUgKi9cclxufVxyXG4uYm9hcmQgPiAuc3F1YXJlcyBkaXY6YWZ0ZXIge1xyXG4gICAgY29udGVudDogXCJcIjtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwMCU7IC8qIEVuc3VyZSB0aGF0IGhlaWdodCBvZiBzcXVhcmUgYWx3YXlzIGVxdWFscyB3aWR0aCBvZiBzcXVhcmUgKi9cclxufVxyXG4ucGxheWVye1xyXG4gICAgY29sdW1uLWNvdW50OjI7XHJcbn1cclxuLnBsYXllciAubmFtZXtcclxuICAgIGNsZWFyOmJvdGg7XHJcbiAgICBwYWRkaW5nLXRvcDoxcHg7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgIHBhZGRpbmctcmlnaHQ6NHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6NHZoO1xyXG59XHJcbi5wbGF5ZXIgLmNhcHR1cmVze1xyXG4gICAgZmxvYXQ6bGVmdDtcclxufVxyXG4ucGxheWVyIC5zY29yZXtcclxuICAgIGZsb2F0OmxlZnQ7XHJcbiAgICBtYXJnaW4tbGVmdDo1cHg7XHJcbiAgICBtYXJnaW4tdG9wOjZweDtcclxuICAgIGZvbnQtc2l6ZToxMHB0O1xyXG59XHJcbi5wbGF5ZXIgLmNhcHR1cmVzIC5waWVjZXtcclxuICAgIHBvc2l0aW9uOnN0YXRpYztcclxuICAgIGhlaWdodDo0dmg7XHJcbiAgICB3aWR0aDo0dmg7XHJcbiAgICB0cmFuc2Zvcm06bm9uZTtcclxuICAgIG1hcmdpbi10b3A6MDtcclxuICAgIG1hcmdpbi1ib3R0b206LTExcHg7XHJcbn1cclxuLnBsYXllci53aGl0ZSAuY2FwdHVyZXMgc3BhbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6cmdiKDgyLDgyLDgyKTtcclxuICAgIHBhZGRpbmctYm90dG9tOiA3cHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLnAgLnBpZWNlOmZpcnN0LWNoaWxke1xyXG4gICAgcGFkZGluZy1sZWZ0OjRweDtcclxufVxyXG4ucGxheWVyIC5jYXB0dXJlcyAucCAucGllY2V7XHJcbiAgICBtYXJnaW4tbGVmdDotOHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0Oi01cHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLm4gLnBpZWNle1xyXG4gICAgbWFyZ2luLWxlZnQ6IC02cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IC0zcHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLmIgLnBpZWNle1xyXG4gICAgbWFyZ2luLWxlZnQ6IC01cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IC0ycHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLnIgLnBpZWNle1xyXG4gICAgbWFyZ2luLWxlZnQ6IC02cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IC01cHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLnEgLnBpZWNle1xyXG4gICAgbWFyZ2luLWJvdHRvbTotMTBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAtMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAwcHg7XHJcbn1cclxuLnBpZWNlIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6MjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgb3BhY2l0eTogMTtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgbGVmdDogNTAlO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbn1cclxuLmJvYXJkID4gLnNxdWFyZXMgZGl2LnNvdXJjZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDUxLCAwLjMpO1xyXG59XHJcbi5ib2FyZCA+IC5zcXVhcmVzIGRpdi50YXJnZXQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCA1MSwgMC40KTtcclxufVxyXG4uYm9hcmQgPiAuc3F1YXJlcyBkaXYucmlnaHQtY2xpY2tlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjM1LCA5NywgODAsIDAuOCk7XHJcbn1cclxuLmJvYXJkIC5waWVjZS5hbGxvdy1kcmFnIHtcclxuICAgIGN1cnNvcjpncmFiO1xyXG59XHJcbi5ib2FyZCAucGllY2UuZHJhZ2dpbmcge1xyXG4gICAgei1pbmRleDogMTAwMDtcclxuICAgIGN1cnNvcjpwb2ludGVyO1xyXG59XHJcbi5jbGVhcmVye1xyXG4gICAgZGlzcGxheTpibG9jaztcclxuICAgIGNsZWFyOmJvdGg7XHJcbiAgICBsaW5lLWhlaWdodDowO1xyXG4gICAgaGVpZ2h0OjA7XHJcbiAgICBwYWRkaW5nOjA7XHJcbiAgICBtYXJnaW46MDtcclxufVxyXG4uYm9hcmQgLnNxdWFyZXMgZGl2IC5yZXN1bHR7XHJcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6MTAuMDAwO1xyXG59XHJcbi5ib2FyZCAuc3F1YXJlcyBkaXYgLnJlc3VsdC53aW57XHJcbiAgICByaWdodDogMDtcclxuICAgIHdpZHRoOjM0JTtcclxuICAgIGhlaWdodDozNCU7XHJcbn1cclxuLmJvYXJkIC5zcXVhcmUgZGl2IC5yZXN1bHQubG9vc2V7XHJcbiAgICB0b3A6LTIlO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICB3aWR0aDozMiU7XHJcbiAgICBoZWlnaHQ6MzQlcHg7XHJcbn1cclxuLmJvYXJkLXN2Z3tcclxuICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgei1pbmRleDoxO1xyXG59XHJcbi5ib2FyZC1zdmcgLmFycm93e1xyXG4gICAgZmlsbDpyZ2JhKDI1NSwgMTcwLCAwLCAwLjgpO1xyXG4gICAgc3Ryb2tlLXdpZHRoOjA7XHJcbn1cclxuLmJvYXJkLXN2ZyAuYXJyb3c6aG92ZXJ7XHJcbiAgICBmaWxsOnJlZDtcclxuICAgIHN0cm9rZS13aWR0aDowO1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY29tcG9uZW50cy9jaGVzcy9jaGVzc2JvYXJkLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQix3QkFBd0I7SUFDeEIsNEJBQTRCO0lBQzVCLGtCQUFrQjtJQUNsQix5REFBc0Q7QUFDMUQ7QUFDQTtJQUNJLFlBQVk7SUFDWixXQUFXO0lBQ1gsVUFBVTtJQUNWLGtCQUFrQixFQUFFLDhEQUE4RDtBQUN0RjtBQUNBO0lBQ0ksV0FBVztJQUNYLGNBQWM7SUFDZCxvQkFBb0IsRUFBRSwrREFBK0Q7QUFDekY7QUFDQTtJQUNJLGNBQWM7QUFDbEI7QUFDQTtJQUNJLFVBQVU7SUFDVixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGlCQUFpQjtJQUNqQixlQUFlO0FBQ25CO0FBQ0E7SUFDSSxVQUFVO0FBQ2Q7QUFDQTtJQUNJLFVBQVU7SUFDVixlQUFlO0lBQ2YsY0FBYztJQUNkLGNBQWM7QUFDbEI7QUFDQTtJQUNJLGVBQWU7SUFDZixVQUFVO0lBQ1YsU0FBUztJQUNULGNBQWM7SUFDZCxZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSw4QkFBOEI7SUFDOUIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLGdCQUFnQjtJQUNoQixpQkFBaUI7QUFDckI7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFdBQVc7SUFDWCxZQUFZO0lBQ1osVUFBVTtJQUNWLFFBQVE7SUFDUixTQUFTO0lBQ1QsZ0NBQWdDO0FBQ3BDO0FBQ0E7SUFDSSx3Q0FBd0M7QUFDNUM7QUFDQTtJQUNJLHdDQUF3QztBQUM1QztBQUNBO0lBQ0ksdUNBQXVDO0FBQzNDO0FBQ0E7SUFDSSxXQUFXO0FBQ2Y7QUFDQTtJQUNJLGFBQWE7SUFDYixjQUFjO0FBQ2xCO0FBQ0E7SUFDSSxhQUFhO0lBQ2IsVUFBVTtJQUNWLGFBQWE7SUFDYixRQUFRO0lBQ1IsU0FBUztJQUNULFFBQVE7QUFDWjtBQUNBO0lBQ0ksaUJBQWlCO0lBQ2pCLGNBQWM7QUFDbEI7QUFDQTtJQUNJLFFBQVE7SUFDUixTQUFTO0lBQ1QsVUFBVTtBQUNkO0FBQ0E7SUFDSSxPQUFPO0lBQ1AsUUFBUTtJQUNSLFNBQVM7SUFDVCxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxpQkFBaUI7SUFDakIsU0FBUztBQUNiO0FBQ0E7SUFDSSwyQkFBMkI7SUFDM0IsY0FBYztBQUNsQjtBQUNBO0lBQ0ksUUFBUTtJQUNSLGNBQWM7QUFDbEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmJvYXJkIHtcXHJcXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcXHJcXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xcclxcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiLi9hc3NldHMvaW1nL2JvYXJkcy9ncmVlbi5wbmdcXFwiKTtcXHJcXG59XFxyXFxuLmJvYXJkID4gLnNxdWFyZXMgZGl2IHtcXHJcXG4gICAgd2lkdGg6IDEyLjUlO1xcclxcbiAgICBmbG9hdDogbGVmdDtcXHJcXG4gICAgcGFkZGluZzogMDtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBQaWVjZXMgd2lsbCBoYXZlIGFic29sdXRlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBzcXVhcmUgKi9cXHJcXG59XFxyXFxuLmJvYXJkID4gLnNxdWFyZXMgZGl2OmFmdGVyIHtcXHJcXG4gICAgY29udGVudDogXFxcIlxcXCI7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBwYWRkaW5nLWJvdHRvbTogMTAwJTsgLyogRW5zdXJlIHRoYXQgaGVpZ2h0IG9mIHNxdWFyZSBhbHdheXMgZXF1YWxzIHdpZHRoIG9mIHNxdWFyZSAqL1xcclxcbn1cXHJcXG4ucGxheWVye1xcclxcbiAgICBjb2x1bW4tY291bnQ6MjtcXHJcXG59XFxyXFxuLnBsYXllciAubmFtZXtcXHJcXG4gICAgY2xlYXI6Ym90aDtcXHJcXG4gICAgcGFkZGluZy10b3A6MXB4O1xcclxcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcXHJcXG4gICAgcGFkZGluZy1yaWdodDo0cHg7XFxyXFxuICAgIGxpbmUtaGVpZ2h0OjR2aDtcXHJcXG59XFxyXFxuLnBsYXllciAuY2FwdHVyZXN7XFxyXFxuICAgIGZsb2F0OmxlZnQ7XFxyXFxufVxcclxcbi5wbGF5ZXIgLnNjb3Jle1xcclxcbiAgICBmbG9hdDpsZWZ0O1xcclxcbiAgICBtYXJnaW4tbGVmdDo1cHg7XFxyXFxuICAgIG1hcmdpbi10b3A6NnB4O1xcclxcbiAgICBmb250LXNpemU6MTBwdDtcXHJcXG59XFxyXFxuLnBsYXllciAuY2FwdHVyZXMgLnBpZWNle1xcclxcbiAgICBwb3NpdGlvbjpzdGF0aWM7XFxyXFxuICAgIGhlaWdodDo0dmg7XFxyXFxuICAgIHdpZHRoOjR2aDtcXHJcXG4gICAgdHJhbnNmb3JtOm5vbmU7XFxyXFxuICAgIG1hcmdpbi10b3A6MDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTotMTFweDtcXHJcXG59XFxyXFxuLnBsYXllci53aGl0ZSAuY2FwdHVyZXMgc3BhbntcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjpyZ2IoODIsODIsODIpO1xcclxcbiAgICBwYWRkaW5nLWJvdHRvbTogN3B4O1xcclxcbn1cXHJcXG4ucGxheWVyIC5jYXB0dXJlcyAucCAucGllY2U6Zmlyc3QtY2hpbGR7XFxyXFxuICAgIHBhZGRpbmctbGVmdDo0cHg7XFxyXFxufVxcclxcbi5wbGF5ZXIgLmNhcHR1cmVzIC5wIC5waWVjZXtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6LThweDtcXHJcXG4gICAgbWFyZ2luLXJpZ2h0Oi01cHg7XFxyXFxufVxcclxcbi5wbGF5ZXIgLmNhcHR1cmVzIC5uIC5waWVjZXtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6IC02cHg7XFxyXFxuICAgIG1hcmdpbi1yaWdodDogLTNweDtcXHJcXG59XFxyXFxuLnBsYXllciAuY2FwdHVyZXMgLmIgLnBpZWNle1xcclxcbiAgICBtYXJnaW4tbGVmdDogLTVweDtcXHJcXG4gICAgbWFyZ2luLXJpZ2h0OiAtMnB4O1xcclxcbn1cXHJcXG4ucGxheWVyIC5jYXB0dXJlcyAuciAucGllY2V7XFxyXFxuICAgIG1hcmdpbi1sZWZ0OiAtNnB4O1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6IC01cHg7XFxyXFxufVxcclxcbi5wbGF5ZXIgLmNhcHR1cmVzIC5xIC5waWVjZXtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTotMTBweDtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6IC0ycHg7XFxyXFxuICAgIG1hcmdpbi1yaWdodDogMHB4O1xcclxcbn1cXHJcXG4ucGllY2Uge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHotaW5kZXg6MjtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG4gICAgdG9wOiA1MCU7XFxyXFxuICAgIGxlZnQ6IDUwJTtcXHJcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxyXFxufVxcclxcbi5ib2FyZCA+IC5zcXVhcmVzIGRpdi5zb3VyY2Uge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDUxLCAwLjMpO1xcclxcbn1cXHJcXG4uYm9hcmQgPiAuc3F1YXJlcyBkaXYudGFyZ2V0IHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCA1MSwgMC40KTtcXHJcXG59XFxyXFxuLmJvYXJkID4gLnNxdWFyZXMgZGl2LnJpZ2h0LWNsaWNrZWQge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjM1LCA5NywgODAsIDAuOCk7XFxyXFxufVxcclxcbi5ib2FyZCAucGllY2UuYWxsb3ctZHJhZyB7XFxyXFxuICAgIGN1cnNvcjpncmFiO1xcclxcbn1cXHJcXG4uYm9hcmQgLnBpZWNlLmRyYWdnaW5nIHtcXHJcXG4gICAgei1pbmRleDogMTAwMDtcXHJcXG4gICAgY3Vyc29yOnBvaW50ZXI7XFxyXFxufVxcclxcbi5jbGVhcmVye1xcclxcbiAgICBkaXNwbGF5OmJsb2NrO1xcclxcbiAgICBjbGVhcjpib3RoO1xcclxcbiAgICBsaW5lLWhlaWdodDowO1xcclxcbiAgICBoZWlnaHQ6MDtcXHJcXG4gICAgcGFkZGluZzowO1xcclxcbiAgICBtYXJnaW46MDtcXHJcXG59XFxyXFxuLmJvYXJkIC5zcXVhcmVzIGRpdiAucmVzdWx0e1xcclxcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcXHJcXG4gICAgei1pbmRleDoxMC4wMDA7XFxyXFxufVxcclxcbi5ib2FyZCAuc3F1YXJlcyBkaXYgLnJlc3VsdC53aW57XFxyXFxuICAgIHJpZ2h0OiAwO1xcclxcbiAgICB3aWR0aDozNCU7XFxyXFxuICAgIGhlaWdodDozNCU7XFxyXFxufVxcclxcbi5ib2FyZCAuc3F1YXJlIGRpdiAucmVzdWx0Lmxvb3Nle1xcclxcbiAgICB0b3A6LTIlO1xcclxcbiAgICByaWdodDogMDtcXHJcXG4gICAgd2lkdGg6MzIlO1xcclxcbiAgICBoZWlnaHQ6MzQlcHg7XFxyXFxufVxcclxcbi5ib2FyZC1zdmd7XFxyXFxuICAgIHBvc2l0aW9uOmFic29sdXRlO1xcclxcbiAgICB6LWluZGV4OjE7XFxyXFxufVxcclxcbi5ib2FyZC1zdmcgLmFycm93e1xcclxcbiAgICBmaWxsOnJnYmEoMjU1LCAxNzAsIDAsIDAuOCk7XFxyXFxuICAgIHN0cm9rZS13aWR0aDowO1xcclxcbn1cXHJcXG4uYm9hcmQtc3ZnIC5hcnJvdzpob3ZlcntcXHJcXG4gICAgZmlsbDpyZWQ7XFxyXFxuICAgIHN0cm9rZS13aWR0aDowO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYCNtZW51e2hlaWdodDoxMDB2aDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozMjBweDt9XHJcbiNtZW51ID4gLnRvcHtcclxuICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgaGVpZ2h0OjgwcHg7XHJcbiAgICBsZWZ0OjA7XHJcbiAgICByaWdodDowO1xyXG59XHJcbiNtZW51IGlucHV0W3R5cGU9XCJmaWxlXCJdIHsgZGlzcGxheTogbm9uZTt9XHJcbiNtZW51IC5jdXN0b20tZmlsZS11cGxvYWQge1xyXG4gICAgbWFyZ2luLXRvcDoyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czo4cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgbWFyZ2luLWxlZnQ6MTBweDtcclxufVxyXG4jbWVudSA+IC5pdGVtc3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6NjVweDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtib3JkZXItcmFkaXVzOjJweDtiYWNrZ3JvdW5kLWNvbG9yOnJnYig1NCw1NCw1NCk7b3ZlcmZsb3c6aGlkZGVuO292ZXJmbG93LXk6c2Nyb2xsO3Njcm9sbGJhci1jb2xvcjpyZ2IoNjcsNjcsNjcpIHJnYig1Nyw1Nyw1Nyk7fVxyXG4jbWVudSA+IC5pdGVtcyA+IGRpdnttYXJnaW46MnB4IDRweCAycHggMTBweDtwYWRkaW5nOjVweCA4cHg7Ym9yZGVyLXJhZGl1czo4cHg7Y3Vyc29yOnBvaW50ZXI7fVxyXG4jbWVudSA+IC5pdGVtcyA+IGRpdi5hY3RpdmV7b3V0bGluZToxcHggc29saWQgcmdiKDk4LCA5OCwgOTgpO2JhY2tncm91bmQtY29sb3I6cmdiKDYyLDYyLDYyKX1cclxuI21lbnUgPiAuaXRlbXMgPiBkaXY6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2IoNjIsIDYyLCA2Mil9XHJcbi5tYWlue21hcmdpbi1sZWZ0OjMyMHB4O31cclxuLm1haW4gPiAubGVmdCB7ZmxvYXQ6bGVmdDt3aWR0aDo0OSU7bWFyZ2luLXRvcDo1NXB4O31cclxuLm1haW4gPiAubGVmdCA+IC5wYWRkaW5ne3BhZGRpbmc6MTBweCA1JTt9XHJcbi5tYWluID4gLnJpZ2h0e3dpZHRoOjUwJTtmbG9hdDpsZWZ0O21hcmdpbi10b3A6OTFweDtoZWlnaHQ6MjAwcHg7fVxyXG4ubWFpbiA+IC5yaWdodCA+ICNhdXRvcGxheSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgZGlzcGxheTpub25lO1xyXG59XHJcbi5tYWluID4gLnJpZ2h0ID4gI2F1dG9wbGF5ID4gaW1ne1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtcclxuICAgIHBhZGRpbmc6NHB4IDhweDtcclxuICAgIGJvcmRlci1yYWRpdXM6NHB4O1xyXG4gICAgY3Vyc29yOnBvaW50ZXI7XHJcbn1cclxuLm1haW4gPiAucmlnaHQgPiAjYXV0b3BsYXkgPiBpbWc6aG92ZXJ7XHJcbiAgICBvdXRsaW5lOjJweCBzb2xpZCAjRkMwO1xyXG59XHJcbi5tYWluID4gLnJpZ2h0ID4gI2F1dG9wbGF5ID4gaW1nLmRpc2FibGVke1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjpncmV5O1xyXG4gICAgb3V0bGluZTpub25lO1xyXG59XHJcbi5tYWluID4gLnJpZ2h0ID4gI2xvZ3twYWRkaW5nOjA7bGluZS1oZWlnaHQ6MjJweDt9XHJcbi5tYWluID4gLnJpZ2h0ID4gI2xvZyA+IHNwYW57Y3Vyc29yOnBvaW50ZXI7fVxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc1MHB4KSB7XHJcbiAgICAubWFpbiA+IC5ib2FyZCB7ZmxvYXQ6bm9uZTt3aWR0aDoxMDAlO31cclxuICAgIC5tYWluID4gLnJpZ2h0e2Zsb2F0Om5vbmU7d2lkdGg6MTAwJTttYXJnaW4tdG9wOjA7fVxyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvcGFnZXMvaW5kZXgvaW5kZXguY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBLE1BQU0sWUFBWSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztBQUNqRDtJQUNJLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gsTUFBTTtJQUNOLE9BQU87QUFDWDtBQUNBLDJCQUEyQixhQUFhLENBQUM7QUFDekM7SUFDSSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLHNCQUFzQjtJQUN0QixxQkFBcUI7SUFDckIsWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7QUFDcEI7QUFDQSxlQUFlLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyw4QkFBOEIsQ0FBQyxlQUFlLENBQUMsaUJBQWlCLENBQUMsMkNBQTJDLENBQUM7QUFDak0scUJBQXFCLHVCQUF1QixDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUM7QUFDOUYsNEJBQTRCLGlDQUFpQyxDQUFDLDhCQUE4QjtBQUM1RiwyQkFBMkIsZ0NBQWdDO0FBQzNELE1BQU0saUJBQWlCLENBQUM7QUFDeEIsZUFBZSxVQUFVLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQztBQUNwRCx5QkFBeUIsZUFBZSxDQUFDO0FBQ3pDLGVBQWUsU0FBUyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDO0FBQ2pFO0lBQ0ksbUJBQW1CO0lBQ25CLFlBQVk7QUFDaEI7QUFDQTtJQUNJLHNCQUFzQjtJQUN0QixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGNBQWM7QUFDbEI7QUFDQTtJQUNJLHNCQUFzQjtBQUMxQjtBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLFlBQVk7QUFDaEI7QUFDQSxzQkFBc0IsU0FBUyxDQUFDLGdCQUFnQixDQUFDO0FBQ2pELDZCQUE2QixjQUFjLENBQUM7QUFDNUM7SUFDSSxnQkFBZ0IsVUFBVSxDQUFDLFVBQVUsQ0FBQztJQUN0QyxlQUFlLFVBQVUsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDO0FBQ3REXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIiNtZW51e2hlaWdodDoxMDB2aDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozMjBweDt9XFxyXFxuI21lbnUgPiAudG9we1xcclxcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcXHJcXG4gICAgaGVpZ2h0OjgwcHg7XFxyXFxuICAgIGxlZnQ6MDtcXHJcXG4gICAgcmlnaHQ6MDtcXHJcXG59XFxyXFxuI21lbnUgaW5wdXRbdHlwZT1cXFwiZmlsZVxcXCJdIHsgZGlzcGxheTogbm9uZTt9XFxyXFxuI21lbnUgLmN1c3RvbS1maWxlLXVwbG9hZCB7XFxyXFxuICAgIG1hcmdpbi10b3A6MjBweDtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czo4cHg7XFxyXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgcGFkZGluZzogOHB4O1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgIG1hcmdpbi1sZWZ0OjEwcHg7XFxyXFxufVxcclxcbiNtZW51ID4gLml0ZW1ze3Bvc2l0aW9uOmFic29sdXRlO3RvcDo2NXB4O2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQtY29sb3I6cmdiKDU0LDU0LDU0KTtvdmVyZmxvdzpoaWRkZW47b3ZlcmZsb3cteTpzY3JvbGw7c2Nyb2xsYmFyLWNvbG9yOnJnYig2Nyw2Nyw2NykgcmdiKDU3LDU3LDU3KTt9XFxyXFxuI21lbnUgPiAuaXRlbXMgPiBkaXZ7bWFyZ2luOjJweCA0cHggMnB4IDEwcHg7cGFkZGluZzo1cHggOHB4O2JvcmRlci1yYWRpdXM6OHB4O2N1cnNvcjpwb2ludGVyO31cXHJcXG4jbWVudSA+IC5pdGVtcyA+IGRpdi5hY3RpdmV7b3V0bGluZToxcHggc29saWQgcmdiKDk4LCA5OCwgOTgpO2JhY2tncm91bmQtY29sb3I6cmdiKDYyLDYyLDYyKX1cXHJcXG4jbWVudSA+IC5pdGVtcyA+IGRpdjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYig2MiwgNjIsIDYyKX1cXHJcXG4ubWFpbnttYXJnaW4tbGVmdDozMjBweDt9XFxyXFxuLm1haW4gPiAubGVmdCB7ZmxvYXQ6bGVmdDt3aWR0aDo0OSU7bWFyZ2luLXRvcDo1NXB4O31cXHJcXG4ubWFpbiA+IC5sZWZ0ID4gLnBhZGRpbmd7cGFkZGluZzoxMHB4IDUlO31cXHJcXG4ubWFpbiA+IC5yaWdodHt3aWR0aDo1MCU7ZmxvYXQ6bGVmdDttYXJnaW4tdG9wOjkxcHg7aGVpZ2h0OjIwMHB4O31cXHJcXG4ubWFpbiA+IC5yaWdodCA+ICNhdXRvcGxheSB7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxyXFxuICAgIGRpc3BsYXk6bm9uZTtcXHJcXG59XFxyXFxuLm1haW4gPiAucmlnaHQgPiAjYXV0b3BsYXkgPiBpbWd7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6d2hpdGU7XFxyXFxuICAgIHBhZGRpbmc6NHB4IDhweDtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czo0cHg7XFxyXFxuICAgIGN1cnNvcjpwb2ludGVyO1xcclxcbn1cXHJcXG4ubWFpbiA+IC5yaWdodCA+ICNhdXRvcGxheSA+IGltZzpob3ZlcntcXHJcXG4gICAgb3V0bGluZToycHggc29saWQgI0ZDMDtcXHJcXG59XFxyXFxuLm1haW4gPiAucmlnaHQgPiAjYXV0b3BsYXkgPiBpbWcuZGlzYWJsZWR7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6Z3JleTtcXHJcXG4gICAgb3V0bGluZTpub25lO1xcclxcbn1cXHJcXG4ubWFpbiA+IC5yaWdodCA+ICNsb2d7cGFkZGluZzowO2xpbmUtaGVpZ2h0OjIycHg7fVxcclxcbi5tYWluID4gLnJpZ2h0ID4gI2xvZyA+IHNwYW57Y3Vyc29yOnBvaW50ZXI7fVxcclxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzUwcHgpIHtcXHJcXG4gICAgLm1haW4gPiAuYm9hcmQge2Zsb2F0Om5vbmU7d2lkdGg6MTAwJTt9XFxyXFxuICAgIC5tYWluID4gLnJpZ2h0e2Zsb2F0Om5vbmU7d2lkdGg6MTAwJTttYXJnaW4tdG9wOjA7fVxcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYGJvZHl7cGFkZGluZzowO21hcmdpbjowO2JhY2tncm91bmQtY29sb3I6cmdiKDU3LDU3LDU3KTtjb2xvcjpyZ2IoMjQ1LCAyNDUsIDI0NSk7fWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3BhZ2VzL21hc3Rlci5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsS0FBSyxTQUFTLENBQUMsUUFBUSxDQUFDLDhCQUE4QixDQUFDLHdCQUF3QixDQUFDXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImJvZHl7cGFkZGluZzowO21hcmdpbjowO2JhY2tncm91bmQtY29sb3I6cmdiKDU3LDU3LDU3KTtjb2xvcjpyZ2IoMjQ1LCAyNDUsIDI0NSk7fVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICB1cmwgPSBTdHJpbmcodXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybCk7XG5cbiAgLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH1cblxuICAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gIC8vIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyN1cmxzXG4gIGlmICgvW1wiJygpIFxcdFxcbl18KCUyMCkvLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIiksIFwiXFxcIlwiKTtcbiAgfVxuICByZXR1cm4gdXJsO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9jaGVzc2JvYXJkLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY2hlc3Nib2FyZC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFzdGVyLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFzdGVyLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiaW1wb3J0IHsgQ2hlc3Nib2FyZCB9IGZyb20gXCIuL0NoZXNzYm9hcmRcIjtcclxuaW1wb3J0IHsgU2hhcmVkIH0gZnJvbSBcIi4vU2hhcmVkXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcnJvd3N7XHJcbiAgICBjaGVzc2JvYXJkOkNoZXNzYm9hcmQ7XHJcbiAgICBob3Jpem9udGFsID0gW1wiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImVcIiwgXCJmXCIsIFwiZ1wiLCBcImhcIl07XHJcbiAgICB2ZXJ0aWNhbCA9IFtcIjhcIiwgXCI3XCIsIFwiNlwiLCBcIjVcIiwgXCI0XCIsIFwiM1wiLCBcIjJcIiwgXCIxXCJdO1xyXG4gICAgc3ZnOlNWR1NWR0VsZW1lbnR8bnVsbCA9IG51bGw7XHJcbiAgICBzdHJva2VXaWR0aCA9IDIuODtcclxuICAgIHJpZ2h0Q2xpY2tlZFNxdWFyZTpIVE1MRWxlbWVudHxudWxsID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjaGVzc2JvYXJkOkNoZXNzYm9hcmQpe1xyXG4gICAgICAgIHRoaXMuY2hlc3Nib2FyZCA9IGNoZXNzYm9hcmQ7XHJcbiAgICAgICAgY2hlc3Nib2FyZC5jYWxsYmFja3Mub25Sb3RhdGUgPSB0aGlzLm9uQ2hlc3Nib2FyZFJvdGF0ZTtcclxuICAgICAgICBpZiAoY2hlc3Nib2FyZC5pc1JvdGF0ZWQpXHJcbiAgICAgICAgICAgIHRoaXMub25DaGVzc2JvYXJkUm90YXRlKHRydWUpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZU1vdXNlRG93bihldmVudCkgKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoZXZlbnQpID0+IHRoaXMuaGFuZGxlTW91c2VVcChldmVudCkgKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZUNvbnRleHRNZW51KGV2ZW50KSApO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlTW91c2VEb3duKGV2ZW50Ok1vdXNlRXZlbnQpe1xyXG4gICAgICAgIGxldCBpc1JpZ2h0Q2xpY2sgPSBldmVudC5idXR0b24gJiYgZXZlbnQuYnV0dG9uID09IDI7XHJcbiAgICAgICAgaWYgKGlzUmlnaHRDbGljayAmJiBldmVudC50YXJnZXQgJiYgU2hhcmVkLmlzQ2xpY2tPbkNoZXNzYm9hcmQoZXZlbnQsIHRoaXMuY2hlc3Nib2FyZCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0Q2xpY2tlZFNxdWFyZSA9IFNoYXJlZC5nZXRDbGlja2VkU3F1YXJlKGV2ZW50LCB0aGlzLmNoZXNzYm9hcmQpO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHRoaXMuc3ZnKXtcclxuICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5zdmcpO1xyXG4gICAgICAgICAgICB0aGlzLnN2ZyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGFuZGxlTW91c2VVcChldmVudDpNb3VzZUV2ZW50KXtcclxuICAgICAgICBsZXQgaXNSaWdodENsaWNrID0gZXZlbnQuYnV0dG9uICYmIGV2ZW50LmJ1dHRvbiA9PSAyO1xyXG4gICAgICAgIGlmIChpc1JpZ2h0Q2xpY2sgJiYgZXZlbnQudGFyZ2V0ICYmIFNoYXJlZC5pc0NsaWNrT25DaGVzc2JvYXJkKGV2ZW50LCB0aGlzLmNoZXNzYm9hcmQpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHRhcmdldFNxdWFyZSA9IFNoYXJlZC5nZXRDbGlja2VkU3F1YXJlKGV2ZW50LCB0aGlzLmNoZXNzYm9hcmQpO1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0U3F1YXJlKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJpZ2h0Q2xpY2tlZFNxdWFyZSA9PT0gdGFyZ2V0U3F1YXJlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U3F1YXJlLmNsYXNzTGlzdC5jb250YWlucyhcInJpZ2h0LWNsaWNrZWRcIikpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRTcXVhcmUuY2xhc3NMaXN0LnJlbW92ZShcInJpZ2h0LWNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFNxdWFyZS5jbGFzc0xpc3QuYWRkKFwicmlnaHQtY2xpY2tlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnJpZ2h0Q2xpY2tlZFNxdWFyZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNvdXJjZVNxdWFyZUtleSA9IHRoaXMucmlnaHRDbGlja2VkU3F1YXJlLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpITtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U3F1YXJlS2V5ID0gdGFyZ2V0U3F1YXJlLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpITtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdBcnJvdyhzb3VyY2VTcXVhcmVLZXksIHRhcmdldFNxdWFyZUtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJpZ2h0Q2xpY2tlZFNxdWFyZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGhhbmRsZUNvbnRleHRNZW51KGV2ZW50Ok1vdXNlRXZlbnQpXHJcbiAgICB7ICAgICAgICBcclxuICAgICAgICBpZiAoU2hhcmVkLmlzQ2xpY2tPbkNoZXNzYm9hcmQoZXZlbnQsIHRoaXMuY2hlc3Nib2FyZCkpe1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQ2hlc3Nib2FyZFJvdGF0ZShpc1JvdGF0ZWQ6Ym9vbGVhbil7XHJcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gdGhpcy5ob3Jpem9udGFsLnJldmVyc2UoKTtcclxuICAgICAgICB0aGlzLnZlcnRpY2FsID0gdGhpcy52ZXJ0aWNhbC5yZXZlcnNlKCk7XHJcbiAgICB9XHJcbiAgICBkcmF3QXJyb3coc3F1YXJlS2V5MTpzdHJpbmcsIHNxdWFyZUtleTI6c3RyaW5nKXtcclxuICAgICAgICBpZiAodGhpcy5zdmcgPT09IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLnN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ZnLmNsYXNzTGlzdC5hZGQoJ2JvYXJkLXN2ZycpO1xyXG4gICAgICAgICAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDEwMCAxMDAnKTtcclxuICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLmVsZW1lbnQucHJlcGVuZCh0aGlzLnN2Zyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBvbHlnb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BvbHlnb24nKTtcclxuICAgICAgICBsZXQgcG9pbnQxID0gdGhpcy5zdmcuY3JlYXRlU1ZHUG9pbnQoKTtcclxuICAgICAgICBsZXQgcG9pbnQyID0gdGhpcy5zdmcuY3JlYXRlU1ZHUG9pbnQoKTtcclxuICAgICAgICBsZXQgcG9pbnQzID0gdGhpcy5zdmcuY3JlYXRlU1ZHUG9pbnQoKTtcclxuICAgICAgICBsZXQgcG9pbnQ0ID0gdGhpcy5zdmcuY3JlYXRlU1ZHUG9pbnQoKTtcclxuICAgICAgICBsZXQgcG9pbnQ1ID0gdGhpcy5zdmcuY3JlYXRlU1ZHUG9pbnQoKTtcclxuICAgICAgICBsZXQgcG9pbnQ2ID0gdGhpcy5zdmcuY3JlYXRlU1ZHUG9pbnQoKTtcclxuICAgICAgICBsZXQgcG9pbnQ3ID0gdGhpcy5zdmcuY3JlYXRlU1ZHUG9pbnQoKTtcclxuXHJcbiAgICAgICAgbGV0IGZyb20gPSB0aGlzLmdldFJlbGF0aXZlQ2VudGVyKHNxdWFyZUtleTEpO1xyXG4gICAgICAgIGxldCB0byA9IHRoaXMuZ2V0UmVsYXRpdmVDZW50ZXIoc3F1YXJlS2V5Mik7XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KHRvLnggLSBmcm9tLngsIDIpICsgTWF0aC5wb3codG8ueSAtZnJvbS55LCAyKSk7XHJcbiAgICAgICAgbGV0IHNob3J0ZW5EaXN0YW5jZSA9IDQuNTtcclxuICAgICAgICBsZXQgY2VudGVyID0geyB4OiAoZnJvbS54ICsgdG8ueCkvMiwgeTogKGZyb20ueSArIHRvLnkpLzIgfTtcclxuICAgICAgICBsZXQgdHJpYW5nbGVTaWRlTGVuZ3RoID0gNTtcclxuICAgICAgICBsZXQgYSA9IHRyaWFuZ2xlU2lkZUxlbmd0aCAvIDI7XHJcbiAgICAgICAgbGV0IGMgPSB0cmlhbmdsZVNpZGVMZW5ndGg7XHJcbiAgICAgICAgbGV0IGhlaWdodE9mVHJpYW5nbGUgPSBNYXRoLnNxcnQoTWF0aC5wb3coYywgMikgLSBNYXRoLnBvdyhhLDIpKTtcclxuXHJcbiAgICAgICAgcG9pbnQxLnggPSBjZW50ZXIueCAtIChkaXN0YW5jZSAvIDIpICsgc2hvcnRlbkRpc3RhbmNlO1xyXG4gICAgICAgIHBvaW50MS55ID0gY2VudGVyLnkgLSB0aGlzLnN0cm9rZVdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgcG9pbnQyLnggPSBwb2ludDEueDtcclxuICAgICAgICBwb2ludDIueSA9IHBvaW50MS55ICsgdGhpcy5zdHJva2VXaWR0aDtcclxuXHJcbiAgICAgICAgcG9pbnQzLnggPSBwb2ludDIueCArIGRpc3RhbmNlIC0gaGVpZ2h0T2ZUcmlhbmdsZSAtIHNob3J0ZW5EaXN0YW5jZTtcclxuICAgICAgICBwb2ludDMueSA9IHBvaW50Mi55O1xyXG5cclxuICAgICAgICBwb2ludDQueCA9IHBvaW50My54O1xyXG4gICAgICAgIHBvaW50NC55ID0gcG9pbnQzLnkgKyAoKHRyaWFuZ2xlU2lkZUxlbmd0aCAvIDIpIC0gKHRoaXMuc3Ryb2tlV2lkdGggLyAyKSk7XHJcblxyXG4gICAgICAgIHBvaW50NS54ID0gcG9pbnQ0LnggKyBoZWlnaHRPZlRyaWFuZ2xlO1xyXG4gICAgICAgIHBvaW50NS55ID0gY2VudGVyLnk7XHJcblxyXG4gICAgICAgIHBvaW50Ni54ID0gcG9pbnQ0Lng7XHJcbiAgICAgICAgcG9pbnQ2LnkgPSBwb2ludDQueSAtIHRyaWFuZ2xlU2lkZUxlbmd0aDtcclxuXHJcbiAgICAgICAgcG9pbnQ3LnggPSBwb2ludDMueDtcclxuICAgICAgICBwb2ludDcueSA9IHBvaW50My55IC0gdGhpcy5zdHJva2VXaWR0aDtcclxuXHJcbiAgICAgICAgbGV0IGRlbHRhWCA9IHRvLnggLSBmcm9tLng7XHJcbiAgICAgICAgbGV0IGRlbHRhWSA9IHRvLnkgLSBmcm9tLnk7XHJcblxyXG4gICAgICAgIGxldCByYWRpYW4gPSBNYXRoLmF0YW4yKGRlbHRhWSwgZGVsdGFYKTtcclxuICAgICAgICBsZXQgZGVncmVlcyA9IHJhZGlhbiAqIDE4MCAvIE1hdGguUEk7XHJcblxyXG4gICAgICAgIHBvbHlnb24uc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBcInJvdGF0ZShcIiArIGRlZ3JlZXMgKyBcIiBcIiArIGNlbnRlci54LnRvU3RyaW5nKCkgKyBcIiBcIiArIGNlbnRlci55LnRvU3RyaW5nKCkgKyBcIilcIik7XHJcbiAgICAgICAgcG9seWdvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImFycm93XCIpO1xyXG4gICAgICAgIHBvbHlnb24ucG9pbnRzLmFwcGVuZEl0ZW0ocG9pbnQxKTtcclxuICAgICAgICBwb2x5Z29uLnBvaW50cy5hcHBlbmRJdGVtKHBvaW50Mik7XHJcbiAgICAgICAgcG9seWdvbi5wb2ludHMuYXBwZW5kSXRlbShwb2ludDMpO1xyXG4gICAgICAgIHBvbHlnb24ucG9pbnRzLmFwcGVuZEl0ZW0ocG9pbnQ0KTtcclxuICAgICAgICBwb2x5Z29uLnBvaW50cy5hcHBlbmRJdGVtKHBvaW50NSk7XHJcbiAgICAgICAgcG9seWdvbi5wb2ludHMuYXBwZW5kSXRlbShwb2ludDYpO1xyXG4gICAgICAgIHBvbHlnb24ucG9pbnRzLmFwcGVuZEl0ZW0ocG9pbnQ3KTtcclxuICAgICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChwb2x5Z29uKTtcclxuICAgIH1cclxuICAgIGdldFJlbGF0aXZlQ2VudGVyKHNxdWFyZUtleTpzdHJpbmcpe1xyXG4gICAgICAgIGxldCBjaGFyID0gc3F1YXJlS2V5WzBdO1xyXG4gICAgICAgIGxldCBkaWdpdCA9IHNxdWFyZUtleVsxXTtcclxuICAgICAgICBsZXQgeCA9ICh0aGlzLmhvcml6b250YWwuaW5kZXhPZihjaGFyKSAqIDEyLjUpICsgNi4yNTtcclxuICAgICAgICBsZXQgeSA9ICh0aGlzLnZlcnRpY2FsLmluZGV4T2YoZGlnaXQpICogMTIuNSkgKyA2LjI1O1xyXG4gICAgICAgIHJldHVybiB7IHgsIHkgfTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDYWxsYmFja3N7XHJcbiAgICBvbkdhbWVTdGF0ZUNoYW5nZWQ6RnVuY3Rpb24gfCB1bmRlZmluZWQ7XHJcbiAgICBvbk1vdmVTdGFydDpGdW5jdGlvbiB8IHVuZGVmaW5lZDtcclxuICAgIG9uTW92ZUVuZDpGdW5jdGlvbiB8IHVuZGVmaW5lZDtcclxuICAgIG9uQ2FwdHVyZTpGdW5jdGlvbiB8IHVuZGVmaW5lZDtcclxuICAgIG9uVW5kb0NhcHR1cmU6RnVuY3Rpb24gfCB1bmRlZmluZWQ7XHJcbn0iLCJpbXBvcnQgXCIuL2NoZXNzYm9hcmQuY3NzXCI7XHJcbmltcG9ydCBJY29ucyBmcm9tICcuL0ljb25zJztcclxuaW1wb3J0IEFycm93cyBmcm9tIFwiLi9BcnJvd3NcIjtcclxuXHJcbmNvbnN0IHBpZWNlVmFsdWVzOlJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7W1wicFwiXToxLFtcIm5cIl06MyxbXCJiXCJdOjMsW1wiclwiXTo1LFtcInFcIl06OX07XHJcbmNvbnN0IHNxdWFyZUtleXMgPSBbXCJhOFwiLCBcImI4XCIsIFwiYzhcIiwgXCJkOFwiLCBcImU4XCIsIFwiZjhcIiwgXCJnOFwiLCBcImg4XCIsIFwiYTdcIiwgXCJiN1wiLCBcImM3XCIsIFwiZDdcIiwgXCJlN1wiLCBcImY3XCIsIFwiZzdcIiwgXCJoN1wiLCBcImE2XCIsIFwiYjZcIiwgXCJjNlwiLCBcImQ2XCIsIFwiZTZcIiwgXCJmNlwiLCBcImc2XCIsIFwiaDZcIiwgXCJhNVwiLCBcImI1XCIsIFwiYzVcIiwgXCJkNVwiLCBcImU1XCIsIFwiZjVcIiwgXCJnNVwiLCBcImg1XCIsIFwiYTRcIiwgXCJiNFwiLCBcImM0XCIsIFwiZDRcIiwgXCJlNFwiLCBcImY0XCIsIFwiZzRcIiwgXCJoNFwiLCBcImEzXCIsIFwiYjNcIiwgXCJjM1wiLCBcImQzXCIsIFwiZTNcIiwgXCJmM1wiLCBcImczXCIsIFwiaDNcIiwgXCJhMlwiLCBcImIyXCIsIFwiYzJcIiwgXCJkMlwiLCBcImUyXCIsIFwiZjJcIiwgXCJnMlwiLCBcImgyXCIsIFwiYTFcIiwgXCJiMVwiLCBcImMxXCIsIFwiZDFcIiwgXCJlMVwiLCBcImYxXCIsIFwiZzFcIiwgXCJoMVwiXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQaWVjZXtcclxuICAgIGVsZW1lbnQ6SFRNTEltYWdlRWxlbWVudDtcclxuICAgIGZlbkNoYXI6c3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDpIVE1MSW1hZ2VFbGVtZW50LCBmZW5DaGFyOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLmZlbkNoYXIgPSBmZW5DaGFyO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBTcXVhcmV7XHJcbiAgICBlbGVtZW50OkhUTUxFbGVtZW50O1xyXG4gICAga2V5OnN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBrZXk6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBDYWxsYmFja3N7XHJcbiAgICBvblJvdGF0ZTpGdW5jdGlvbnx1bmRlZmluZWQ7XHJcbn1cclxuZXhwb3J0IGNsYXNzIENoZXNzYm9hcmR7XHJcbiAgICBlbGVtZW50OkhUTUxFbGVtZW50O1xyXG4gICAgc3F1YXJlczpSZWNvcmQ8c3RyaW5nLCBTcXVhcmU+ID0ge307XHJcbiAgICBzcXVhcmVDb250YWluZXI6SFRNTEVsZW1lbnQ7XHJcbiAgICBwaWVjZUVsZW1lbnRzOkhUTUxJbWFnZUVsZW1lbnRbXSA9IFtdO1xyXG4gICAgaXNSb3RhdGVkID0gZmFsc2U7XHJcbiAgICBjYWxsYmFja3MgPSBuZXcgQ2FsbGJhY2tzKCk7XHJcbiAgICBwcml2YXRlIHNjb3JlID0gMDtcclxuICAgIHByaXZhdGUgd2hpdGVTY29yZTpIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgYmxhY2tTY29yZTpIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgd2hpdGVDYXB0dXJlczpSZWNvcmQ8c3RyaW5nLCBIVE1MRWxlbWVudD4gPSB7fTtcclxuICAgIHByaXZhdGUgYmxhY2tDYXB0dXJlczpSZWNvcmQ8c3RyaW5nLCBIVE1MRWxlbWVudD4gPSB7fTtcclxuICAgIHByaXZhdGUgd2hpdGVQbGF5ZXJOYW1lOkhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBibGFja1BsYXllck5hbWU6SFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYm9hcmRDb250YWluZXI6IEhUTUxFbGVtZW50LCBmZW46c3RyaW5nLCB1c2VBcnJvd3M6Ym9vbGVhbil7XHJcbiAgICAgICAgbGV0IGNvcmRzID0gdGhpcy5hZGRDaGlsZChib2FyZENvbnRhaW5lciwgXCJkaXZcIiwgXCJjb3Jkc1wiKTtcclxuICAgICAgICBsZXQgYmxhY2tQbGF5ZXIgPSB0aGlzLmFkZENoaWxkKGNvcmRzLCBcImRpdlwiLCBcInBsYXllciBibGFja1wiKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmFkZENoaWxkKGNvcmRzLCBcImRpdlwiLCBcImJvYXJkXCIpO1xyXG4gICAgICAgIHRoaXMuc3F1YXJlQ29udGFpbmVyID0gdGhpcy5hZGRDaGlsZCh0aGlzLmVsZW1lbnQsIFwiZGl2XCIsIFwic3F1YXJlc1wiKTtcclxuICAgICAgICBsZXQgd2hpdGVQbGF5ZXIgPSB0aGlzLmFkZENoaWxkKGNvcmRzLCBcImRpdlwiLCBcInBsYXllciB3aGl0ZVwiKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgYmxhY2tDYXB0dXJlID0gdGhpcy5hZGRDaGlsZChibGFja1BsYXllciwgXCJkaXZcIiwgXCJjYXB0dXJlc1wiKTtcclxuICAgICAgICBsZXQgd2hpdGVDYXB0dXJlID0gdGhpcy5hZGRDaGlsZCh3aGl0ZVBsYXllciwgXCJkaXZcIiwgXCJjYXB0dXJlc1wiKTtcclxuICAgICAgICBsZXQgcmVjb3JkID0gW3RoaXMud2hpdGVDYXB0dXJlcywgdGhpcy5ibGFja0NhcHR1cmVzXTtcclxuICAgICAgICBbd2hpdGVDYXB0dXJlLCBibGFja0NhcHR1cmVdLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PntcclxuICAgICAgICAgICAgW1wicFwiLCBcIm5cIiwgXCJiXCIsIFwiclwiLCBcInFcIl0uZm9yRWFjaCh0eXBlID0+e1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5hZGRDaGlsZChlbGVtZW50LCBcInNwYW5cIiwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZWNvcmRbaW5kZXhdW3R5cGVdID0gY2hpbGQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMud2hpdGVTY29yZSA9IHRoaXMuYWRkQ2hpbGQod2hpdGVQbGF5ZXIsIFwic3BhblwiLCBcInNjb3JlXCIpO1xyXG4gICAgICAgIHRoaXMuYmxhY2tTY29yZSA9IHRoaXMuYWRkQ2hpbGQoYmxhY2tQbGF5ZXIsIFwic3BhblwiLCBcInNjb3JlXCIpO1xyXG4gICAgICAgIHRoaXMud2hpdGVQbGF5ZXJOYW1lID0gdGhpcy5hZGRDaGlsZCh3aGl0ZVBsYXllciwgXCJkaXZcIiwgXCJuYW1lXCIsIFwiV2hpdGVcIik7XHJcbiAgICAgICAgdGhpcy5ibGFja1BsYXllck5hbWUgPSB0aGlzLmFkZENoaWxkKGJsYWNrUGxheWVyLCBcImRpdlwiLCBcIm5hbWVcIiwgXCJCbGFja1wiKTtcclxuICAgICAgICBpZiAodXNlQXJyb3dzKXtcclxuICAgICAgICAgICAgbmV3IEFycm93cyh0aGlzKTtcclxuICAgICAgICAgICAgLy8gaW1wb3J0KCcuL0Fycm93cy5qcycpLnRoZW4obW9kdWxlID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIGFsZXJ0KFwiQXJyb3dzIGltcG9ydGVkXCIpO1xyXG4gICAgICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNyZWF0ZUVtcHR5U3F1YXJlcygpO1xyXG4gICAgICAgIGlmIChmZW4pe1xyXG4gICAgICAgICAgICB0aGlzLnNldEZlbihmZW4sIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcy5zaG93V2lubmVyKFwid1wiKTtcclxuICAgICAgICAvLyB0aGlzLnNob3dTVkcoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgYWRkQ2hpbGQocGFyZW50OkhUTUxFbGVtZW50LCB0YWc6c3RyaW5nLCBjbGFzc05hbWU6c3RyaW5nLCB0ZXh0PzpzdHJpbmcpe1xyXG4gICAgICAgIGxldCBjaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgICAgICBjaGlsZC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgaWYgKHRleHQpXHJcbiAgICAgICAgICAgIGNoaWxkLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICB9XHJcbiAgICBnZXRQaWVjZVVybChmZW5DaGFyOnN0cmluZyl7XHJcbiAgICAgICAgcmV0dXJuIEljb25zLlBpZWNlVXJsW2ZlbkNoYXJdO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjcmVhdGVFbXB0eVNxdWFyZXMoKTogUmVjb3JkPHN0cmluZywgU3F1YXJlPntcclxuICAgICAgICBsZXQgbmV3U3F1YXJlczogUmVjb3JkPHN0cmluZywgU3F1YXJlPiA9IHt9O1xyXG4gICAgICAgIHNxdWFyZUtleXMuZm9yRWFjaChrZXkgPT57XHJcbiAgICAgICAgICAgIGxldCBzcXVhcmVFbGVtZW50ID0gdGhpcy5hZGRDaGlsZCh0aGlzLnNxdWFyZUNvbnRhaW5lciwgXCJkaXZcIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHNxdWFyZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIiwga2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zcXVhcmVzW2tleV0gPSBuZXcgU3F1YXJlKHNxdWFyZUVsZW1lbnQsIGtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnNxdWFyZUNvbnRhaW5lciwgXCJzcGFuXCIsIFwiY2xlYXJlclwiKTtcclxuICAgICAgICByZXR1cm4gbmV3U3F1YXJlcztcclxuICAgIH1cclxuICAgIHNldEZlbihmZW46c3RyaW5nLCBjbGVhckZpcnN0OmJvb2xlYW4pe1xyXG4gICAgICAgIGlmIChjbGVhckZpcnN0KXtcclxuICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLnNxdWFyZXMpLmZvckVhY2goc3F1YXJlID0+e1xyXG4gICAgICAgICAgICAgICAgc3F1YXJlLmVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHNxdWFyZS5lbGVtZW50LmNsYXNzTmFtZSA9IFwic3F1YXJlXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMud2hpdGVDYXB0dXJlcykuY29uY2F0KE9iamVjdC52YWx1ZXModGhpcy5ibGFja0NhcHR1cmVzKSkuZm9yRWFjaChlbGVtZW50ID0+e1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5waWVjZUVsZW1lbnRzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2NvcmUoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmZW4gIT09IFwiXCIpe1xyXG4gICAgICAgICAgICBpZiAoZmVuLnRvTG93ZXJDYXNlKCkgPT09IFwic3RhcnRcIilcclxuICAgICAgICAgICAgICAgIGZlbiA9IFwicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSAwIDFcIjtcclxuICAgICAgICAgICAgZmVuID0gZmVuLnNwbGl0KFwiIFwiKVswXS5zcGxpdChcIi9cIikuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgbGV0IHNxdWFyZUluZGV4ID0gMDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZW4ubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgbGV0IGZlbkNoYXIgPSBmZW5baV07XHJcbiAgICAgICAgICAgICAgICBsZXQgbnVtbWVyaWNWYWx1ZSA9IHBhcnNlSW50KGZlbkNoYXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihudW1tZXJpY1ZhbHVlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlSW5kZXggKz0gbnVtbWVyaWNWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtleSA9IHNxdWFyZUtleXNbc3F1YXJlSW5kZXgrK107XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBpZWNlRWxlbWVudCA9IHRoaXMuY3JlYXRlUGllY2UoZmVuQ2hhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcXVhcmVzW2tleV0uZWxlbWVudC5hcHBlbmRDaGlsZChwaWVjZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBzdGFuZGluZyA9IHRoaXMuY2FsY3VsYXRlU2NvcmVBbmRDYXB0dXJlc0J5RmVuKGZlbik7XHJcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHN0YW5kaW5nLmNhcHR1cmVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbG9yID0ga2V5ID09PSBrZXkudG9VcHBlckNhc2UoKSA/IFwiYlwiIDogXCJ3XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZTsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBpZWNlID0gdGhpcy5jcmVhdGVQaWVjZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENhcHR1cmUoY29sb3IsIGtleS50b0xvd2VyQ2FzZSgpLCBwaWVjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRTY29yZShzY29yZTpudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSBzY29yZTtcclxuICAgICAgICBsZXQgd2hpdGVQcmVmaXggPSBzY29yZSA9PT0gMCA/IFwiXCIgOiAoc2NvcmUgPiAwID8gXCIrXCIgOiBcIi1cIik7XHJcbiAgICAgICAgbGV0IGJsYWNrUHJlZml4ID0gc2NvcmUgPT09IDAgPyBcIlwiIDogKHNjb3JlID4gMCA/IFwiLVwiIDogXCIrXCIpO1xyXG4gICAgICAgIHRoaXMud2hpdGVTY29yZS5pbm5lckhUTUwgPSBzY29yZSA9PT0gMCA/IFwiXCIgOiAod2hpdGVQcmVmaXggKyBNYXRoLmFicyhzY29yZSkpO1xyXG4gICAgICAgIHRoaXMuYmxhY2tTY29yZS5pbm5lckhUTUwgPSBzY29yZSA9PT0gMCA/IFwiXCIgOiAoYmxhY2tQcmVmaXggKyBNYXRoLmFicyhzY29yZSkpO1xyXG4gICAgfVxyXG4gICAgc2V0UGxheWVyTmFtZXMoYmxhY2s6c3RyaW5nLCB3aGl0ZTpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuYmxhY2tQbGF5ZXJOYW1lLmlubmVySFRNTCA9IGJsYWNrO1xyXG4gICAgICAgIHRoaXMud2hpdGVQbGF5ZXJOYW1lLmlubmVySFRNTCA9IHdoaXRlO1xyXG4gICAgfVxyXG4gICAgYWRkQ2FwdHVyZShjb2xvcjpzdHJpbmcsIGNhcHR1cmVkOnN0cmluZywgcGllY2U6SFRNTEltYWdlRWxlbWVudCl7XHJcbiAgICAgICAgbGV0IHNwYW4gPSBjb2xvciA9PT0gXCJiXCIgPyB0aGlzLmJsYWNrQ2FwdHVyZXNbY2FwdHVyZWRdIDogdGhpcy53aGl0ZUNhcHR1cmVzW2NhcHR1cmVkXTtcclxuICAgICAgICBzcGFuLmFwcGVuZENoaWxkKHBpZWNlKTtcclxuICAgICAgICBsZXQgcGllY2VWYWx1ZSA9IHBpZWNlVmFsdWVzW2NhcHR1cmVkXTtcclxuICAgICAgICBsZXQgbmV3U2NvcmUgPSB0aGlzLnNjb3JlICsgKGNvbG9yID09PSBcImJcIiA/IC0xICogcGllY2VWYWx1ZSA6IHBpZWNlVmFsdWUpO1xyXG4gICAgICAgIHRoaXMuc2V0U2NvcmUobmV3U2NvcmUpO1xyXG4gICAgfVxyXG4gICAgdW5kb0NhcHR1cmUoY29sb3I6c3RyaW5nLCBjYXB0dXJlZDpzdHJpbmcpe1xyXG4gICAgICAgIGxldCBwaWVjZVZhbHVlID0gcGllY2VWYWx1ZXNbY2FwdHVyZWRdO1xyXG4gICAgICAgIGxldCBuZXdTY29yZSA9IHRoaXMuc2NvcmUgKyAoY29sb3IgPT09IFwiYlwiID8gcGllY2VWYWx1ZSA6IHBpZWNlVmFsdWUgKiAtMSk7XHJcbiAgICAgICAgdGhpcy5zZXRTY29yZShuZXdTY29yZSk7XHJcbiAgICAgICAgcmV0dXJuIChjb2xvciA9PT0gXCJiXCIgPyB0aGlzLmJsYWNrQ2FwdHVyZXNbY2FwdHVyZWRdLmZpcnN0Q2hpbGQgOiB0aGlzLndoaXRlQ2FwdHVyZXNbY2FwdHVyZWRdLmZpcnN0Q2hpbGQpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVQaWVjZShmZW5DaGFyOnN0cmluZyl7XHJcbiAgICAgICAgbGV0IHBpZWNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgcGllY2VFbGVtZW50LmNsYXNzTmFtZSA9IFwicGllY2VcIjtcclxuICAgICAgICBwaWVjZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIsIGZlbkNoYXIpO1xyXG4gICAgICAgIHBpZWNlRWxlbWVudC5zcmMgPSBJY29ucy5QaWVjZVVybFtmZW5DaGFyXTtcclxuICAgICAgICB0aGlzLnBpZWNlRWxlbWVudHMucHVzaChwaWVjZUVsZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiBwaWVjZUVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICByb3RhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGFycmF5ID0gQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQuY2hpbGRyZW4pLnJldmVyc2UoKTtcclxuICAgICAgICBsZXQgZmxvYXRDbGVhcmVyID0gYXJyYXlbMF07XHJcbiAgICAgICAgbGV0IHNxdWFyZUVsZW1lbnRzID0gYXJyYXkuc2xpY2UoMSk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZCguLi5zcXVhcmVFbGVtZW50cywgZmxvYXRDbGVhcmVyKTtcclxuICAgICAgICB0aGlzLmlzUm90YXRlZCA9ICF0aGlzLmlzUm90YXRlZDtcclxuICAgICAgICBpZiAodGhpcy5jYWxsYmFja3Mub25Sb3RhdGUpe1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblJvdGF0ZSh0aGlzLmlzUm90YXRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVtb3ZlQWxsSGlnaGxpZ2h0cygpXHJcbiAgICB7XHJcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLnNxdWFyZXMpLmZvckVhY2goc3F1YXJlID0+e1xyXG4gICAgICAgICAgICBzcXVhcmUuZWxlbWVudC5jbGFzc05hbWUgPSBcInNxdWFyZVwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2FsY3VsYXRlU2NvcmVBbmRDYXB0dXJlc0J5RmVuKGZlbjpzdHJpbmcpe1xyXG4gICAgICAgIC8vIGV4YW1wbGU6IFwicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSAwIDFcIlxyXG4gICAgICAgIGZlbiA9IGZlbi5zcGxpdChcIiBcIilbMF0uc3BsaXQoXCIvXCIpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgLy8gbWFrZSBhIHJlY29yZCBvZiBhbGwgdHlwZXMgb2YgcGllY2VzIGFuZCBzZXQgaW5pdGlhbCBjb3VudCB0byB6ZXJvXHJcbiAgICAgICAgbGV0IGZlbkNoYXJzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcbiAgICAgICAgW1wicFwiLFwiblwiLFwiYlwiLFwiclwiLFwicVwiLFwiUFwiLFwiTlwiLFwiQlwiLFwiUlwiLFwiUVwiXS5mb3JFYWNoKGNoYXIgPT57XHJcbiAgICAgICAgICAgIGZlbkNoYXJzW2NoYXJdID0gMDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBjYWxjdWxhdGUgaG93IG1hbnkgcGllY2VzIHdlIGhhdmUgb2YgZWFjaCBraW5kXHJcbiAgICAgICAgZm9yIChjb25zdCBjaGFyIG9mIGZlbikge1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4ocGFyc2VJbnQoY2hhcikpKXtcclxuICAgICAgICAgICAgICAgIGZlbkNoYXJzW2NoYXJdICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGlmIHRoZSBzY29yZSBpcyBwb3NpdGl2ZSB3aGl0ZSBpcyBsZWFkaW5nXHJcbiAgICAgICAgbGV0IHNjb3JlID0gZmVuQ2hhcnNbXCJQXCJdIC0gZmVuQ2hhcnNbXCJwXCJdO1xyXG4gICAgICAgIHNjb3JlICs9IChmZW5DaGFyc1tcIk5cIl0gKyBmZW5DaGFyc1tcIkJcIl0gLSBmZW5DaGFyc1tcIm5cIl0gLSBmZW5DaGFyc1tcImJcIl0pICogMztcclxuICAgICAgICBzY29yZSArPSAoZmVuQ2hhcnNbXCJSXCJdIC0gZmVuQ2hhcnNbXCJyXCJdKSAqIDU7XHJcbiAgICAgICAgc2NvcmUgKz0gKGZlbkNoYXJzW1wiUVwiXSAtIGZlbkNoYXJzW1wicVwiXSkgKiA5O1xyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcmV0dXJuIGEgc2ltaWxhciByZWNvcmQgc2hvd2luZyBob3cgbWFueSBwaWVjZXMgaGF2ZSBiZWVuIHRha2VuXHJcbiAgICAgICAgbGV0IGNhcHR1cmVzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcbiAgICAgICAgLy8gd2Ugc3RhcnRlZCBoYXZpbmcgMiByb29rcywga25pZ2h0cyBhbmQgYmlzaG9wcy4gV2UgY291bGQgaGF2ZSBtb3JlIGR1ZSB0byBwcm9tb3Rpb25cclxuICAgICAgICBmb3IgKGNvbnN0IGNoYXIgb2YgW1wiclwiLCBcIm5cIiwgXCJiXCIsIFwiUlwiLCBcIk5cIiwgXCJCXCJdKXtcclxuICAgICAgICAgICAgY2FwdHVyZXNbY2hhcl0gPSBmZW5DaGFyc1tjaGFyXSA+PSAyID8gMCA6IDIgLSBmZW5DaGFyc1tjaGFyXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGFyIG9mIFtcInFcIiwgXCJRXCJdKXtcclxuICAgICAgICAgICAgY2FwdHVyZXNbY2hhcl0gPSBmZW5DaGFyc1tjaGFyXSA+IDAgPyAwIDogMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ291bnRpbmcgdGFrZW4gcGF3bnMgaXMgZGlmZmljdWx0IGR1ZSB0byBwb3NzaWJsZSBwcm9tb3Rpb25cclxuICAgICAgICBsZXQgYmxhY2sgPSB7cGF3bjpcInBcIiwgcXVlZW46IFwicVwiLCBwaWVjZXM6W1wiclwiLCBcIm5cIiwgXCJiXCJdfTtcclxuICAgICAgICBsZXQgd2hpdGUgPSB7cGF3bjpcIlBcIiwgcXVlZW46IFwiUVwiLCBwaWVjZXM6W1wiUlwiLCBcIk5cIiwgXCJCXCJdfTtcclxuICAgICAgICBmb3IgKGNvbnN0IHBsYXllciBvZiBbYmxhY2ssIHdoaXRlXSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNhcHR1cmVzW3BsYXllci5wYXduXSA9IDggLSBmZW5DaGFyc1twbGF5ZXIucGF3bl07XHJcbiAgICAgICAgICAgIGlmIChmZW5DaGFyc1twbGF5ZXIucXVlZW5dID4gMSl7XHJcbiAgICAgICAgICAgICAgICBjYXB0dXJlc1twbGF5ZXIucGF3bl0gLT0gZmVuQ2hhcnNbcGxheWVyLnF1ZWVuXSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBpZWNlIG9mIHBsYXllci5waWVjZXMpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGZlbkNoYXJzW3BpZWNlXSA+IDIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVzW3BsYXllci5wYXduXSAtPSBmZW5DaGFyc1twaWVjZV0gLTI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtzY29yZSwgY2FwdHVyZXN9XHJcbiAgICB9XHJcbiAgICBzaG93V2lubmVyKGNvbG9yOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5waWVjZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PntcclxuICAgICAgICAgICAgbGV0IHR5cGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiKTtcclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiS1wiKXtcclxuICAgICAgICAgICAgICAgIGxldCB3aGl0ZUtpbmdTcXVhcmUgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2hpdGVLaW5nU3F1YXJlSWNvbiA9IHRoaXMuYWRkQ2hpbGQod2hpdGVLaW5nU3F1YXJlLCBcImltZ1wiLCBcInJlc3VsdCBcIiArIChjb2xvciA9PT0gXCJ3XCIgPyBcIndpblwiIDogXCJsb29zZVwiKSkgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIHdoaXRlS2luZ1NxdWFyZUljb24uc3JjID0gY29sb3IgPT09IFwid1wiID8gSWNvbnMuV2luIDogSWNvbnMuTG9vc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gXCJrXCIpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsYWNrS2luZ1NxdWFyZSA9IGVsZW1lbnQucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGxldCBibGFja0tpbmdTcXVhcmVJY29uID0gdGhpcy5hZGRDaGlsZChibGFja0tpbmdTcXVhcmUsIFwiaW1nXCIsIFwicmVzdWx0IFwiICsgKGNvbG9yID09PSBcImJcIiA/IFwid2luXCIgOiBcImxvb3NlXCIpKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgYmxhY2tLaW5nU3F1YXJlSWNvbi5zcmMgPSBjb2xvciA9PT0gXCJiXCIgPyBJY29ucy5XaW4gOiBJY29ucy5Mb29zZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtDaGVzc2JvYXJkfSBmcm9tIFwiLi9DaGVzc2JvYXJkXCI7XHJcbmltcG9ydCB7IFNoYXJlZCB9IGZyb20gXCIuL1NoYXJlZFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhZ0FuZERyb3Bcclxue1xyXG4gICAgcHJpdmF0ZSBjaGVzc2JvYXJkOkNoZXNzYm9hcmQ7XHJcbiAgICBwcml2YXRlIGRyYWdUeXBlOnN0cmluZztcclxuICAgIHByaXZhdGUgY2FsbGJhY2tPbkRyb3A6RnVuY3Rpb247XHJcbiAgICBwcml2YXRlIGRyYWdQaWVjZTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgZHJhZ1N0YXJ0WCA9IDA7XHJcbiAgICBwcml2YXRlIGRyYWdTdGFydFkgPSAwO1xyXG4gICAgcHJpdmF0ZSBzY3JvbGxUb3AgPSAwO1xyXG4gICAgcHJpdmF0ZSBkZWx0YVNjcm9sbFRvcCA9IDA7XHJcbiAgICBwcml2YXRlIHNjcm9sbExlZnQgPSAwO1xyXG4gICAgcHJpdmF0ZSBkZWx0YVNjcm9sbExlZnQgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNoZXNzYm9hcmQ6Q2hlc3Nib2FyZCwgZHJhZ1R5cGU6c3RyaW5nLCBjYWxsYmFja09uRHJvcDpGdW5jdGlvbilcclxuICAgIHtcclxuICAgICAgICB0aGlzLmNoZXNzYm9hcmQgPSBjaGVzc2JvYXJkO1xyXG4gICAgICAgIHRoaXMuZHJhZ1R5cGUgPSBkcmFnVHlwZTtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrT25Ecm9wID0gY2FsbGJhY2tPbkRyb3A7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZU1vdXNlRG93bihldmVudCkgKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChldmVudCkgPT4gdGhpcy5oYW5kbGVNb3VzZU1vdmUoZXZlbnQpICk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGV2ZW50KSA9PiB0aGlzLmhhbmRsZU1vdXNlVXAoZXZlbnQpICk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB0aGlzLmhhbmRsZVNjcm9sbCgpICk7XHJcbiAgICAgICAgdGhpcy5wcmVwYXJlUGllY2VzKCk7XHJcbiAgICB9XHJcbiAgICBwcmVwYXJlUGllY2VzKCl7XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5jaGVzc2JvYXJkLnBpZWNlRWxlbWVudHMpLmZvckVhY2goKFtrZXksIHBpZWNlRWxlbWVudF0pID0+e1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnVHlwZSA9PT0gXCJib3RoXCIgfHwgKHRoaXMuZHJhZ1R5cGUgPT09IFwid2hpdGVcIiAmJiBrZXkgPT09IGtleS50b1VwcGVyQ2FzZSgpKSB8fCAodGhpcy5kcmFnVHlwZSA9PT0gXCJibGFja1wiICYmIGtleSA9PT0ga2V5LnRvTG93ZXJDYXNlKCkpKXtcclxuICAgICAgICAgICAgICAgIHBpZWNlRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWxsb3ctZHJhZ1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBoYW5kbGVNb3VzZURvd24oZXZlbnQ6TW91c2VFdmVudClcclxuICAgIHtcclxuICAgICAgICBsZXQgaXNSaWdodENsaWNrID0gZXZlbnQuYnV0dG9uICYmIGV2ZW50LmJ1dHRvbiA9PSAyO1xyXG4gICAgICAgIGlmICghaXNSaWdodENsaWNrICYmIGV2ZW50LnRhcmdldCAmJiBTaGFyZWQuaXNDbGlja09uQ2hlc3Nib2FyZChldmVudCwgdGhpcy5jaGVzc2JvYXJkKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5yZW1vdmVBbGxIaWdobGlnaHRzKCk7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGllY2VcIikgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImFsbG93LWRyYWdcIikpe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnBhcmVudEVsZW1lbnQhLmNsYXNzTGlzdC5hZGQoXCJzb3VyY2VcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdQaWVjZSA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ1BpZWNlLmNsYXNzTGlzdC5hZGQoXCJkcmFnZ2luZ1wiKTtcclxuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5kcmFnUGllY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdTdGFydFggPSByZWN0LmxlZnQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdTdGFydFkgPSByZWN0LnRvcDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsvLyBEcmFnIHBvc2l0aW9uIHdpbGwgYmUgaW5jb3JyZWN0IGlmIHdlIGRvbid0IHRha2Ugc2Nyb2xsIGludG8gY29uc2lkZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWx0YVNjcm9sbFRvcCA9IDA7IC8vIFVzZWQgdG8gYWRqdXN0IHRoZSBkcmFnIHBvc2l0aW9uIGlmIHNjcm9sbGluZyBvY2N1cnMgZHVyaW5nIHRoZSBkcmFnXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbExlZnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsdGFTY3JvbGxMZWZ0ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgaGFuZGxlTW91c2VNb3ZlKGV2ZW50Ok1vdXNlRXZlbnQpe1xyXG4gICAgICAgIGlmICh0aGlzLmRyYWdQaWVjZSkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFYID0gZXZlbnQuY2xpZW50WCAtIHRoaXMuZHJhZ1N0YXJ0WDtcclxuICAgICAgICAgICAgbGV0IGRlbHRhWSA9IGV2ZW50LmNsaWVudFkgLSB0aGlzLmRyYWdTdGFydFk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ1BpZWNlLnN0eWxlLmxlZnQgPSBkZWx0YVggKyB0aGlzLmRlbHRhU2Nyb2xsTGVmdCArIFwicHhcIjtcclxuICAgICAgICAgICAgdGhpcy5kcmFnUGllY2Uuc3R5bGUudG9wID0gZGVsdGFZICsgdGhpcy5kZWx0YVNjcm9sbFRvcCArIFwicHhcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGhhbmRsZU1vdXNlVXAoZXZlbnQ6TW91c2VFdmVudClcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5kcmFnUGllY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5kcmFnUGllY2Uuc3R5bGUubGVmdCA9IFwiNTAlXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ1BpZWNlLnN0eWxlLnRvcCA9IFwiNTAlXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ1BpZWNlLmNsYXNzTGlzdC5yZW1vdmUoXCJkcmFnZ2luZ1wiKTtcclxuICAgICAgICAgICAgaWYgKFNoYXJlZC5pc0NsaWNrT25DaGVzc2JvYXJkKGV2ZW50LCB0aGlzLmNoZXNzYm9hcmQpKXtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U3F1YXJlRWxlbWVudCA9IFNoYXJlZC5nZXRDbGlja2VkU3F1YXJlKGV2ZW50LCB0aGlzLmNoZXNzYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldFNxdWFyZUVsZW1lbnQgIT09IHRoaXMuZHJhZ1BpZWNlLnBhcmVudEVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzb3VyY2VTcXVhcmVLZXkgPSB0aGlzLmRyYWdQaWVjZS5wYXJlbnRFbGVtZW50Py5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U3F1YXJlS2V5ID0gdGFyZ2V0U3F1YXJlRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrT25Ecm9wKHNvdXJjZVNxdWFyZUtleSEsIHRhcmdldFNxdWFyZUtleSEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ1BpZWNlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGhhbmRsZVNjcm9sbCgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuZHJhZ1BpZWNlKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdEZWx0YVggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCAtIHRoaXMuc2Nyb2xsTGVmdDtcclxuICAgICAgICAgICAgbGV0IG5ld0RlbHRhWSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgLSB0aGlzLnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgbGV0IGNoYW5nZUluRGVsdGFYID0gbmV3RGVsdGFYIC0gdGhpcy5kZWx0YVNjcm9sbExlZnQ7XHJcbiAgICAgICAgICAgIGxldCBjaGFuZ2VJbkRlbHRhWSA9IG5ld0RlbHRhWSAtIHRoaXMuZGVsdGFTY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsdGFTY3JvbGxMZWZ0ID0gbmV3RGVsdGFYO1xyXG4gICAgICAgICAgICB0aGlzLmRlbHRhU2Nyb2xsVG9wID0gbmV3RGVsdGFZO1xyXG4gICAgICAgICAgICBsZXQgY2xpZW50WCA9IHBhcnNlSW50KHRoaXMuZHJhZ1BpZWNlLnN0eWxlLmxlZnQpO1xyXG4gICAgICAgICAgICBsZXQgY2xpZW50WSA9IHBhcnNlSW50KHRoaXMuZHJhZ1BpZWNlLnN0eWxlLnRvcCk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ1BpZWNlLnN0eWxlLmxlZnQgPSBjbGllbnRYICsgY2hhbmdlSW5EZWx0YVggKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ1BpZWNlLnN0eWxlLnRvcCA9IGNsaWVudFkgKyBjaGFuZ2VJbkRlbHRhWSArIFwicHhcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDaGVzcywgTW92ZSB9IGZyb20gXCJjaGVzcy5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWV7XHJcbiAgICBzdGF0ZTogR2FtZVN0YXRlID0gR2FtZVN0YXRlLlBhdXNlO1xyXG4gICAgbW92ZUluZGV4ID0gLTE7XHJcbiAgICBtb3ZlczogTW92ZVtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IobW92ZVRleHQ6c3RyaW5nIHwgdW5kZWZpbmVkKXtcclxuICAgICAgICBpZiAobW92ZVRleHQpe1xyXG4gICAgICAgICAgICBsZXQgY2hlc3MgPSBuZXcgQ2hlc3MoKTtcclxuICAgICAgICAgICAgY2hlc3MubG9hZFBnbihtb3ZlVGV4dCk7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZXMgPSBjaGVzcy5oaXN0b3J5KHt2ZXJib3NlOnRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGVudW0gR2FtZVN0YXRle1xyXG4gICAgU3RhcnQsXHJcbiAgICBQbGF5LFxyXG4gICAgUGF1c2UsXHJcbiAgICBGb3J3YXJkLFxyXG4gICAgUmV3aW5kLFxyXG4gICAgRW5kXHJcbn1cclxuIiwiaW1wb3J0IHsgQ2hlc3Nib2FyZCB9IGZyb20gXCIuL0NoZXNzYm9hcmRcIjtcclxuaW1wb3J0IERyYWdBbmREcm9wIGZyb20gXCIuL0RyYWdBbmREcm9wXCI7XHJcbmltcG9ydCB7IE1vdmUgfSBmcm9tIFwiY2hlc3MuanNcIjtcclxuaW1wb3J0IHsgTW92ZUluZm8gfSBmcm9tIFwiLi9Nb3ZlSW5mb1wiO1xyXG5pbXBvcnQgeyBHYW1lLCBHYW1lU3RhdGUgfSBmcm9tIFwiLi9HYW1lXCI7XHJcbmltcG9ydCB7IENhbGxiYWNrcyB9IGZyb20gXCIuL0NhbGxiYWNrc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVDb250cm9sbGVye1xyXG4gICAgcHJpdmF0ZSBjaGVzc2JvYXJkOkNoZXNzYm9hcmQ7XHJcbiAgICBwcml2YXRlIGFuaW1hdGlvblRpbWVvdXRJZDpOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcclxuICAgIHByaXZhdGUgYXV0b3BsYXlUaW1lb3V0SWQ6Tm9kZUpTLlRpbWVvdXQgfCB1bmRlZmluZWQ7XHJcbiAgICBjdXJyZW50R2FtZTogR2FtZSB8IHVuZGVmaW5lZDtcclxuICAgIGNhbGxiYWNrcyA9IG5ldyBDYWxsYmFja3MoKTtcclxuICAgIGFuaW1hdGlvbkR1cmF0aW9uOm51bWJlciA9IDAuNztcclxuICAgIGFuaW1hdGlvbkZhc3REdXJhdGlvbjpudW1iZXIgPSAwLjE7XHJcbiAgICBkZWxheUJldHdlZW5Nb3ZlczpudW1iZXIgPSAxO1xyXG4gICAgc2hvcnREZWxheUJldHdlZW5Nb3ZlczpudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBjYW5jZWxBbmltYXRpb24gPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihib2FyZEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBmZW46c3RyaW5nLCBkcmFnVHlwZTpzdHJpbmcgfCB1bmRlZmluZWQsIHVzZUFycm93czpib29sZWFuKXtcclxuICAgICAgICB0aGlzLmNoZXNzYm9hcmQgPSBuZXcgQ2hlc3Nib2FyZChib2FyZEVsZW1lbnQsIGZlbiwgdXNlQXJyb3dzKTtcclxuICAgICAgICBpZiAoZHJhZ1R5cGUgJiYgW1wid2hpdGVcIiwgXCJibGFja1wiLCBcImJvdGhcIl0uaW5jbHVkZXMoZHJhZ1R5cGUpKXtcclxuICAgICAgICAgICAgbmV3IERyYWdBbmREcm9wKHRoaXMuY2hlc3Nib2FyZCwgZHJhZ1R5cGUsXHJcbiAgICAgICAgICAgICAgICAvLyBDYWxsYmFjayBvbiBkcm9wXHJcbiAgICAgICAgICAgICAgICAoZnJvbTpzdHJpbmcsIHRvOnN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Ecm9wKGZyb20sIHRvKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgY2xlYXJUaW1lb3V0cygpe1xyXG4gICAgICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9uID0gdHJ1ZTtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5hbmltYXRpb25UaW1lb3V0SWQpO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmF1dG9wbGF5VGltZW91dElkKTtcclxuICAgIH1cclxuICAgIHN0YXJ0R2FtZShnYW1lOkdhbWUsIHdoaXRlTmFtZTpzdHJpbmd8dW5kZWZpbmVkLCBibGFja05hbWU6c3RyaW5nfHVuZGVmaW5lZCl7XHJcbiAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRzKCk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50R2FtZSA9IGdhbWU7XHJcbiAgICAgICAgZ2FtZS5tb3ZlSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLmNoZXNzYm9hcmQuc2V0RmVuKFwic3RhcnRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jaGVzc2JvYXJkLnNldFBsYXllck5hbWVzKGJsYWNrTmFtZSB8fCBcIkJsYWNrXCIsIHdoaXRlTmFtZSB8fCBcIldoaXRlXCIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlR2FtZVN0YXRlKEdhbWVTdGF0ZS5QbGF5KTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgdXBkYXRlR2FtZVN0YXRlKG5ld1N0YXRlOiBHYW1lU3RhdGUpe1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRHYW1lICYmIHRoaXMuY3VycmVudEdhbWUuc3RhdGUgIT09IG5ld1N0YXRlKXtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEdhbWUuc3RhdGUgPT09IEdhbWVTdGF0ZS5TdGFydCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoW0dhbWVTdGF0ZS5SZXdpbmQsIEdhbWVTdGF0ZS5QYXVzZV0uaW5jbHVkZXMobmV3U3RhdGUpKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJyZW50R2FtZS5zdGF0ZSA9PT0gR2FtZVN0YXRlLkVuZCAmJiB0aGlzLmN1cnJlbnRHYW1lLm1vdmVJbmRleCA9PT0gdGhpcy5jdXJyZW50R2FtZS5tb3Zlcy5sZW5ndGggLTEpe1xyXG4gICAgICAgICAgICAgICAgaWYgKFtHYW1lU3RhdGUuUGxheSwgR2FtZVN0YXRlLlBhdXNlLCBHYW1lU3RhdGUuRm9yd2FyZF0uaW5jbHVkZXMobmV3U3RhdGUpKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGxhc3RTdGF0ZSA9IHRoaXMuY3VycmVudEdhbWUuc3RhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEdhbWUuc3RhdGUgPSBuZXdTdGF0ZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLm9uR2FtZVN0YXRlQ2hhbmdlZCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkdhbWVTdGF0ZUNoYW5nZWQobmV3U3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChbR2FtZVN0YXRlLlN0YXJ0LCBHYW1lU3RhdGUuUGF1c2UsIEdhbWVTdGF0ZS5FbmRdLmluY2x1ZGVzKGxhc3RTdGF0ZSkpe1xyXG4gICAgICAgICAgICAgICAgaWYgKFtHYW1lU3RhdGUuUmV3aW5kLCBHYW1lU3RhdGUuUGxheSwgR2FtZVN0YXRlLkZvcndhcmRdLmluY2x1ZGVzKG5ld1N0YXRlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93QW5pbWF0ZWRNb3ZlcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ29Ub01vdmUobW92ZUluZGV4Om51bWJlcil7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEdhbWUpe1xyXG4gICAgICAgICAgICBsZXQgZ2FtZSA9IHRoaXMuY3VycmVudEdhbWU7XHJcbiAgICAgICAgICAgIGlmIChtb3ZlSW5kZXggIT09IGdhbWUubW92ZUluZGV4KXtcclxuICAgICAgICAgICAgICAgIGlmIChbR2FtZVN0YXRlLlJld2luZCwgR2FtZVN0YXRlLlBsYXksIEdhbWVTdGF0ZS5Gb3J3YXJkXS5pbmNsdWRlcyhnYW1lLnN0YXRlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBnYW1lLm1vdmVJbmRleCA9IG1vdmVJbmRleDtcclxuICAgICAgICAgICAgICAgIGlmIChtb3ZlSW5kZXggPT09IC0xKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZXNzYm9hcmQuc2V0RmVuKFwic3RhcnRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVHYW1lU3RhdGUoR2FtZVN0YXRlLlN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVJbmRleCA9PT0gZ2FtZS5tb3Zlcy5sZW5ndGggLTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUdhbWVTdGF0ZShHYW1lU3RhdGUuRW5kKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVHYW1lU3RhdGUoR2FtZVN0YXRlLlBhdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vdmUgPSBnYW1lLm1vdmVzW21vdmVJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLnNldEZlbihtb3ZlLmFmdGVyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZXNzYm9hcmQuc3F1YXJlc1ttb3ZlLmZyb21dLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNvdXJjZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZXNzYm9hcmQuc3F1YXJlc1ttb3ZlLnRvXS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YXJnZXRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnb1RvU3RhcnQ9ICgpID0+e1xyXG4gICAgICAgIHRoaXMuZ29Ub01vdmUoLTEpO1xyXG4gICAgfVxyXG4gICAgcmV3aW5kPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVHYW1lU3RhdGUoR2FtZVN0YXRlLlJld2luZCk7XHJcbiAgICB9XHJcbiAgICBwbGF5PSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVHYW1lU3RhdGUoR2FtZVN0YXRlLlBsYXkpO1xyXG4gICAgfVxyXG4gICAgcGF1c2U9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUdhbWVTdGF0ZShHYW1lU3RhdGUuUGF1c2UpO1xyXG4gICAgfVxyXG4gICAgZm9yd2FyZD0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlR2FtZVN0YXRlKEdhbWVTdGF0ZS5Gb3J3YXJkKVxyXG4gICAgfVxyXG4gICAgZ29Ub0VuZD0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRHYW1lKXtcclxuICAgICAgICAgICAgdGhpcy5nb1RvTW92ZSh0aGlzLmN1cnJlbnRHYW1lLm1vdmVzLmxlbmd0aCAtMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzaG93QW5pbWF0ZWRNb3Zlcygpe1xyXG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50R2FtZSB8fCB0aGlzLmN1cnJlbnRHYW1lLnN0YXRlID09PSBHYW1lU3RhdGUuUGF1c2Upe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBnYW1lID0gdGhpcy5jdXJyZW50R2FtZTtcclxuICAgICAgICBsZXQgZ2FtZVN0YXRlID0gZ2FtZS5zdGF0ZTsvL3NldCB0aGlzIHZhcmlhYmxlIGhlcmUgc28gaXQgZG9lc24ndCBjaGFuZ2UgaWYgdXNlciBjbGlja3MgZHVyaW5nIGFuaW1hdGlvblxyXG4gICAgICAgIGxldCByZXdpbmQgPSBnYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5SZXdpbmQ7XHJcbiAgICAgICAgbGV0IGFuaW1hdGlvbk1vdmVJbmRleCA9IHJld2luZCA/IGdhbWUubW92ZUluZGV4IDogZ2FtZS5tb3ZlSW5kZXggKyAxO1xyXG4gICAgICAgIGxldCBtb3ZlID0gZ2FtZS5tb3Zlc1thbmltYXRpb25Nb3ZlSW5kZXhdO1xyXG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrcy5vbk1vdmVTdGFydCl7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uTW92ZVN0YXJ0KG1vdmUsIGFuaW1hdGlvbk1vdmVJbmRleCwgcmV3aW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1vdmVJbmZvID0gbmV3IE1vdmVJbmZvKHRoaXMuY2hlc3Nib2FyZCwgbW92ZSwgcmV3aW5kKTtcclxuICAgICAgICB0aGlzLmNoZXNzYm9hcmQucmVtb3ZlQWxsSGlnaGxpZ2h0cygpO1xyXG4gICAgICAgIG1vdmVJbmZvLnNvdXJjZVNxdWFyZS5jbGFzc0xpc3QuYWRkKFwic291cmNlXCIpO1xyXG4gICAgICAgIG1vdmVJbmZvLnRhcmdldFNxdWFyZS5jbGFzc0xpc3QuYWRkKFwidGFyZ2V0XCIpO1xyXG4gICAgICAgIGlmIChtb3ZlSW5mby5jYXN0bGluZyl7XHJcbiAgICAgICAgICAgIG1vdmVJbmZvLmNhc3RsaW5nLnJvb2tTb3VyY2VTcXVhcmUuY2xhc3NMaXN0LmFkZChcInNvdXJjZVwiKTtcclxuICAgICAgICAgICAgbW92ZUluZm8uY2FzdGxpbmcucm9va1RhcmdldFNxdWFyZS5jbGFzc0xpc3QuYWRkKFwidGFyZ2V0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyZXdpbmQpe1xyXG4gICAgICAgICAgICAvLyBVbmRvIHByb21vdGlvbiBhbmQgY2FwdHVyZSBiZWZvcmUgYW5pbWF0aW9uIHN0YXJ0c1xyXG4gICAgICAgICAgICBpZiAobW92ZS5wcm9tb3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgbGV0IGZlbkNoYXIgPSBtb3ZlLmNvbG9yID09PSBcImJcIiA/IFwicFwiIDogXCJQXCI7XHJcbiAgICAgICAgICAgICAgICBtb3ZlSW5mby5waWVjZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIiwgZmVuQ2hhcik7XHJcbiAgICAgICAgICAgICAgICBtb3ZlSW5mby5waWVjZS5zcmMgPSB0aGlzLmNoZXNzYm9hcmQuZ2V0UGllY2VVcmwoZmVuQ2hhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vdmUuY2FwdHVyZWQpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBpZWNlID0gdGhpcy5jaGVzc2JvYXJkLnVuZG9DYXB0dXJlKG1vdmUuY29sb3IsIG1vdmUuY2FwdHVyZWQpO1xyXG4gICAgICAgICAgICAgICAgbW92ZUluZm8udGFyZ2V0U3F1YXJlLmFwcGVuZENoaWxkKHBpZWNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFuaW1hdGVNb3ZlKG1vdmVJbmZvLCBtb3ZlLCBnYW1lU3RhdGUsICgpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBPbkFuaW1hdGlvbkVuZENhbGxiYWNrIFxyXG4gICAgICAgICAgICBpZiAoIXJld2luZCAmJiBtb3ZlLmNhcHR1cmVkICYmIHRoaXMuY2FsbGJhY2tzLm9uQ2FwdHVyZSl7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2FwdHVyZVNxdWFyZSA9IG1vdmVJbmZvLnBhcnRpYWxNb3Zlc1swXS5kZXN0aW5hdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCBwaWVjZSA9IGNhcHR1cmVTcXVhcmUuZmlyc3RDaGlsZCBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLmFkZENhcHR1cmUobW92ZS5jb2xvciwgbW92ZS5jYXB0dXJlZCwgcGllY2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHJlY3QgPSBjYXB0dXJlZFBpZWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gY2FwdHVyZVNxdWFyZS5yZW1vdmVDaGlsZChjYXB0dXJlZFBpZWNlKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuY2FsbGJhY2tzLm9uQ2FwdHVyZShtb3ZlLmNvbG9yLCBtb3ZlLmNhcHR1cmVkLCBjYXB0dXJlZFBpZWNlLCByZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUaGVyZSBtYXkgYmUgMiBtb3ZlcyBkdWUgdG8gY2FzdGxpbmdcclxuICAgICAgICAgICAgbW92ZUluZm8ucGFydGlhbE1vdmVzLmZvckVhY2gobW92ZSA9PntcclxuICAgICAgICAgICAgICAgIG1vdmUuZGVzdGluYXRpb24uaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIG1vdmUuZGVzdGluYXRpb24uYXBwZW5kQ2hpbGQobW92ZS5waWVjZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLm9uTW92ZUVuZCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbk1vdmVFbmQobW92ZSwgZ2FtZS5tb3ZlSW5kZXgsIHJld2luZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2FtZS5tb3ZlSW5kZXggKz0gcmV3aW5kID8gLTEgOiAxO1xyXG4gICAgICAgICAgICBpZiAoIXJld2luZCAmJiBtb3ZlLnByb21vdGlvbil7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmVuQ2hhciA9IG1vdmUuY29sb3IgPT09IFwiYlwiID8gbW92ZS5wcm9tb3Rpb24gOiBtb3ZlLnByb21vdGlvbi50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgbW92ZUluZm8ucGllY2Uuc2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIsIGZlbkNoYXIpO1xyXG4gICAgICAgICAgICAgICAgbW92ZUluZm8ucGllY2Uuc3JjID0gdGhpcy5jaGVzc2JvYXJkLmdldFBpZWNlVXJsKGZlbkNoYXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghcmV3aW5kICYmIGdhbWUubW92ZUluZGV4ID09PSBnYW1lLm1vdmVzLmxlbmd0aCAtMSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUdhbWVTdGF0ZShHYW1lU3RhdGUuRW5kKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmV3aW5kICYmIGdhbWUubW92ZUluZGV4ID09PSAtMSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUdhbWVTdGF0ZShHYW1lU3RhdGUuU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgIFxyXG4gICAgICAgICAgICAvLyBBbmltYXRpb24gZW5kZWQgYW5kIHBvc2l0aW9uIHVwZGF0ZWQgYnV0IGRvbid0IHNob3cgbmV4dCBtb3ZlIHJpZ2h0IGF3YXlcclxuICAgICAgICAgICAgbGV0IGRlbGF5QmV0d2Vlbk1vdmVzID0gZ2FtZS5zdGF0ZSA9PT0gR2FtZVN0YXRlLlBsYXkgPyB0aGlzLmRlbGF5QmV0d2Vlbk1vdmVzIDogdGhpcy5zaG9ydERlbGF5QmV0d2Vlbk1vdmVzO1xyXG4gICAgICAgICAgICB0aGlzLmF1dG9wbGF5VGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QW5pbWF0ZWRNb3ZlcygpO1xyXG4gICAgICAgICAgICB9LCBkZWxheUJldHdlZW5Nb3ZlcyAqIDEwMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhbmltYXRlTW92ZShtb3ZlSW5mbzpNb3ZlSW5mbywgbW92ZTpNb3ZlLCBnYW1lU3RhdGU6R2FtZVN0YXRlLCBvbkFuaW1hdGlvbkVuZENhbGxiYWNrOkZ1bmN0aW9uKVxyXG4gICAge1xyXG4gICAgICAgIC8vIEFnYWluOiBEdWUgdG8gY2FzdGxpbmcgdGhlcmUgY2FuIGJlIDIgbW92ZXNcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIG1vdmVJbmZvLnBhcnRpYWxNb3Zlcy5mb3JFYWNoKG1vdmUgPT57XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRQb3NpdGlvbiA9IG1vdmUucGllY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IG1vdmUuZGVzdGluYXRpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHJlY3QubGVmdCArIChyZWN0LndpZHRoIC8gMik7XHJcbiAgICAgICAgICAgICAgICBsZXQgeSA9IHJlY3QudG9wICsgKHJlY3QuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICBsZXQgZW5kUG9zaXRpb24gPSB7IHg6IHgsIHk6IHkgfTtcclxuICAgICAgICAgICAgICAgIG1vdmUucGllY2Uuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gXCJsZWZ0LCB0b3BcIjtcclxuICAgICAgICAgICAgICAgIGxldCBhbmltYXRpb25EdXJhdGlvbiA9IGdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLlBsYXkgPyB0aGlzLmFuaW1hdGlvbkR1cmF0aW9uIDogdGhpcy5hbmltYXRpb25GYXN0RHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICBtb3ZlLnBpZWNlLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGFuaW1hdGlvbkR1cmF0aW9uICsgXCJzXCI7XHJcbiAgICAgICAgICAgICAgICBtb3ZlLnBpZWNlLnN0eWxlLmxlZnQgPSBlbmRQb3NpdGlvbi54IC0gc3RhcnRQb3NpdGlvbi54ICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgbW92ZS5waWVjZS5zdHlsZS50b3AgPSBlbmRQb3NpdGlvbi55IC0gc3RhcnRQb3NpdGlvbi55ICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgbW92ZS5waWVjZS5jbGFzc0xpc3QuYWRkKFwiZHJhZ2dpbmdcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBtb3ZlSW5mby5waWVjZS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNhbmNlbEFuaW1hdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWdhaW46IER1ZSB0byBjYXN0bGluZyB0aGVyZSBjYW4gYmUgMiBtb3Zlc1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVJbmZvLnBhcnRpYWxNb3Zlcy5mb3JFYWNoKG1vdmUgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUucGllY2Uuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZS5waWVjZS5zdHlsZS5sZWZ0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZS5waWVjZS5zdHlsZS50b3AgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlLnBpZWNlLmNsYXNzTGlzdC5yZW1vdmUoXCJkcmFnZ2luZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBvbkFuaW1hdGlvbkVuZENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2goZXgpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7XHJcbiAgICAgICAgICAgIGxldCBhID0gbW92ZUluZm87XHJcbiAgICAgICAgICAgIGxldCBiID0gbW92ZTtcclxuICAgICAgICAgICAgbGV0IGMgPSBnYW1lU3RhdGU7XHJcbiAgICAgICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBFeGFtcGxlIDEgLSBmcm9tOiBcImUyXCIgdG86IFwiZTRcIiBFeGFtcGxlIDI6ICBmcm9tOiBcImE3XCIgdG86IFwiYThcIiBwcm9tb3Rpb246IFwicVwiIFByb21vdGlvbiBjYW4gYmUgcXVlZW4gKHEpLCBiaXNob3AgKGIpLCBrbmlnaHQgKG4pIG9yIHJvb2sgKHIpICovXHJcbiAgICBwcml2YXRlIG9uRHJvcChmcm9tOnN0cmluZywgdG86IHN0cmluZyl7XHJcbiAgICAgICAgbGV0IHBpZWNlID0gdGhpcy5jaGVzc2JvYXJkLnNxdWFyZXNbZnJvbV0uZWxlbWVudC5maXJzdENoaWxkIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGZlbkNoYXIgPSBwaWVjZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIik7XHJcbiAgICAgICAgdGhpcy5tb3ZlU2ltcGxlKGZyb20sIHRvKTtcclxuICAgICAgICBsZXQgY2FzdGxpbmdJbmZvID0gdGhpcy5nZXRDYXN0bGluZ0luZm8oZmVuQ2hhciEsIGZyb20sIHRvKTtcclxuICAgICAgICBpZiAoY2FzdGxpbmdJbmZvLmlzQ2FzdGxpbmcpe1xyXG4gICAgICAgICAgICB0aGlzLmNoZXNzYm9hcmQuc3F1YXJlc1tjYXN0bGluZ0luZm8ucm9va0Zyb20hXS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkcmFnLXNvdXJjZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlU2ltcGxlKGNhc3RsaW5nSW5mby5yb29rRnJvbSEsIGNhc3RsaW5nSW5mby5yb29rVG8hKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG1vdmVTaW1wbGUoZnJvbTpzdHJpbmcsIHRvOnN0cmluZylcclxuICAgIHtcclxuICAgICAgICBsZXQgcGllY2UgPSB0aGlzLmNoZXNzYm9hcmQuc3F1YXJlc1tmcm9tXS5lbGVtZW50LmZpcnN0Q2hpbGQgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICAgICAgICBsZXQgdGFyZ2V0U3F1YXJlID0gdGhpcy5jaGVzc2JvYXJkLnNxdWFyZXNbdG9dLmVsZW1lbnQ7XHJcbiAgICAgICAgdGFyZ2V0U3F1YXJlLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgdGFyZ2V0U3F1YXJlLmFwcGVuZENoaWxkKHBpZWNlKTtcclxuICAgICAgICB0YXJnZXRTcXVhcmUuY2xhc3NMaXN0LmFkZChcInRhcmdldFwiKTtcclxuICAgIH1cclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGRlcHJlY2F0ZWQuIFRyeSB0byB1c2UgZ2V0Q2FzdGxpbmdJbmZvRnJvbVNBTmNvZGVcclxuICAgIHByaXZhdGUgZ2V0Q2FzdGxpbmdJbmZvKGZlbkNoYXI6c3RyaW5nLCBmcm9tOnN0cmluZywgdG86c3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChmZW5DaGFyID09PSBcIktcIiAmJiBmcm9tID09PSBcImUxXCIpe1xyXG4gICAgICAgICAgICBpZiAodG8gPT09IFwiZzFcIilcclxuICAgICAgICAgICAgICAgIHJldHVybiB7aXNDYXN0bGluZzp0cnVlLCByb29rRnJvbTpcImgxXCIsIHJvb2tUbzpcImYxXCJ9O1xyXG4gICAgICAgICAgICBlbHNlIGlmICh0byA9PT0gXCJjMVwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtpc0Nhc3RsaW5nOnRydWUsIHJvb2tGcm9tOlwiYTFcIiwgcm9va1RvOlwiZDFcIn07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZlbkNoYXIgPT09IFwia1wiICYmIGZyb20gPT09IFwiZThcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0byA9PT0gXCJnOFwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtpc0Nhc3RsaW5nOnRydWUsIHJvb2tGcm9tOlwiaDhcIiwgcm9va1RvOlwiZjhcIn07XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRvID09PSBcImM4XCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge2lzQ2FzdGxpbmc6dHJ1ZSwgcm9va0Zyb206XCJhOFwiLCByb29rVG86XCJkOFwifTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtpc0Nhc3RsaW5nOmZhbHNlfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IGJiIGZyb20gJy4vYXNzZXRzL2ltZy9waWVjZXMvYnVybmV0dC9iYi5zdmcnO1xyXG5pbXBvcnQgYmsgZnJvbSAnLi9hc3NldHMvaW1nL3BpZWNlcy9idXJuZXR0L2JrLnN2Zyc7XHJcbmltcG9ydCBibiBmcm9tICcuL2Fzc2V0cy9pbWcvcGllY2VzL2J1cm5ldHQvYm4uc3ZnJztcclxuaW1wb3J0IGJwIGZyb20gJy4vYXNzZXRzL2ltZy9waWVjZXMvYnVybmV0dC9icC5zdmcnO1xyXG5pbXBvcnQgYnEgZnJvbSAnLi9hc3NldHMvaW1nL3BpZWNlcy9idXJuZXR0L2JxLnN2Zyc7XHJcbmltcG9ydCBiciBmcm9tICcuL2Fzc2V0cy9pbWcvcGllY2VzL2J1cm5ldHQvYnIuc3ZnJztcclxuaW1wb3J0IHdiIGZyb20gJy4vYXNzZXRzL2ltZy9waWVjZXMvYnVybmV0dC93Yi5zdmcnO1xyXG5pbXBvcnQgd2sgZnJvbSAnLi9hc3NldHMvaW1nL3BpZWNlcy9idXJuZXR0L3drLnN2Zyc7XHJcbmltcG9ydCB3biBmcm9tICcuL2Fzc2V0cy9pbWcvcGllY2VzL2J1cm5ldHQvd24uc3ZnJztcclxuaW1wb3J0IHdwIGZyb20gJy4vYXNzZXRzL2ltZy9waWVjZXMvYnVybmV0dC93cC5zdmcnO1xyXG5pbXBvcnQgd3EgZnJvbSAnLi9hc3NldHMvaW1nL3BpZWNlcy9idXJuZXR0L3dxLnN2Zyc7XHJcbmltcG9ydCB3ciBmcm9tICcuL2Fzc2V0cy9pbWcvcGllY2VzL2J1cm5ldHQvd3Iuc3ZnJztcclxuXHJcbmltcG9ydCB3aW4gZnJvbSBcIi4vYXNzZXRzL2ltZy9yZXN1bHRzL3dpbi5zdmdcIjtcclxuaW1wb3J0IGxvb3NlIGZyb20gXCIuL2Fzc2V0cy9pbWcvcmVzdWx0cy9sb29zZS5zdmdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb25ze1xyXG4gICAgc3RhdGljIFdpbiA9IHdpbjtcclxuICAgIHN0YXRpYyBMb29zZSA9IGxvb3NlO1xyXG5cclxuICAgIHN0YXRpYyBQaWVjZVVybDpSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAgIFtcImJcIl06IGJiLFxyXG4gICAgICAgIFtcImtcIl06IGJrLFxyXG4gICAgICAgIFtcIm5cIl06IGJuLFxyXG4gICAgICAgIFtcInBcIl06IGJwLFxyXG4gICAgICAgIFtcInFcIl06IGJxLFxyXG4gICAgICAgIFtcInJcIl06IGJyLFxyXG4gICAgICAgIFtcIkJcIl06IHdiLFxyXG4gICAgICAgIFtcIktcIl06IHdrLFxyXG4gICAgICAgIFtcIk5cIl06IHduLFxyXG4gICAgICAgIFtcIlBcIl06IHdwLFxyXG4gICAgICAgIFtcIlFcIl06IHdxLFxyXG4gICAgICAgIFtcIlJcIl06IHdyXHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IHsgQ2hlc3Nib2FyZCB9IGZyb20gXCIuL0NoZXNzYm9hcmRcIjtcclxuaW1wb3J0IHsgTW92ZSB9IGZyb20gXCJjaGVzcy5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVJbmZve1xyXG4gICAgc291cmNlU3F1YXJlOkhUTUxFbGVtZW50O1xyXG4gICAgdGFyZ2V0U3F1YXJlOkhUTUxFbGVtZW50O1xyXG4gICAgcGllY2U6SFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNhc3RsaW5nOkNhc3RsaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgcGFydGlhbE1vdmVzOntwaWVjZTpIVE1MSW1hZ2VFbGVtZW50LCBkZXN0aW5hdGlvbjpIVE1MRWxlbWVudH1bXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNoZXNzYm9hcmQ6Q2hlc3Nib2FyZCwgbW92ZTpNb3ZlLCByZXdpbmQ6Ym9vbGVhbil7XHJcbiAgICAgICAgdGhpcy5zb3VyY2VTcXVhcmUgPSBjaGVzc2JvYXJkLnNxdWFyZXNbbW92ZS5mcm9tXS5lbGVtZW50O1xyXG4gICAgICAgIHRoaXMudGFyZ2V0U3F1YXJlID0gY2hlc3Nib2FyZC5zcXVhcmVzW21vdmUudG9dLmVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5waWVjZSA9IChyZXdpbmQgPyB0aGlzLnRhcmdldFNxdWFyZS5maXJzdENoaWxkIDogdGhpcy5zb3VyY2VTcXVhcmUuZmlyc3RDaGlsZCkgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICAgICAgICBsZXQgbW92ZTEgPSB7cGllY2U6dGhpcy5waWVjZSwgZGVzdGluYXRpb246IHJld2luZCA/IHRoaXMuc291cmNlU3F1YXJlIDogdGhpcy50YXJnZXRTcXVhcmV9O1xyXG4gICAgICAgIHRoaXMucGFydGlhbE1vdmVzLnB1c2gobW92ZTEpO1xyXG5cclxuICAgICAgICBpZiAobW92ZS5mbGFncyA9PT0gXCJrXCIgfHwgbW92ZS5mbGFncyA9PT0gXCJxXCIpe1xyXG4gICAgICAgICAgICB0aGlzLmNhc3RsaW5nID0gbmV3IENhc3RsaW5nKGNoZXNzYm9hcmQsIG1vdmUsIHJld2luZCk7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlMiA9IHtwaWVjZTp0aGlzLmNhc3RsaW5nLnJvb2ssIGRlc3RpbmF0aW9uOiByZXdpbmQgPyB0aGlzLmNhc3RsaW5nLnJvb2tTb3VyY2VTcXVhcmUgOiB0aGlzLmNhc3RsaW5nLnJvb2tUYXJnZXRTcXVhcmV9O1xyXG4gICAgICAgICAgICB0aGlzLnBhcnRpYWxNb3Zlcy5wdXNoKG1vdmUyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIENhc3RsaW5ne1xyXG4gICAgcm9va1NvdXJjZVNxdWFyZTpIVE1MRWxlbWVudDtcclxuICAgIHJvb2tUYXJnZXRTcXVhcmU6SFRNTEVsZW1lbnQ7XHJcbiAgICByb29rOkhUTUxJbWFnZUVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2hlc3Nib2FyZDpDaGVzc2JvYXJkLCBtb3ZlOk1vdmUsIHJld2luZDpib29sZWFuKXtcclxuICAgICAgICBsZXQgcm9va01vdmUgPSBnZXRDYXN0bGluZ1Jvb2tNb3ZlKG1vdmUuZmxhZ3MsIG1vdmUuY29sb3IpO1xyXG4gICAgICAgIHRoaXMucm9va1NvdXJjZVNxdWFyZSA9IGNoZXNzYm9hcmQuc3F1YXJlc1tyb29rTW92ZS5mcm9tXS5lbGVtZW50O1xyXG4gICAgICAgIHRoaXMucm9va1RhcmdldFNxdWFyZSA9IGNoZXNzYm9hcmQuc3F1YXJlc1tyb29rTW92ZS50b10uZWxlbWVudDtcclxuICAgICAgICB0aGlzLnJvb2sgPSAocmV3aW5kID8gdGhpcy5yb29rVGFyZ2V0U3F1YXJlLmZpcnN0Q2hpbGQgOiB0aGlzLnJvb2tTb3VyY2VTcXVhcmUuZmlyc3RDaGlsZCkgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRDYXN0bGluZ1Jvb2tNb3ZlKGZsYWc6c3RyaW5nLCBjb2xvcjpzdHJpbmcpe1xyXG4gICAgc3dpdGNoKGZsYWcpe1xyXG4gICAgICAgIGNhc2UgXCJrXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvciA9PT0gXCJ3XCIgPyB7ZnJvbTpcImgxXCIsIHRvOlwiZjFcIn0gOiB7ZnJvbTpcImg4XCIsIHRvOlwiZjhcIn07XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yID09PSBcIndcIiA/IHtmcm9tOlwiYTFcIiwgdG86XCJkMVwifSA6IHtmcm9tOlwiYThcIiwgdG86XCJkOFwifTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENoZXNzYm9hcmQgfSBmcm9tIFwiLi9DaGVzc2JvYXJkXCI7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIFNoYXJlZHtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpc0NsaWNrT25DaGVzc2JvYXJkKGV2ZW50OiBNb3VzZUV2ZW50LCBjaGVzc2JvYXJkOkNoZXNzYm9hcmQpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHJlY3QgPSBnZXRPZmZzZXRSZWN0YW5nbGUoY2hlc3Nib2FyZC5lbGVtZW50KTtcclxuICAgICAgICBsZXQgcG9pbnQgPSBnZXRBYnNvbHV0ZU1vdXNlUG9zaXRpb24oZXZlbnQpO1xyXG4gICAgICAgIHJldHVybiBwb2ludC54ID4gcmVjdC54ICYmIHBvaW50LnggPCByZWN0LnggKyByZWN0LndpZHRoICYmIHBvaW50LnkgPiByZWN0LnkgJiYgcG9pbnQueSA8IHJlY3QueSArIHJlY3QuaGVpZ2h0O1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldENsaWNrZWRTcXVhcmUoZXZlbnQ6TW91c2VFdmVudCwgY2hlc3Nib2FyZDpDaGVzc2JvYXJkKXtcclxuICAgICAgICBsZXQgYm9hcmRXaWR0aEFuZEhlaWdodCA9IGNoZXNzYm9hcmQuZWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgICBsZXQgc3F1YXJlV2lkdGhBbmRIZWlnaHQgPSBib2FyZFdpZHRoQW5kSGVpZ2h0IC8gODtcclxuICAgICAgICBsZXQgYm9hcmRDb29yZGluYXRlWCA9IGV2ZW50LmNsaWVudFggLSBjaGVzc2JvYXJkLmVsZW1lbnQub2Zmc2V0TGVmdCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICAgIGxldCBib2FyZENvb3JkaW5hdGVZID0gZXZlbnQuY2xpZW50WSAtIGNoZXNzYm9hcmQuZWxlbWVudC5vZmZzZXRUb3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgIGxldCByb3dJbmRleCA9IE1hdGguZmxvb3IoYm9hcmRDb29yZGluYXRlWSAvIHNxdWFyZVdpZHRoQW5kSGVpZ2h0KTtcclxuICAgICAgICBsZXQgY29sdW1uSW5kZXggPSBNYXRoLmZsb29yKGJvYXJkQ29vcmRpbmF0ZVggLyBzcXVhcmVXaWR0aEFuZEhlaWdodCk7XHJcbiAgICAgICAgbGV0IHRhcmdldFNxdWFyZUluZGV4ID0gKHJvd0luZGV4ICogOCkgKyBjb2x1bW5JbmRleDtcclxuICAgICAgICByZXR1cm4gY2hlc3Nib2FyZC5zcXVhcmVDb250YWluZXIuY2hpbGRyZW5bdGFyZ2V0U3F1YXJlSW5kZXhdIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldE9mZnNldFJlY3RhbmdsZShlbGVtZW50OkhUTUxFbGVtZW50KXtcclxuICAgICAgICBsZXQgcmVjdCA9IHsgeDogZWxlbWVudC5vZmZzZXRMZWZ0LCB5OiBlbGVtZW50Lm9mZnNldFRvcCwgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgfTtcclxuICAgICAgICB3aGlsZSAoZWxlbWVudC5vZmZzZXRQYXJlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcclxuICAgICAgICAgICAgcmVjdC54ICs9IGVsZW1lbnQub2Zmc2V0TGVmdDtcclxuICAgICAgICAgICAgcmVjdC55ICs9IGVsZW1lbnQub2Zmc2V0VG9wO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVjdDtcclxuICAgIH1cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRBYnNvbHV0ZU1vdXNlUG9zaXRpb24oZXZlbnQ6TW91c2VFdmVudCl7XHJcbiAgICAgICAgbGV0IHggPSBldmVudC5jbGllbnRYICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XHJcbiAgICAgICAgbGV0IHkgPSBldmVudC5jbGllbnRZICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHBsYXkgZnJvbSBcIi4vaW1nL2ljb25zL3BsYXkuc3ZnXCI7XHJcbmltcG9ydCBwYXVzZSBmcm9tIFwiLi9pbWcvaWNvbnMvcGF1c2Uuc3ZnXCI7XHJcbmltcG9ydCBnb1RvU3RhcnQgZnJvbSBcIi4vaW1nL2ljb25zL2dvLXRvLXN0YXJ0LnN2Z1wiO1xyXG5pbXBvcnQgZ29Ub0VuZCBmcm9tIFwiLi9pbWcvaWNvbnMvZ28tdG8tZW5kLnN2Z1wiO1xyXG5pbXBvcnQgZm9yd2FyZCBmcm9tIFwiLi9pbWcvaWNvbnMvZm9yd2FyZC5zdmdcIjtcclxuaW1wb3J0IHJld2luZCBmcm9tIFwiLi9pbWcvaWNvbnMvcmV3aW5kLnN2Z1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWNvbnN7XHJcbiAgICBzdGF0aWMgcGxheSA9IHBsYXk7XHJcbiAgICBzdGF0aWMgcGF1c2UgPSBwYXVzZTtcclxuICAgIHN0YXRpYyBnb1RvU3RhcnQgPSBnb1RvU3RhcnQ7XHJcbiAgICBzdGF0aWMgZ29Ub0VuZCA9IGdvVG9FbmQ7XHJcbiAgICBzdGF0aWMgZm9yd2FyZCA9IGZvcndhcmQ7XHJcbiAgICBzdGF0aWMgcmV3aW5kID0gcmV3aW5kO1xyXG59IiwiZXhwb3J0IG5hbWVzcGFjZSBQR057XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZVxyXG4gICAge1xyXG4gICAgICAgIHRhZ3M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcclxuICAgICAgICBtb3ZlVGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgZW51bSBTZWN0aW9uVHlwZXtcclxuICAgICAgICBUYWdzLFxyXG4gICAgICAgIE1vdmVzXHJcbiAgICB9XHJcbiAgICB0eXBlIFNlY3Rpb24gPSB7XHJcbiAgICAgICAgdHlwZTpTZWN0aW9uVHlwZSxcclxuICAgICAgICB0ZXh0OnN0cmluZ1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNob3dKU09OKGdhbWVzOkdhbWVbXSl7XHJcbiAgICAgICAgbGV0IGpzb25TdHJpbmcgPSAne1wiZ2FtZXNcIltcIic7XHJcbiAgICAgICAgZ2FtZXMuZm9yRWFjaChnYW1lID0+e1xyXG4gICAgICAgICAgICBqc29uU3RyaW5nICs9IEpTT04uc3RyaW5naWZ5KGdhbWUpICsgXCJcXG4sXCI7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAganNvblN0cmluZyA9IGpzb25TdHJpbmcuc2xpY2UoMCwgLTEpICsgXCJdfVwiO1xyXG4gICAgICAgIGxldCBocmVmQ29udGVudCA9IGVuY29kZVVSSUNvbXBvbmVudChqc29uU3RyaW5nKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgJzxhIGlkPVwiZG93bmxvYWRBbmNob3JFbGVtXCIgZG93bmxvYWQ9XCJkYXRhLmpzb25cIiBocmVmPVwiZGF0YTp0ZXh0L2pzb247Y2hhcnNldD11dGYtOCwnICsgaHJlZkNvbnRlbnQgKyAnXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj48L2E+Jyk7XHJcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRvd25sb2FkQW5jaG9yRWxlbVwiKTtcclxuICAgICAgICBsaW5rPy5jbGljaygpO1xyXG4gICAgICAgIGxpbms/LnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0dhbWVzKHBnblRleHQ6c3RyaW5nKTpHYW1lW118dW5kZWZpbmVke1xyXG4gICAgICAgIGxldCBzZWN0aW9ucyA9IGdldFNlY3Rpb25zKHBnblRleHQpO1xyXG4gICAgICAgIGlmIChzZWN0aW9ucyl7XHJcbiAgICAgICAgICAgIGxldCBwZ25HYW1lczpHYW1lW10gPSBbXTtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRHYW1lID0gbmV3IEdhbWUoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgc2VjdGlvbiBvZiBzZWN0aW9ucyl7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbi50eXBlID09PSBTZWN0aW9uVHlwZS5UYWdzKXtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R2FtZS50YWdzID0gZ2V0VGFncyhzZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdhbWUubW92ZVRleHQgPSBzZWN0aW9uLnRleHQuc3BsaXQoXCJcXHJcXG5cIikuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGduR2FtZXMucHVzaChjdXJyZW50R2FtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdhbWUgPSBuZXcgR2FtZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwZ25HYW1lcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldFNlY3Rpb25zKHBnblRleHQ6IHN0cmluZyk6IFNlY3Rpb25bXSB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKHBnblRleHQpe1xyXG4gICAgICAgICAgICBsZXQgc2VjdGlvbnM6U2VjdGlvbltdID0gW107XHJcbiAgICAgICAgICAgIGxldCB0ZXh0cyA9IHBnblRleHQuc3BsaXQoXCJcXHJcXG5cXHJcXG5cIik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHRleHQgb2YgdGV4dHMpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRbMF0gPT09IFwiW1wiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbnMucHVzaCh7dHlwZTpTZWN0aW9uVHlwZS5UYWdzLCB0ZXh0OnRleHR9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dFswXSA9PT0gXCIxXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9ucy5wdXNoKHt0eXBlOlNlY3Rpb25UeXBlLk1vdmVzLCB0ZXh0OiB0ZXh0fSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0VGFncyhzZWN0aW9uOlNlY3Rpb24pe1xyXG4gICAgICAgIGxldCB0YWdzOlJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcclxuICAgICAgICBsZXQgbGluZXMgPSBzZWN0aW9uLnRleHQuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgZm9yIChsZXQgbGluZSBvZiBsaW5lcyl7XHJcbiAgICAgICAgICAgIGxldCB0YWcgPSBnZXRUYWcobGluZSk7XHJcbiAgICAgICAgICAgIGlmICh0YWcpe1xyXG4gICAgICAgICAgICAgICAgdGFnc1t0YWcua2V5XSA9IHRhZy52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFncztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldFRhZyh0ZXh0OnN0cmluZyl7XHJcbiAgICAgICAgdGV4dCA9IHRleHQudHJpbSgpO1xyXG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDQgJiYgdGV4dFswXSA9PT0gXCJbXCIpe1xyXG4gICAgICAgICAgICBsZXQgaW5kZXhPZkVuZEJyYWNrZXQgPSB0ZXh0Lmxhc3RJbmRleE9mKFwiXVwiKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4T2ZFbmRCcmFja2V0ID4gMyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXhPZkVtcHR5U3BhY2UgPSB0ZXh0LmluZGV4T2YoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IHRleHQuc3Vic3RyaW5nKDEsIGluZGV4T2ZFbXB0eVNwYWNlKTtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRleHQuc3Vic3RyaW5nKGluZGV4T2ZFbXB0eVNwYWNlICsyLCBpbmRleE9mRW5kQnJhY2tldCAtMSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge2tleToga2V5LCB2YWx1ZTogdmFsdWV9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVVEZ7XHJcbiAgICBzdGF0aWMgcGllY2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAgIFtcIlBcIl06IFwiJiM5ODIzXCIsXHJcbiAgICAgICAgW1wiUlwiXTogXCImIzk4MjBcIixcclxuICAgICAgICBbXCJOXCJdOiBcIiYjOTgyMlwiLFxyXG4gICAgICAgIFtcIkJcIl06IFwiJiM5ODIxXCIsXHJcbiAgICAgICAgW1wiUVwiXTogXCImIzk4MTlcIixcclxuICAgICAgICBbXCJLXCJdOiBcIiYjOTgxOFwiLFxyXG4gICAgICAgIFtcInBcIl06IFwiJiM5ODE3XCIsXHJcbiAgICAgICAgW1wiclwiXTogXCImIzk4MTRcIixcclxuICAgICAgICBbXCJuXCJdOiBcIiYjOTgxNlwiLFxyXG4gICAgICAgIFtcImJcIl06IFwiJiM5ODE1XCIsXHJcbiAgICAgICAgW1wicVwiXTogXCImIzk4MTNcIixcclxuICAgICAgICBbXCJrXCJdOiBcIiYjOTgxMlwiXHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IHsgTW92ZSB9IGZyb20gXCJjaGVzcy5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lLCBHYW1lU3RhdGUgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9jaGVzcy9HYW1lXCI7XHJcbmltcG9ydCB7IEdhbWVDb250cm9sbGVyIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvY2hlc3MvR2FtZUNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgUEdOIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvcGduVmlld2VyL1BHTlwiO1xyXG5pbXBvcnQgVVRGIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3BnblZpZXdlci9VVEZcIjtcclxuaW1wb3J0IEljb25zIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3BnblZpZXdlci9JY29uc1wiO1xyXG5pbXBvcnQgKiBhcyBqc29uIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2NoZXNzL2Fzc2V0cy9kYXRhL2dhbWVzLmpzb25cIjtcclxuaW1wb3J0IFwiLi4vbWFzdGVyLmNzc1wiO1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxubGV0IGNoZXNzYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoZXNzXCIpIGFzIEhUTUxFbGVtZW50O1xyXG5sZXQgZ2FtZUNvbnRyb2xsZXIgPSBuZXcgR2FtZUNvbnRyb2xsZXIoY2hlc3Nib2FyZCwgXCJzdGFydFwiLCBcImJvdGhcIiwgdHJ1ZSk7XHJcbmxldCBsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ1wiKSBhcyBIVE1MRWxlbWVudDtcclxubGV0IGF1dG9wbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdXRvcGxheVwiKSBhcyBIVE1MRWxlbWVudDtcclxubGV0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWxlLXVwbG9hZFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxubGV0IHBnbkdhbWVzOiBQR04uR2FtZVtdIHwgdW5kZWZpbmVkID0ganNvbi5nYW1lcztcclxubGlzdEluTWVudShwZ25HYW1lcyk7XHJcblxyXG5sZXQgaWNvbkdvVG9TdGFydCA9IHByZXBhcmVJY29uKFwiZ28tdG8tc3RhcnRcIiwgSWNvbnMuZ29Ub1N0YXJ0LCAoKT0+e1xyXG4gICAgbG9nLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBnYW1lQ29udHJvbGxlci5nb1RvU3RhcnQoKTtcclxufSk7XHJcbmxldCBpY29uUmV3aW5kID0gcHJlcGFyZUljb24oXCJyZXdpbmRcIiwgSWNvbnMucmV3aW5kLCBnYW1lQ29udHJvbGxlci5yZXdpbmQpO1xyXG5sZXQgaWNvblBsYXkgPSBwcmVwYXJlSWNvbihcInBsYXlcIiwgSWNvbnMucGxheSwgZ2FtZUNvbnRyb2xsZXIucGxheSk7XHJcbmxldCBpY29uUGF1c2UgPSBwcmVwYXJlSWNvbihcInBhdXNlXCIsIEljb25zLnBhdXNlLCBnYW1lQ29udHJvbGxlci5wYXVzZSk7XHJcbmxldCBpY29uRm9yd2FyZCA9IHByZXBhcmVJY29uKFwiZm9yd2FyZFwiLCBJY29ucy5mb3J3YXJkLCBnYW1lQ29udHJvbGxlci5mb3J3YXJkKTtcclxubGV0IGljb25Hb1RvRW5kID0gcHJlcGFyZUljb24oXCJnby10by1lbmRcIiwgSWNvbnMuZ29Ub0VuZCwgKCkgPT57XHJcbiAgICBpZiAoZ2FtZUNvbnRyb2xsZXIuY3VycmVudEdhbWUpe1xyXG4gICAgICAgIGxvZy5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGxldCBtb3ZlTnVtYmVyID0gMDtcclxuICAgICAgICBnYW1lQ29udHJvbGxlci5nb1RvRW5kKCk7XHJcbiAgICAgICAgZ2FtZUNvbnRyb2xsZXIuY3VycmVudEdhbWUubW92ZXMuZm9yRWFjaChtb3ZlID0+e1xyXG4gICAgICAgICAgICBhZGRMb2dJdGVtKG1vdmVOdW1iZXIrKywgbW92ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5mdW5jdGlvbiBwcmVwYXJlSWNvbihpZDpzdHJpbmcsIGljb25Vcmw6c3RyaW5nLCBmbjogKCkgPT4gdm9pZCl7XHJcbiAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgaWNvbi5zcmMgPSBpY29uVXJsO1xyXG4gICAgaWNvbi5vbmNsaWNrID0gZm47XHJcbiAgICByZXR1cm4gaWNvbjtcclxufVxyXG5mdW5jdGlvbiBvbk1lbnVJdGVtQ2xpY2soZXZlbnQ6TW91c2VFdmVudCl7XHJcbiAgICBpZiAocGduR2FtZXMgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgYXV0b3BsYXkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIGxldCBlbGVtZW50ID0gZXZlbnQuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgIEFycmF5LmZyb20oZWxlbWVudC5wYXJlbnRFbGVtZW50IS5jaGlsZHJlbikuZm9yRWFjaChpdGVtID0+e1xyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgbGV0IGluZGV4ID0gWy4uLmVsZW1lbnQucGFyZW50Tm9kZSEuY2hpbGRyZW5dLmluZGV4T2YoZWxlbWVudCk7XHJcbiAgICBsZXQgcGduR2FtZSA9IHBnbkdhbWVzW2luZGV4XTtcclxuICAgIGxldCBnYW1lID0gbmV3IEdhbWUocGduR2FtZS5tb3ZlVGV4dCk7XHJcbiAgICBsb2cuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIGxldCB3aGl0ZU5hbWUgPSBwZ25HYW1lLnRhZ3NbXCJXaGl0ZVwiXSB8fCBcIldoaXRlXCI7XHJcbiAgICBsZXQgYmxhY2tOYW1lID0gcGduR2FtZS50YWdzW1wiQmxhY2tcIl0gfHwgXCJCbGFja1wiO1xyXG4gICAgZ2FtZUNvbnRyb2xsZXIuc3RhcnRHYW1lKGdhbWUsIHdoaXRlTmFtZSwgYmxhY2tOYW1lKTtcclxufVxyXG5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+e1xyXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gcmVhZGVyLnJlc3VsdDtcclxuICAgICAgICAgICAgaWYgKHRleHQgJiYgdHlwZW9mIHRleHQgPT09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBnbkdhbWVzID0gUEdOLmNvbnZlcnRUb0dhbWVzKHRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBnbkdhbWVzKXtcclxuICAgICAgICAgICAgICAgICAgICBwZ25HYW1lcy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGduR2FtZXMuc29ydCgoYSxiKSA9PiBiLnRhZ3NbXCJEYXRlXCJdLmxvY2FsZUNvbXBhcmUoYS50YWdzW1wiRGF0ZVwiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBHTi5zaG93SlNPTihwZ25HYW1lcy5zbGljZSgwLDUwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdEluTWVudShwZ25HYW1lcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZhbHNlXHJcbiAgICApO1xyXG4gICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoaW5wdXQuZmlsZXNbMF0pO1xyXG4gICAgfVxyXG59KTtcclxuZnVuY3Rpb24gbGlzdEluTWVudShnYW1lczogUEdOLkdhbWVbXSl7XHJcbiAgICBsZXQgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKSBhcyBIVE1MRWxlbWVudDtcclxuICAgIGxldCBpdGVtcyA9IG1lbnUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIml0ZW1zXCIpWzBdO1xyXG4gICAgaXRlbXMuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIGdhbWVzLmZvckVhY2goZ2FtZSA9PlxyXG4gICAge1xyXG4gICAgICAgIGxldCBtZW51SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgaXRlbXMuYXBwZW5kQ2hpbGQobWVudUl0ZW0pO1xyXG4gICAgICAgIG1lbnVJdGVtLm9uY2xpY2sgPSBvbk1lbnVJdGVtQ2xpY2s7XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZ2FtZS50YWdzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGtleSArIFwiOiBcIiArIHZhbHVlO1xyXG4gICAgICAgICAgICBtZW51SXRlbS5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmdhbWVDb250cm9sbGVyLmNhbGxiYWNrcy5vbkdhbWVTdGF0ZUNoYW5nZWQgPSAobmV3U3RhdGU6R2FtZVN0YXRlKSA9PntcclxuICAgIHN3aXRjaCAobmV3U3RhdGUpe1xyXG4gICAgICAgIGNhc2UgR2FtZVN0YXRlLlN0YXJ0OlxyXG4gICAgICAgICAgICBlbmFibGUoW2ljb25QbGF5LCBpY29uRm9yd2FyZCwgaWNvbkdvVG9FbmRdKTtcclxuICAgICAgICAgICAgZGlzYWJsZShbaWNvbkdvVG9TdGFydCwgaWNvblJld2luZCwgaWNvblBhdXNlXSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgR2FtZVN0YXRlLlBsYXk6XHJcbiAgICAgICAgICAgIGVuYWJsZShbaWNvbkdvVG9TdGFydCwgaWNvblJld2luZCwgaWNvblBhdXNlLCBpY29uRm9yd2FyZCwgaWNvbkdvVG9FbmRdKTtcclxuICAgICAgICAgICAgZGlzYWJsZShbaWNvblBsYXldKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBHYW1lU3RhdGUuUGF1c2U6XHJcbiAgICAgICAgICAgIGVuYWJsZShbaWNvbkdvVG9TdGFydCwgaWNvblJld2luZCwgaWNvblBsYXksIGljb25Gb3J3YXJkLCBpY29uR29Ub0VuZF0pO1xyXG4gICAgICAgICAgICBkaXNhYmxlKFtpY29uUGF1c2VdKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBHYW1lU3RhdGUuUmV3aW5kOlxyXG4gICAgICAgICAgICBlbmFibGUoW2ljb25Hb1RvU3RhcnQsIGljb25QbGF5LCBpY29uUGF1c2UsIGljb25Gb3J3YXJkLCBpY29uR29Ub0VuZF0pO1xyXG4gICAgICAgICAgICBkaXNhYmxlKFtpY29uUmV3aW5kXSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgR2FtZVN0YXRlLkZvcndhcmQ6XHJcbiAgICAgICAgICAgIGVuYWJsZShbaWNvbkdvVG9TdGFydCwgaWNvblJld2luZCwgaWNvblBsYXksIGljb25QYXVzZSwgaWNvbkdvVG9FbmRdKTtcclxuICAgICAgICAgICAgZGlzYWJsZShbaWNvbkZvcndhcmRdKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBHYW1lU3RhdGUuRW5kOlxyXG4gICAgICAgICAgICBlbmFibGUoW2ljb25Hb1RvU3RhcnQsIGljb25SZXdpbmRdKTtcclxuICAgICAgICAgICAgZGlzYWJsZShbaWNvblBsYXksIGljb25QYXVzZSwgaWNvbkZvcndhcmQsIGljb25Hb1RvRW5kXSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGRpc2FibGUoaWNvbnM6IEhUTUxJbWFnZUVsZW1lbnRbXSl7XHJcbiAgICBpY29ucy5mb3JFYWNoKGljb249PntcclxuICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGVuYWJsZShpY29uczogSFRNTEltYWdlRWxlbWVudFtdKXtcclxuICAgIGljb25zLmZvckVhY2goaWNvbj0+e1xyXG4gICAgICAgIGljb24uY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG4gICAgfSk7XHJcbn1cclxuZ2FtZUNvbnRyb2xsZXIuY2FsbGJhY2tzLm9uTW92ZVN0YXJ0ID0gKG1vdmU6TW92ZSwgaW5kZXg6bnVtYmVyLCByZXdpbmQ6Ym9vbGVhbikgPT57XHJcbiAgICBpZiAoIXJld2luZCl7XHJcbiAgICAgICAgYWRkTG9nSXRlbShpbmRleCwgbW92ZSk7XHJcbiAgICB9XHJcbn1cclxuZ2FtZUNvbnRyb2xsZXIuY2FsbGJhY2tzLm9uTW92ZUVuZCA9IChtb3ZlOk1vdmUsIGluZGV4Om51bWJlciwgcmV3aW5kOmJvb2xlYW4pID0+e1xyXG4gICAgaWYgKHJld2luZCl7XHJcbiAgICAgICAgbG9nLnJlbW92ZUNoaWxkKGxvZy5sYXN0Q2hpbGQgYXMgTm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZ2FtZUNvbnRyb2xsZXIuY2FsbGJhY2tzLm9uQ2FwdHVyZSA9IChjb2xvcjpzdHJpbmcsIGZlbkNoYXI6c3RyaW5nLCBjYXB0dXJlZFBpZWNlOkhUTUxJbWFnZUVsZW1lbnQsIHJlY3Q6RE9NUmVjdCkgPT57XHJcbiAgICBjb25zb2xlLmxvZyhcIlwiKTtcclxufVxyXG5mdW5jdGlvbiBhZGRMb2dJdGVtKG1vdmVJbmRleDpudW1iZXIsIG1vdmU6TW92ZSl7XHJcbiAgICBsZXQgbW92ZU51bWJlciA9IG1vdmVJbmRleCArMTtcclxuICAgIGxldCB0dXJuTnVtYmVyID0gTWF0aC5jZWlsKG1vdmVOdW1iZXIgLyAyKTtcclxuICAgIGxldCBpc05ld1R1cm4gPSBtb3ZlTnVtYmVyICUgMiAhPT0gMDtcclxuICAgIGxldCBsb2dJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBsZXQgZmlyc3RDaGFyID0gbW92ZS5zYW4uc3Vic3RyaW5nKDAsIDEpO1xyXG4gICAgbGV0IGxvZ1RleHQgPSBpc05ld1R1cm4gPyB0dXJuTnVtYmVyICsgXCIuXCIgOiBcIlwiO1xyXG4gICAgaWYgKGZpcnN0Q2hhciA9PT0gZmlyc3RDaGFyLnRvVXBwZXJDYXNlKCkgJiYgZmlyc3RDaGFyLnRvVXBwZXJDYXNlKCkgIT09IFwiT1wiKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChtb3ZlLmNvbG9yID09PSBcImJcIil7XHJcbiAgICAgICAgICAgIGZpcnN0Q2hhciA9IGZpcnN0Q2hhci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaXJzdENoYXIgPSBVVEYucGllY2VzW2ZpcnN0Q2hhcl07XHJcbiAgICAgICAgbG9nVGV4dCArPSBmaXJzdENoYXIgKyBtb3ZlLnNhbi5zdWJzdHJpbmcoMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICAgICAgbG9nVGV4dCArPSBtb3ZlLnNhbjtcclxuICAgIGxvZ0l0ZW0uaW5uZXJIVE1MID0gbG9nVGV4dCArIFwiIFwiO1xyXG4gICAgbG9nLmFwcGVuZENoaWxkKGxvZ0l0ZW0pO1xyXG59XHJcbmxvZy5vbmNsaWNrPShldmVudCkgPT57XHJcbiAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgaWYgKHRhcmdldCAhPT0gbG9nKXtcclxuICAgICAgICBsZXQgbG9nSXRlbUluZGV4ID0gQXJyYXkuZnJvbShsb2cuY2hpbGRyZW4pLmluZGV4T2YodGFyZ2V0KTtcclxuICAgICAgICBsb2cuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICBpZiAoZ2FtZUNvbnRyb2xsZXIuY3VycmVudEdhbWUpe1xyXG4gICAgICAgICAgICBsZXQgbW92ZXMgPSBnYW1lQ29udHJvbGxlci5jdXJyZW50R2FtZS5tb3ZlcztcclxuICAgICAgICAgICAgZm9yIChsZXQgbW92ZUluZGV4ID0gMDsgbW92ZUluZGV4IDw9IGxvZ0l0ZW1JbmRleDsgbW92ZUluZGV4Kyspe1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vdmUgPSBtb3Zlc1ttb3ZlSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgYWRkTG9nSXRlbShtb3ZlSW5kZXgsIG1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdhbWVDb250cm9sbGVyLmdvVG9Nb3ZlKGxvZ0l0ZW1JbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vVGVzdGluZyBGaXJlc3RvcmVcclxuLy8gbGV0IGJvYmJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib2JieVwiKTtcclxuLy8gYm9iYnkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvYWRCb2JieSk7XHJcbi8vIGFzeW5jIGZ1bmN0aW9uIGxvYWRCb2JieSgpe1xyXG4vLyAgICAgbGV0IGdhbWVzID0gYXdhaXQgR2V0QWxsR2FtZXMoXCIvTGVnZW5kcy9Cb2JieSBGaXNjaGVyL0dhbWVzXCIpO1xyXG4vLyAgICAgZ2FtZXMucmV2ZXJzZSgpO1xyXG4vLyAgICAgZ2FtZXMuc29ydCgoYSxiKSA9PiBiLkRhdGUubG9jYWxlQ29tcGFyZShhLkRhdGUpKTtcclxuLy8gfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==