/*! For license information please see stockfish.3e030febda055b9e4443.js.LICENSE.txt */
"use strict";(self.webpackChunkbest_chess_games=self.webpackChunkbest_chess_games||[]).push([[473],{4307:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgaGVpZ2h0PSIxMDAiIHdpZHRoPSIxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+DQogICAgICAgIDxnPg0KICAgICAgICAgICAgPHRleHQgeD0iNCIgeT0iMTgiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmb250LXNpemU9IjIwIiBmb250LWZhbWlseT0ibW9ub3NwYWNlIiB0cmFuc2Zvcm09InNjYWxlKDEpIiBzdHJva2U9ImJsYWNrIj4xLzI8L3RleHQ+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},3650:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjAvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMtU1ZHLTIwMDEwOTA0L0RURC9zdmcxMC5kdGQiPg0KPCEtLSBDcmVhdG9yOiBDb3JlbERSQVcgLS0+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6b2RtPSJodHRwOi8vcHJvZHVjdC5jb3JlbC5jb20vQ0dTLzExL2NkZG5zLyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjI1MHB4IiBoZWlnaHQ9IjM1MXB4IiBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eSINCiAgICAgdmlld0JveD0iMCAwIDI1MCAzNTIiPg0KICA8cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyMTtzdHJva2UtbGluZWNhcDpyb3VuZCIgZD0iTTQyIDI0N2wwIC0xOTMiLz4NCiAgPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTA7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIiBkPSJNNDkgNTBjNzAsMzAgMTA0LDI4IDE3OCwyIC0yMSw0MiAtMjEsNzQgMCwxMTYgLTcyLDI1IC0xMDEsMjUgLTE3OCwwbDAgLTExOHoiLz4NCjwvc3ZnPg0K"},4825:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNjAwIiBoZWlnaHQ9IjU3MSI+DQogIDxwYXRoIGQ9Im0yOTkuOTkuMjAzLTMyLjQ4NiAxMDAuMDI0LTM4LjMzOCAxMTcuOTNIMGw4NS4wOTkgNjEuODA5IDEwMC4zMTIgNzIuODc4LTM4LjMxNyAxMTcuOTMzLTMyLjQ4MyAxMDAuMDIxIDg1LjA3NS02MS44MDkgMTAwLjMxMi03Mi44NzcgMTAwLjMzMiA3Mi44NzcgODUuMDc1IDYxLjc4OC0zMi40ODYtMTAwLjAwMy0zOC4zMTQtMTE3LjkxIDEwMC4zMzItNzIuODk3IDg1LjA3NS02MS44MDlIMzcwLjg0bC0zOC4zNDItMTE3Ljk1MUwyOTkuOTkuMjAzeiIvPg0KICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjk5Ljk5OSAxMTAuNzc1IDI1NC4wMSAyNTIuMzE3SDEwNS4xN2wxMjAuNDEzIDg3LjQ3Ni00NS45ODUgMTQxLjU0MkwzMDAgMzkzLjg1OWwxMjAuNDEyIDg3LjQ3Ni00NS45ODYtMTQxLjU0MiAxMjAuNDEzLTg3LjQ3NkgzNDUuOTk3bC00NS45OTgtMTQxLjU0MnoiLz4NCjwvc3ZnPg=="},1233:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmkteC1sZyIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPHBhdGggZD0iTTIuMTQ2IDIuODU0YS41LjUgMCAxIDEgLjcwOC0uNzA4TDggNy4yOTNsNS4xNDYtNS4xNDdhLjUuNSAwIDAgMSAuNzA4LjcwOEw4LjcwNyA4bDUuMTQ3IDUuMTQ2YS41LjUgMCAwIDEtLjcwOC43MDhMOCA4LjcwN2wtNS4xNDYgNS4xNDdhLjUuNSAwIDAgMS0uNzA4LS43MDhMNy4yOTMgOHoiLz4NCjwvc3ZnPg=="},7765:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktc2tpcC1lbmQiIHZpZXdCb3g9IjAgMCAxNiAxNiI+DQogIDxwYXRoIGQ9Ik0xMi41IDRhLjUuNSAwIDAgMC0xIDB2My4yNDhMNS4yMzMgMy42MTJDNC43MTMgMy4zMSA0IDMuNjU1IDQgNC4zMDh2Ny4zODRjMCAuNjUzLjcxMy45OTggMS4yMzMuNjk2TDExLjUgOC43NTJWMTJhLjUuNSAwIDAgMCAxIDB6TTUgNC42MzMgMTAuODA0IDggNSAxMS4zNjd6Ii8+DQo8L3N2Zz4="},9221:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktZmFzdC1mb3J3YXJkIiB2aWV3Qm94PSIwIDAgMTYgMTYiPg0KICA8cGF0aCBkPSJNNi44MDQgOCAxIDQuNjMzdjYuNzM0em0uNzkyLS42OTZhLjgwMi44MDIgMCAwIDEgMCAxLjM5MmwtNi4zNjMgMy42OTJDLjcxMyAxMi42OSAwIDEyLjM0NSAwIDExLjY5MlY0LjMwOGMwLS42NTMuNzEzLS45OTggMS4yMzMtLjY5NnoiLz4NCiAgPHBhdGggZD0iTTE0LjgwNCA4IDkgNC42MzN2Ni43MzR6bS43OTItLjY5NmEuODAyLjgwMiAwIDAgMSAwIDEuMzkybC02LjM2MyAzLjY5MkM4LjcxMyAxMi42OSA4IDEyLjM0NSA4IDExLjY5MlY0LjMwOGMwLS42NTMuNzEzLS45OTggMS4yMzMtLjY5NnoiLz4NCjwvc3ZnPg=="},3589:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3ctcmlnaHQtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMTYgMTYiPg0KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xIDhhNyA3IDAgMSAwIDE0IDBBNyA3IDAgMCAwIDEgOG0xNSAwQTggOCAwIDEgMSAwIDhhOCA4IDAgMCAxIDE2IDBNNC41IDcuNWEuNS41IDAgMCAwIDAgMWg1Ljc5M2wtMi4xNDcgMi4xNDZhLjUuNSAwIDAgMCAuNzA4LjcwOGwzLTNhLjUuNSAwIDAgMCAwLS43MDhsLTMtM2EuNS41IDAgMSAwLS43MDguNzA4TDEwLjI5MyA3LjV6Ii8+DQo8L3N2Zz4="},2492:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcGF1c2UiIHZpZXdCb3g9IjAgMCAxNiAxNiI+DQogIDxwYXRoIGQ9Ik02IDMuNWEuNS41IDAgMCAxIC41LjV2OGEuNS41IDAgMCAxLTEgMFY0YS41LjUgMCAwIDEgLjUtLjVtNCAwYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtMSAwVjRhLjUuNSAwIDAgMSAuNS0uNSIvPg0KPC9zdmc+"},4388:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcGxheSIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPHBhdGggZD0iTTEwLjgwNCA4IDUgNC42MzN2Ni43MzR6bS43OTItLjY5NmEuODAyLjgwMiAwIDAgMSAwIDEuMzkybC02LjM2MyAzLjY5MkM0LjcxMyAxMi42OSA0IDEyLjM0NSA0IDExLjY5MlY0LjMwOGMwLS42NTMuNzEzLS45OTggMS4yMzMtLjY5NnoiLz4NCjwvc3ZnPg=="},125:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3ctbGVmdC1jaXJjbGUiIHZpZXdCb3g9IjAgMCAxNiAxNiI+DQogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEgOGE3IDcgMCAxIDAgMTQgMEE3IDcgMCAwIDAgMSA4bTE1IDBBOCA4IDAgMSAxIDAgOGE4IDggMCAwIDEgMTYgMG0tNC41LS41YS41LjUgMCAwIDEgMCAxSDUuNzA3bDIuMTQ3IDIuMTQ2YS41LjUgMCAwIDEtLjcwOC43MDhsLTMtM2EuNS41IDAgMCAxIDAtLjcwOGwzLTNhLjUuNSAwIDEgMSAuNzA4LjcwOEw1LjcwNyA3LjV6Ii8+DQo8L3N2Zz4="},2891:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcmV3aW5kIiB2aWV3Qm94PSIwIDAgMTYgMTYiPg0KICA8cGF0aCBkPSJNOS4xOTYgOCAxNSA0LjYzM3Y2LjczNHptLS43OTItLjY5NmEuODAyLjgwMiAwIDAgMCAwIDEuMzkybDYuMzYzIDMuNjkyYy41Mi4zMDIgMS4yMzMtLjA0MyAxLjIzMy0uNjk2VjQuMzA4YzAtLjY1My0uNzEzLS45OTgtMS4yMzMtLjY5NnoiLz4NCiAgPHBhdGggZD0iTTEuMTk2IDggNyA0LjYzM3Y2LjczNHptLS43OTItLjY5NmEuODAyLjgwMiAwIDAgMCAwIDEuMzkybDYuMzYzIDMuNjkyYy41Mi4zMDIgMS4yMzMtLjA0MyAxLjIzMy0uNjk2VjQuMzA4YzAtLjY1My0uNzEzLS45OTgtMS4yMzMtLjY5NnoiLz4NCjwvc3ZnPg=="},6275:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3ctcmVwZWF0IiB2aWV3Qm94PSIwIDAgMTYgMTYiPg0KICA8cGF0aCBkPSJNMTEuNTM0IDdoMy45MzJhLjI1LjI1IDAgMCAxIC4xOTIuNDFsLTEuOTY2IDIuMzZhLjI1LjI1IDAgMCAxLS4zODQgMGwtMS45NjYtMi4zNmEuMjUuMjUgMCAwIDEgLjE5Mi0uNDFtLTExIDJoMy45MzJhLjI1LjI1IDAgMCAwIC4xOTItLjQxTDIuNjkyIDYuMjNhLjI1LjI1IDAgMCAwLS4zODQgMEwuMzQyIDguNTlBLjI1LjI1IDAgMCAwIC41MzQgOSIvPg0KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDNjLTEuNTUyIDAtMi45NC43MDctMy44NTcgMS44MThhLjUuNSAwIDEgMS0uNzcxLS42MzZBNi4wMDIgNi4wMDIgMCAwIDEgMTMuOTE3IDdIMTIuOUE1IDUgMCAwIDAgOCAzTTMuMSA5YTUuMDAyIDUuMDAyIDAgMCAwIDguNzU3IDIuMTgyLjUuNSAwIDEgMSAuNzcxLjYzNkE2LjAwMiA2LjAwMiAwIDAgMSAyLjA4MyA5eiIvPg0KPC9zdmc+"},4218:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktY2FtZXJhIiB2aWV3Qm94PSIwIDAgMTYgMTYiPg0KICA8cGF0aCBkPSJNMTUgMTJhMSAxIDAgMCAxLTEgMUgyYTEgMSAwIDAgMS0xLTFWNmExIDEgMCAwIDEgMS0xaDEuMTcyYTMgMyAwIDAgMCAyLjEyLS44NzlsLjgzLS44MjhBMSAxIDAgMCAxIDYuODI3IDNoMi4zNDRhMSAxIDAgMCAxIC43MDcuMjkzbC44MjguODI4QTMgMyAwIDAgMCAxMi44MjggNUgxNGExIDEgMCAwIDEgMSAxek0yIDRhMiAyIDAgMCAwLTIgMnY2YTIgMiAwIDAgMCAyIDJoMTJhMiAyIDAgMCAwIDItMlY2YTIgMiAwIDAgMC0yLTJoLTEuMTcyYTIgMiAwIDAgMS0xLjQxNC0uNTg2bC0uODI4LS44MjhBMiAyIDAgMCAwIDkuMTcyIDJINi44MjhhMiAyIDAgMCAwLTEuNDE0LjU4NmwtLjgyOC44MjhBMiAyIDAgMCAxIDMuMTcyIDR6Ii8+DQogIDxwYXRoIGQ9Ik04IDExYTIuNSAyLjUgMCAxIDEgMC01IDIuNSAyLjUgMCAwIDEgMCA1bTAgMWEzLjUgMy41IDAgMSAwIDAtNyAzLjUgMy41IDAgMCAwIDAgN00zIDYuNWEuNS41IDAgMSAxLTEgMCAuNS41IDAgMCAxIDEgMCIvPg0KPC9zdmc+"},8750:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktc2tpcC1zdGFydCIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPHBhdGggZD0iTTQgNGEuNS41IDAgMCAxIDEgMHYzLjI0OGw2LjI2Ny0zLjYzNmMuNTItLjMwMiAxLjIzMy4wNDMgMS4yMzMuNjk2djcuMzg0YzAgLjY1My0uNzEzLjk5OC0xLjIzMy42OTZMNSA4Ljc1MlYxMmEuNS41IDAgMCAxLTEgMHptNy41LjYzM0w1LjY5NiA4bDUuODA0IDMuMzY3eiIvPg0KPC9zdmc+"},2169:(t,e,i)=>{i.r(e),i.d(e,{BISHOP:()=>a,BLACK:()=>o,Chess:()=>z,DEFAULT_POSITION:()=>c,KING:()=>d,KNIGHT:()=>n,PAWN:()=>r,QUEEN:()=>h,ROOK:()=>l,SQUARES:()=>f,WHITE:()=>s,validateFen:()=>E});const s="w",o="b",r="p",n="n",a="b",l="r",h="q",d="k",c="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",u=-1,g={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},f=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],p={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},m={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},y={b:[16,32,17,15],w:[-16,-32,-17,-15]},M={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},v=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],b=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],I={p:1,n:2,b:4,r:8,q:16,k:32},C=[n,a,l,h],A={[d]:p.KSIDE_CASTLE,[h]:p.QSIDE_CASTLE},_={w:[{square:m.a1,flag:p.QSIDE_CASTLE},{square:m.h1,flag:p.KSIDE_CASTLE}],b:[{square:m.a8,flag:p.QSIDE_CASTLE},{square:m.h8,flag:p.KSIDE_CASTLE}]},w={b:1,w:6},L=["1-0","0-1","1/2-1/2","*"];function S(t){return t>>4}function k(t){return 15&t}function D(t){return-1!=="0123456789".indexOf(t)}function x(t){const e=k(t),i=S(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(i,i+1)}function N(t){return t===s?o:s}function E(t){const e=t.split(/\s+/);if(6!==e.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const i=parseInt(e[5],10);if(isNaN(i)||i<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(e[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=e[0].split("/");if(8!==o.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let t=0;t<o.length;t++){let e=0,i=!1;for(let s=0;s<o[t].length;s++)if(D(o[t][s])){if(i)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};e+=parseInt(o[t][s],10),i=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[t][s]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};e+=1,i=!1}if(8!==e)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==e[3][1]&&"w"==e[1]||"6"==e[3][1]&&"b"==e[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const r=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:t,regex:i}of r){if(!i.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${t} king`};if((e[0].match(i)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${t} kings`}}return Array.from(o[0]+o[7]).some((t=>"P"===t.toUpperCase()))?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function T(t,e,i,s,o,n=void 0,a=p.NORMAL){const l=S(s);if(o!==r||7!==l&&0!==l)t.push({color:e,from:i,to:s,piece:o,captured:n,flags:a});else for(let r=0;r<C.length;r++){const l=C[r];t.push({color:e,from:i,to:s,piece:o,captured:n,promotion:l,flags:a|p.PROMOTION})}}function j(t){let e=t.charAt(0);if(e>="a"&&e<="h"){if(t.match(/[a-h]\d.*[a-h]\d/))return;return r}return e=e.toLowerCase(),"o"===e?d:e}function P(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function R(t){return t.split(" ").slice(0,4).join(" ")}class z{_board=new Array(128);_turn=s;_header={};_kings={w:u,b:u};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_positionCount={};constructor(t=c){this.load(t)}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:u,b:u},this._turn=s,this._castling={w:0,b:0},this._epSquare=u,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}removeHeader(t){t in this._header&&delete this._header[t]}load(t,{skipValidation:e=!1,preserveHeaders:i=!1}={}){let r=t.split(/\s+/);if(r.length>=2&&r.length<6){const e=["-","-","0","1"];t=r.concat(e.slice(-(6-r.length))).join(" ")}if(r=t.split(/\s+/),!e){const{ok:e,error:i}=E(t);if(!e)throw new Error(i)}const n=r[0];let a=0;this.clear({preserveHeaders:i});for(let t=0;t<n.length;t++){const e=n.charAt(t);if("/"===e)a+=8;else if(D(e))a+=parseInt(e,10);else{const t=e<"a"?s:o;this._put({type:e.toLowerCase(),color:t},x(a)),a++}}this._turn=r[1],r[2].indexOf("K")>-1&&(this._castling.w|=p.KSIDE_CASTLE),r[2].indexOf("Q")>-1&&(this._castling.w|=p.QSIDE_CASTLE),r[2].indexOf("k")>-1&&(this._castling.b|=p.KSIDE_CASTLE),r[2].indexOf("q")>-1&&(this._castling.b|=p.QSIDE_CASTLE),this._epSquare="-"===r[3]?u:m[r[3]],this._halfMoves=parseInt(r[4],10),this._moveNumber=parseInt(r[5],10),this._updateSetup(t),this._incPositionCount(t)}fen(){let t=0,e="";for(let i=m.a8;i<=m.h1;i++){if(this._board[i]){t>0&&(e+=t,t=0);const{color:o,type:r}=this._board[i];e+=o===s?r.toUpperCase():r.toLowerCase()}else t++;i+1&136&&(t>0&&(e+=t),i!==m.h1&&(e+="/"),t=0,i+=8)}let i="";this._castling[s]&p.KSIDE_CASTLE&&(i+="K"),this._castling[s]&p.QSIDE_CASTLE&&(i+="Q"),this._castling[o]&p.KSIDE_CASTLE&&(i+="k"),this._castling[o]&p.QSIDE_CASTLE&&(i+="q"),i=i||"-";let n="-";if(this._epSquare!==u){const t=this._epSquare+(this._turn===s?16:-16),e=[t+1,t-1];for(const t of e){if(136&t)continue;const e=this._turn;if(this._board[t]?.color===e&&this._board[t]?.type===r){this._makeMove({color:e,from:t,to:this._epSquare,piece:r,captured:r,flags:p.EP_CAPTURE});const i=!this._isKingAttacked(e);if(this._undoMove(),i){n=x(this._epSquare);break}}}}return[e,this._turn,i,n,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(t){this._history.length>0||(t!==c?(this._header.SetUp="1",this._header.FEN=t):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(c)}get(t){return this._board[m[t]]||!1}put({type:t,color:e},i){return!!this._put({type:t,color:e},i)&&(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}_put({type:t,color:e},i){if(-1==="pnbrqkPNBRQK".indexOf(t.toLowerCase()))return!1;if(!(i in m))return!1;const s=m[i];if(t==d&&this._kings[e]!=u&&this._kings[e]!=s)return!1;const o=this._board[s];return o&&o.type===d&&(this._kings[o.color]=u),this._board[s]={type:t,color:e},t===d&&(this._kings[e]=s),!0}remove(t){const e=this.get(t);return delete this._board[m[t]],e&&e.type===d&&(this._kings[e.color]=u),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),e}_updateCastlingRights(){const t=this._board[m.e1]?.type===d&&this._board[m.e1]?.color===s,e=this._board[m.e8]?.type===d&&this._board[m.e8]?.color===o;t&&this._board[m.a1]?.type===l&&this._board[m.a1]?.color===s||(this._castling.w&=~p.QSIDE_CASTLE),t&&this._board[m.h1]?.type===l&&this._board[m.h1]?.color===s||(this._castling.w&=~p.KSIDE_CASTLE),e&&this._board[m.a8]?.type===l&&this._board[m.a8]?.color===o||(this._castling.b&=~p.QSIDE_CASTLE),e&&this._board[m.h8]?.type===l&&this._board[m.h8]?.color===o||(this._castling.b&=~p.KSIDE_CASTLE)}_updateEnPassantSquare(){if(this._epSquare===u)return;const t=this._epSquare+(this._turn===s?-16:16),e=this._epSquare+(this._turn===s?16:-16),i=[e+1,e-1];null===this._board[t]&&null===this._board[this._epSquare]&&this._board[e]?.color===N(this._turn)&&this._board[e]?.type===r&&i.some((t=>!(136&t)&&this._board[t]?.color===this._turn&&this._board[t]?.type===r))||(this._epSquare=u)}_attacked(t,e){for(let i=m.a8;i<=m.h1;i++){if(136&i){i+=7;continue}if(void 0===this._board[i]||this._board[i].color!==t)continue;const n=this._board[i],a=i-e;if(0===a)continue;const l=a+119;if(v[l]&I[n.type]){if(n.type===r){if(a>0){if(n.color===s)return!0}else if(n.color===o)return!0;continue}if("n"===n.type||"k"===n.type)return!0;const t=b[l];let h=i+t,d=!1;for(;h!==e;){if(null!=this._board[h]){d=!0;break}h+=t}if(!d)return!0}}return!1}_isKingAttacked(t){const e=this._kings[t];return-1!==e&&this._attacked(N(t),e)}isAttacked(t,e){return this._attacked(e,m[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},e=[];let i=0,s=0;for(let o=m.a8;o<=m.h1;o++){if(s=(s+1)%2,136&o){o+=7;continue}const r=this._board[o];r&&(t[r.type]=r.type in t?t[r.type]+1:1,r.type===a&&e.push(s),i++)}if(2===i)return!0;if(3===i&&(1===t[a]||1===t[n]))return!0;if(i===t[a]+2){let t=0;const i=e.length;for(let s=0;s<i;s++)t+=e[s];if(0===t||t===i)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:t=!1,square:e,piece:i}={}){const s=this._moves({square:e,piece:i});return t?s.map((t=>this._makePretty(t))):s.map((t=>this._moveToSan(t,s)))}_moves({legal:t=!0,piece:e,square:i}={}){const s=i?i.toLowerCase():void 0,o=e?.toLowerCase(),a=[],l=this._turn,h=N(l);let c=m.a8,u=m.h1,g=!1;if(s){if(!(s in m))return[];c=u=m[s],g=!0}for(let t=c;t<=u;t++){if(136&t){t+=7;continue}if(!this._board[t]||this._board[t].color===h)continue;const{type:e}=this._board[t];let i;if(e===r){if(o&&o!==e)continue;i=t+y[l][0],this._board[i]||(T(a,l,t,i,r),i=t+y[l][1],w[l]!==S(t)||this._board[i]||T(a,l,t,i,r,void 0,p.BIG_PAWN));for(let e=2;e<4;e++)i=t+y[l][e],136&i||(this._board[i]?.color===h?T(a,l,t,i,r,this._board[i].type,p.CAPTURE):i===this._epSquare&&T(a,l,t,i,r,r,p.EP_CAPTURE))}else{if(o&&o!==e)continue;for(let s=0,o=M[e].length;s<o;s++){const o=M[e][s];for(i=t;i+=o,!(136&i);){if(this._board[i]){if(this._board[i].color===l)break;T(a,l,t,i,e,this._board[i].type,p.CAPTURE);break}if(T(a,l,t,i,e),e===n||e===d)break}}}}if(!(void 0!==o&&o!==d||g&&u!==this._kings[l])){if(this._castling[l]&p.KSIDE_CASTLE){const t=this._kings[l],e=t+2;this._board[t+1]||this._board[e]||this._attacked(h,this._kings[l])||this._attacked(h,t+1)||this._attacked(h,e)||T(a,l,this._kings[l],e,d,void 0,p.KSIDE_CASTLE)}if(this._castling[l]&p.QSIDE_CASTLE){const t=this._kings[l],e=t-2;this._board[t-1]||this._board[t-2]||this._board[t-3]||this._attacked(h,this._kings[l])||this._attacked(h,t-1)||this._attacked(h,e)||T(a,l,this._kings[l],e,d,void 0,p.QSIDE_CASTLE)}}if(!t||-1===this._kings[l])return a;const f=[];for(let t=0,e=a.length;t<e;t++)this._makeMove(a[t]),this._isKingAttacked(l)||f.push(a[t]),this._undoMove();return f}move(t,{strict:e=!1}={}){let i=null;if("string"==typeof t)i=this._moveFromSan(t,e);else if("object"==typeof t){const e=this._moves();for(let s=0,o=e.length;s<o;s++)if(t.from===x(e[s].from)&&t.to===x(e[s].to)&&(!("promotion"in e[s])||t.promotion===e[s].promotion)){i=e[s];break}}if(!i)throw"string"==typeof t?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);const s=this._makePretty(i);return this._makeMove(i),this._incPositionCount(s.after),s}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(t){const e=this._turn,i=N(e);if(this._push(t),this._board[t.to]=this._board[t.from],delete this._board[t.from],t.flags&p.EP_CAPTURE&&(this._turn===o?delete this._board[t.to-16]:delete this._board[t.to+16]),t.promotion&&(this._board[t.to]={type:t.promotion,color:e}),this._board[t.to].type===d){if(this._kings[e]=t.to,t.flags&p.KSIDE_CASTLE){const e=t.to-1,i=t.to+1;this._board[e]=this._board[i],delete this._board[i]}else if(t.flags&p.QSIDE_CASTLE){const e=t.to+1,i=t.to-2;this._board[e]=this._board[i],delete this._board[i]}this._castling[e]=0}if(this._castling[e])for(let i=0,s=_[e].length;i<s;i++)if(t.from===_[e][i].square&&this._castling[e]&_[e][i].flag){this._castling[e]^=_[e][i].flag;break}if(this._castling[i])for(let e=0,s=_[i].length;e<s;e++)if(t.to===_[i][e].square&&this._castling[i]&_[i][e].flag){this._castling[i]^=_[i][e].flag;break}t.flags&p.BIG_PAWN?this._epSquare=e===o?t.to-16:t.to+16:this._epSquare=u,t.piece===r||t.flags&(p.CAPTURE|p.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,e===o&&this._moveNumber++,this._turn=i}undo(){const t=this._undoMove();if(t){const e=this._makePretty(t);return this._decPositionCount(e.after),e}return null}_undoMove(){const t=this._history.pop();if(void 0===t)return null;const e=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber;const i=this._turn,s=N(i);if(this._board[e.from]=this._board[e.to],this._board[e.from].type=e.piece,delete this._board[e.to],e.captured)if(e.flags&p.EP_CAPTURE){let t;t=i===o?e.to-16:e.to+16,this._board[t]={type:r,color:s}}else this._board[e.to]={type:e.captured,color:s};if(e.flags&(p.KSIDE_CASTLE|p.QSIDE_CASTLE)){let t,i;e.flags&p.KSIDE_CASTLE?(t=e.to+1,i=e.to-1):(t=e.to-2,i=e.to+1),this._board[t]=this._board[i],delete this._board[i]}return e}pgn({newline:t="\n",maxWidth:e=0}={}){const i=[];let s=!1;for(const e in this._header)i.push("["+e+' "'+this._header[e]+'"]'+t),s=!0;s&&this._history.length&&i.push(t);const o=t=>{const e=this._comments[this.fen()];return void 0!==e&&(t=`${t}${t.length>0?" ":""}{${e}}`),t},r=[];for(;this._history.length>0;)r.push(this._undoMove());const n=[];let a="";for(0===r.length&&n.push(o(""));r.length>0;){a=o(a);const t=r.pop();if(!t)break;if(this._history.length||"b"!==t.color)"w"===t.color&&(a.length&&n.push(a),a=this._moveNumber+".");else{const t=`${this._moveNumber}. ...`;a=a?`${a} ${t}`:t}a=a+" "+this._moveToSan(t,this._moves({legal:!0})),this._makeMove(t)}if(a.length&&n.push(o(a)),void 0!==this._header.Result&&n.push(this._header.Result),0===e)return i.join("")+n.join(" ");const l=function(){return i.length>0&&" "===i[i.length-1]&&(i.pop(),!0)},h=function(s,o){for(const r of o.split(" "))if(r){if(s+r.length>e){for(;l();)s--;i.push(t),s=0}i.push(r),s+=r.length,i.push(" "),s++}return l()&&s--,s};let d=0;for(let s=0;s<n.length;s++)d+n[s].length>e&&n[s].includes("{")?d=h(d,n[s]):(d+n[s].length>e&&0!==s?(" "===i[i.length-1]&&i.pop(),i.push(t),d=0):0!==s&&(i.push(" "),d++),i.push(n[s]),d+=n[s].length);return i.join("")}header(...t){for(let e=0;e<t.length;e+=2)"string"==typeof t[e]&&"string"==typeof t[e+1]&&(this._header[t[e]]=t[e+1]);return this._header}loadPgn(t,{strict:e=!1,newlineChar:i="\r?\n"}={}){function s(t){return t.replace(/\\/g,"\\")}t=t.trim();const o=new RegExp("^(\\[((?:"+s(i)+")|.)*\\])((?:\\s*"+s(i)+"){2}|(?:\\s*"+s(i)+")*$)").exec(t),r=o&&o.length>=2?o[1]:"";this.reset();const n=function(t){const e={},o=t.split(new RegExp(s(i)));let r="",n="";for(let t=0;t<o.length;t++){const i=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;r=o[t].replace(i,"$1"),n=o[t].replace(i,"$2"),r.trim().length>0&&(e[r]=n)}return e}(r);let a="";for(const t in n)"fen"===t.toLowerCase()&&(a=n[t]),this.header(t,n[t]);if(e){if("1"===n.SetUp){if(!("FEN"in n))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(n.FEN,{preserveHeaders:!0})}}else a&&this.load(a,{preserveHeaders:!0});const l=function(t){return`{${function(t){return Array.from(t).map((function(t){return t.charCodeAt(0)<128?t.charCodeAt(0).toString(16):encodeURIComponent(t).replace(/%/g,"").toLowerCase()})).join("")}((t=t.replace(new RegExp(s(i),"g")," ")).slice(1,t.length-1))}}`},h=function(t){if(t.startsWith("{")&&t.endsWith("}"))return function(t){return 0==t.length?"":decodeURIComponent("%"+(t.match(/.{1,2}/g)||[]).join("%"))}(t.slice(1,t.length-1))};let d=t.replace(r,"").replace(new RegExp(`({[^}]*})+?|;([^${s(i)}]*)`,"g"),(function(t,e,i){return void 0!==e?l(e):" "+l(`{${i.slice(1)}}`)})).replace(new RegExp(s(i),"g")," ");const c=/(\([^()]+\))+?/g;for(;c.test(d);)d=d.replace(c,"");d=d.replace(/\d+\.(\.\.)?/g,""),d=d.replace(/\.\.\./g,""),d=d.replace(/\$\d+/g,"");let u=d.trim().split(new RegExp(/\s+/));u=u.filter((t=>""!==t));let g="";for(let t=0;t<u.length;t++){const i=h(u[t]);if(void 0!==i){this._comments[this.fen()]=i;continue}const s=this._moveFromSan(u[t],e);if(null==s){if(!(L.indexOf(u[t])>-1))throw new Error(`Invalid move in PGN: ${u[t]}`);g=u[t]}else g="",this._makeMove(s),this._incPositionCount(this.fen())}g&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",g)}_moveToSan(t,e){let i="";if(t.flags&p.KSIDE_CASTLE)i="O-O";else if(t.flags&p.QSIDE_CASTLE)i="O-O-O";else{if(t.piece!==r){const s=function(t,e){const i=t.from,s=t.to,o=t.piece;let r=0,n=0,a=0;for(let t=0,l=e.length;t<l;t++){const l=e[t].from,h=e[t].to;o===e[t].piece&&i!==l&&s===h&&(r++,S(i)===S(l)&&n++,k(i)===k(l)&&a++)}return r>0?n>0&&a>0?x(i):a>0?x(i).charAt(1):x(i).charAt(0):""}(t,e);i+=t.piece.toUpperCase()+s}t.flags&(p.CAPTURE|p.EP_CAPTURE)&&(t.piece===r&&(i+=x(t.from)[0]),i+="x"),i+=x(t.to),t.promotion&&(i+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?i+="#":i+="+"),this._undoMove(),i}_moveFromSan(t,e=!1){const i=P(t);let s,o,r,n,a,l=j(i),h=this._moves({legal:!0,piece:l});for(let t=0,e=h.length;t<e;t++)if(i===P(this._moveToSan(h[t],h)))return h[t];if(e)return null;let d=!1;if(o=i.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),o?(s=o[1],r=o[2],n=o[3],a=o[4],1==r.length&&(d=!0)):(o=i.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),o&&(s=o[1],r=o[2],n=o[3],a=o[4],1==r.length&&(d=!0))),l=j(i),h=this._moves({legal:!0,piece:s||l}),!n)return null;for(let t=0,e=h.length;t<e;t++)if(r){if(!(s&&s.toLowerCase()!=h[t].piece||m[r]!=h[t].from||m[n]!=h[t].to||a&&a.toLowerCase()!=h[t].promotion))return h[t];if(d){const e=x(h[t].from);if(!(s&&s.toLowerCase()!=h[t].piece||m[n]!=h[t].to||r!=e[0]&&r!=e[1]||a&&a.toLowerCase()!=h[t].promotion))return h[t]}}else if(i===P(this._moveToSan(h[t],h)).replace("x",""))return h[t];return null}ascii(){let t="   +------------------------+\n";for(let e=m.a8;e<=m.h1;e++){if(0===k(e)&&(t+=" "+"87654321"[S(e)]+" |"),this._board[e]){const i=this._board[e].type;t+=" "+(this._board[e].color===s?i.toUpperCase():i.toLowerCase())+" "}else t+=" . ";e+1&136&&(t+="|\n",e+=8)}return t+="   +------------------------+\n",t+="     a  b  c  d  e  f  g  h",t}perft(t){const e=this._moves({legal:!1});let i=0;const s=this._turn;for(let o=0,r=e.length;o<r;o++)this._makeMove(e[o]),this._isKingAttacked(s)||(t-1>0?i+=this.perft(t-1):i++),this._undoMove();return i}_makePretty(t){const{color:e,piece:i,from:s,to:o,flags:r,captured:n,promotion:a}=t;let l="";for(const t in p)p[t]&r&&(l+=g[t]);const h=x(s),d=x(o),c={color:e,piece:i,from:h,to:d,san:this._moveToSan(t,this._moves({legal:!0})),flags:l,lan:h+d,before:this.fen(),after:""};return this._makeMove(t),c.after=this.fen(),this._undoMove(),n&&(c.captured=n),a&&(c.promotion=a,c.lan+=a),c}turn(){return this._turn}board(){const t=[];let e=[];for(let i=m.a8;i<=m.h1;i++)null==this._board[i]?e.push(null):e.push({square:x(i),type:this._board[i].type,color:this._board[i].color}),i+1&136&&(t.push(e),e=[],i+=8);return t}squareColor(t){if(t in m){const e=m[t];return(S(e)+k(e))%2==0?"light":"dark"}return null}history({verbose:t=!1}={}){const e=[],i=[];for(;this._history.length>0;)e.push(this._undoMove());for(;;){const s=e.pop();if(!s)break;t?i.push(this._makePretty(s)):i.push(this._moveToSan(s,this._moves())),this._makeMove(s)}return i}_getPositionCount(t){const e=R(t);return this._positionCount[e]||0}_incPositionCount(t){const e=R(t);void 0===this._positionCount[e]&&(this._positionCount[e]=0),this._positionCount[e]+=1}_decPositionCount(t){const e=R(t);1===this._positionCount[e]?delete this._positionCount[e]:this._positionCount[e]-=1}_pruneComments(){const t=[],e={},i=t=>{t in this._comments&&(e[t]=this._comments[t])};for(;this._history.length>0;)t.push(this._undoMove());for(i(this.fen());;){const e=t.pop();if(!e)break;this._makeMove(e),i(this.fen())}this._comments=e}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map((t=>({fen:t,comment:this._comments[t]})))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map((t=>{const e=this._comments[t];return delete this._comments[t],{fen:t,comment:e}}))}setCastlingRights(t,e){for(const i of[d,h])void 0!==e[i]&&(e[i]?this._castling[t]|=A[i]:this._castling[t]&=~A[i]);this._updateCastlingRights();const i=this.getCastlingRights(t);return!(void 0!==e[d]&&e[d]!==i[d]||void 0!==e[h]&&e[h]!==i[h])}getCastlingRights(t){return{[d]:0!=(this._castling[t]&A[d]),[h]:0!=(this._castling[t]&A[h])}}moveNumber(){return this._moveNumber}}},4864:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(1601),o=i.n(s),r=i(6314),n=i.n(r)()(o());n.push([t.id,"svg.drag-box{\n    position: absolute;\n    transform:translate(-50%,-50%);\n    width:0;\n    height:0;\n    cursor: pointer;\n}\n",""]);const a=n},195:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(1601),o=i.n(s),r=i(6314),n=i.n(r)()(o());n.push([t.id,".promotion:hover{\n    stroke-width:4;\n    stroke:#FC0;;\n    cursor:pointer;\n}",""]);const a=n},734:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(1601),o=i.n(s),r=i(6314),n=i.n(r)()(o());n.push([t.id,".game-nav-buttons{\n    margin-top:2px;\n    text-align: center;\n}\n.game-nav-buttons > img{\n    background-color:white;\n    padding:4px 8px;\n    border-radius:4px;\n    cursor:pointer;\n    margin-right:3px;\n}\n.game-nav-buttons > img:hover{\n    outline:2px solid #FC0;\n}\n.game-nav-buttons > img.disabled{\n    background-color:grey;\n    outline:none;\n}",""]);const a=n},4376:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(1601),o=i.n(s),r=i(6314),n=i.n(r)()(o());n.push([t.id,".above {\n    margin-bottom: -3px;\n}\n.below{\n    margin-top:-1px;\n}\n.player{\n    column-count:2;\n    height:4vh;\n}\n.player .name{\n    clear:both;\n    text-align: right;\n    padding-right:4px;\n}\n.player .captures{\n    float:left;\n    margin-top:-5px;\n}\n.below .player .captures{\n    margin-top:-4px;\n}\n.player .score{\n    float:left;\n    margin-left:5px;\n    margin-top:2px;\n    font-size:10pt;\n}\n.player .captures svg{\n    position:static;\n    height:4vh;\n    width:4vh;\n    transform:none;\n    margin-top:0;\n    margin-bottom:-11px;\n}\n.player .captures .p svg:first-child{\n    margin-left:-4px;\n}\n.player .captures .p svg{\n    margin-left:-8px;\n    margin-right:-5px;\n}\n.player .captures .n{\n    margin-left: 2px;\n    margin-right: 1px;\n}\n.player .captures .n svg{\n    margin-left: -6px;\n    margin-right: -3px;\n}\n.player .captures .b svg{\n    margin-left: -7px;\n    margin-right: -4px;\n}\n.player .captures .r svg{\n    margin-left: -6px;\n    margin-right: -5px;\n}\n.player .captures .q svg{\n    margin-bottom:-10px;\n    margin-left: -2px;\n    margin-right: 0px;\n}",""]);const a=n},6833:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(1601),o=i.n(s),r=i(6314),n=i.n(r)()(o());n.push([t.id,".game-history{\n    -webkit-column-width: 130px;\n     -moz-column-width: 130px;\n          column-width: 130px;\n}\n.game-history div{\n    \n}\n.game-history .move{\n    padding:3px;line-height:24px;margin-left:2px;margin-right:3px;border-radius:4px;cursor:pointer;\n}\n.game-history .move:hover{\n    outline:2px solid rgba(255, 255, 51, 0.9);\n}\n.game-history .move.start{\n    background-color:rgba(255, 255, 51, 0.3);\n}\n.game-history .move.end{\n    background-color:rgba(255, 255, 51, 0.4);\n}",""]);const a=n},8730:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(1601),o=i.n(s),r=i(6314),n=i.n(r)()(o());n.push([t.id,"body{\n    padding:0;\n    margin:0;\n    background-color:rgb(57,57,57);\n    color:rgb(245, 245, 245);\n    font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif\n}",""]);const a=n},6627:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(1601),o=i.n(s),r=i(6314),n=i.n(r)()(o());n.push([t.id,'* {\n    box-sizing: border-box;\n}\n.column{\n    float: left;\n    width:50%;\n    padding: 10px;\n    height: 100vh;\n}\n.row:after {\n    content: "";\n    display: table;\n    clear: both;\n}\n#chessgame{\n    width:500px;\n    margin:0 20px;\n}\n#history{\n    margin-top:30px;\n}\n@media screen and (max-width: 900px) {\n    .column {\n        width: 100%;\n    }\n}',""]);const a=n},6314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",s=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),s&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),s&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,s,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var n={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(n[l]=!0)}for(var h=0;h<t.length;h++){var d=[].concat(t[h]);s&&n[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},1601:t=>{t.exports=function(t){return t[1]}},5123:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var s=i(5072),o=i.n(s),r=i(7825),n=i.n(r),a=i(7659),l=i.n(a),h=i(5056),d=i.n(h),c=i(540),u=i.n(c),g=i(1113),f=i.n(g),p=i(4864),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=n(),m.insertStyleElement=u(),o()(p.A,m);const y=p.A&&p.A.locals?p.A.locals:void 0},626:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var s=i(5072),o=i.n(s),r=i(7825),n=i.n(r),a=i(7659),l=i.n(a),h=i(5056),d=i.n(h),c=i(540),u=i.n(c),g=i(1113),f=i.n(g),p=i(195),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=n(),m.insertStyleElement=u(),o()(p.A,m);const y=p.A&&p.A.locals?p.A.locals:void 0},8269:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var s=i(5072),o=i.n(s),r=i(7825),n=i.n(r),a=i(7659),l=i.n(a),h=i(5056),d=i.n(h),c=i(540),u=i.n(c),g=i(1113),f=i.n(g),p=i(734),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=n(),m.insertStyleElement=u(),o()(p.A,m);const y=p.A&&p.A.locals?p.A.locals:void 0},3235:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var s=i(5072),o=i.n(s),r=i(7825),n=i.n(r),a=i(7659),l=i.n(a),h=i(5056),d=i.n(h),c=i(540),u=i.n(c),g=i(1113),f=i.n(g),p=i(4376),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=n(),m.insertStyleElement=u(),o()(p.A,m);const y=p.A&&p.A.locals?p.A.locals:void 0},7178:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var s=i(5072),o=i.n(s),r=i(7825),n=i.n(r),a=i(7659),l=i.n(a),h=i(5056),d=i.n(h),c=i(540),u=i.n(c),g=i(1113),f=i.n(g),p=i(6833),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=n(),m.insertStyleElement=u(),o()(p.A,m);const y=p.A&&p.A.locals?p.A.locals:void 0},2339:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var s=i(5072),o=i.n(s),r=i(7825),n=i.n(r),a=i(7659),l=i.n(a),h=i(5056),d=i.n(h),c=i(540),u=i.n(c),g=i(1113),f=i.n(g),p=i(8730),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=n(),m.insertStyleElement=u(),o()(p.A,m);const y=p.A&&p.A.locals?p.A.locals:void 0},7300:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var s=i(5072),o=i.n(s),r=i(7825),n=i.n(r),a=i(7659),l=i.n(a),h=i(5056),d=i.n(h),c=i(540),u=i.n(c),g=i(1113),f=i.n(g),p=i(6627),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=n(),m.insertStyleElement=u(),o()(p.A,m);const y=p.A&&p.A.locals?p.A.locals:void 0},5072:t=>{var e=[];function i(t){for(var i=-1,s=0;s<e.length;s++)if(e[s].identifier===t){i=s;break}return i}function s(t,s){for(var r={},n=[],a=0;a<t.length;a++){var l=t[a],h=s.base?l[0]+s.base:l[0],d=r[h]||0,c="".concat(h," ").concat(d);r[h]=d+1;var u=i(c),g={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(g);else{var f=o(g,s);s.byIndex=a,e.splice(a,0,{identifier:c,updater:f,references:1})}n.push(c)}return n}function o(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,o){var r=s(t=t||[],o=o||{});return function(t){t=t||[];for(var n=0;n<r.length;n++){var a=i(r[n]);e[a].references--}for(var l=s(t,o),h=0;h<r.length;h++){var d=i(r[h]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=l}}},7659:t=>{var e={};t.exports=function(t,i){var s=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},5056:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},7825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var o=void 0!==i.layer;o&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,o&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var r=i.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},1113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},6523:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(2137)),r=s(i(694)),n=s(i(9443)),a=s(i(9030)),l=s(i(7761)),h=s(i(8422)),d=s(i(1409)),c=s(i(8995));e.default=class{constructor(t,e,i){this.isRotated=!1,this.isRotated=i,this.svgRoot=d.default.createSVG("0 0 800 800"),t.appendChild(this.svgRoot),this.boardLayer=new o.default(this.svgRoot,i),this.cordsLayer=new r.default(this.svgRoot,i),this.pieceLayer=new n.default(this.svgRoot,i),this.arrowLayer=new a.default(this.svgRoot,i),this.resultsLayer=new c.default(this.svgRoot,i),this.mouseEvents=new l.default(this.svgRoot,this.boardLayer,this.arrowLayer,this.isRotated),this.setFen(e,!1)}rotate(){this.isRotated=!this.isRotated,this.boardLayer.rotate(),this.cordsLayer.rotate(),this.pieceLayer.rotate(),this.arrowLayer.rotate(),this.resultsLayer.rotate(),this.mouseEvents.rotate()}setFen(t,e){if(e&&this.pieceLayer.clear(),""!==t){"start"===t.toLowerCase()&&(t=h.default.startFEN),t=t.split(" ")[0].split("/").join("");let e=0;for(let i=0;i<t.length;i++){let s=t[i],o=parseInt(s);if(isNaN(o)){let t=this.isRotated?63-e:e,i=h.default.getSquareKeyByIndex(t,this.isRotated);this.pieceLayer.addPiece(s,i),e++}else e+=o}}}highlightSource(t){this.boardLayer.highlightSource(t)}highlightTarget(t){this.boardLayer.highlightTarget(t)}clearSourceAndTargetHighlights(){this.boardLayer.clearSourceAndTargetHighlights()}highlightSourceAndTarget(t,e){this.boardLayer.highlightSourceAndTarget(t,e)}showGameResult(t){let e=this.pieceLayer.getKings();this.resultsLayer.showGameResult(t,e)}hideGameResult(){this.resultsLayer.clear()}}},9030:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(8422)),r=s(i(1409));e.default=class{constructor(t,e){this.strokeWidth=20,this.rightClickedSquareKey=null,this.isRotated=!1,this.currentArrows=[],this.svgRoot=t;let i=r.default.createGroup();t.appendChild(i),this.group=i,this.isRotated=e}rotate(){this.isRotated=!this.isRotated,this.group.innerHTML="",this.currentArrows.forEach((t=>{this.drawArrow(t.from,t.to)}))}onRightButtonDown(t){this.rightClickedSquareKey=t}onLeftButtonDown(){this.group.innerHTML="",this.currentArrows=[]}onRightButtonUp(t){this.rightClickedSquareKey&&this.rightClickedSquareKey!==t&&this.drawArrow(this.rightClickedSquareKey,t)}drawArrow(t,e){this.currentArrows.push({from:t,to:e});const i=document.createElementNS("http://www.w3.org/2000/svg","polygon");let s=this.svgRoot.createSVGPoint(),o=this.svgRoot.createSVGPoint(),r=this.svgRoot.createSVGPoint(),n=this.svgRoot.createSVGPoint(),a=this.svgRoot.createSVGPoint(),l=this.svgRoot.createSVGPoint(),h=this.svgRoot.createSVGPoint(),d=this.getRelativeCenter(t),c=this.getRelativeCenter(e),u=Math.sqrt(Math.pow(c.x-d.x,2)+Math.pow(c.y-d.y,2)),g={x:(d.x+c.x)/2,y:(d.y+c.y)/2},f=Math.sqrt(Math.pow(40,2)-Math.pow(20,2));s.x=g.x-u/2+30,s.y=g.y-this.strokeWidth/2,o.x=s.x,o.y=s.y+this.strokeWidth,r.x=o.x+u-f-30,r.y=o.y,n.x=r.x,n.y=r.y+(20-this.strokeWidth/2),a.x=n.x+f,a.y=g.y,l.x=n.x,l.y=n.y-40,h.x=r.x,h.y=r.y-this.strokeWidth;let p=c.x-d.x,m=c.y-d.y,y=180*Math.atan2(m,p)/Math.PI;i.setAttribute("transform","rotate("+y+" "+g.x.toString()+" "+g.y.toString()+")"),i.setAttribute("class","arrow"),i.setAttribute("fill","rgba(255, 170, 0, 0.8)"),i.points.appendItem(s),i.points.appendItem(o),i.points.appendItem(r),i.points.appendItem(n),i.points.appendItem(a),i.points.appendItem(l),i.points.appendItem(h),this.group.appendChild(i)}getRelativeCenter(t){let e=t[0],i=t[1];return{x:100*o.default.getHorizontalIndex(e,this.isRotated)+50,y:100*o.default.getVerticalIndex(i,this.isRotated)+50}}}},2137:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(8422)),r=s(i(1409));e.default=class{constructor(t,e){this.sourceColor="rgba(255, 255, 51, 0.3)",this.targetColor="rgba(255, 255, 51, 0.4)",this.rightClickColor="rgb(235, 97, 80, 0.8)",this.rightClicks={},this.rightClickedSquareKey=null,this.svgRoot=t,this.isRotated=e;let i=r.default.createGroup();this.svgRoot.appendChild(i);let s=["l","d","l","d","l","d","l","d"];[0,1,2,3,4,5,6,7].forEach((t=>{[0,1,2,3,4,5,6,7].forEach(((e,o)=>{i.appendChild(this.createBoardRect(e,t,s[o]))})),s=s.reverse()})),this.sourceTargetGroup=r.default.createGroup(),this.svgRoot.appendChild(this.sourceTargetGroup),this.sourceHighlight={squareKey:"a8",type:"source",rect:r.default.createSquare(0,0,"transparent")},this.targetHighlight={squareKey:"a7",type:"target",rect:r.default.createSquare(1,0,"transparent")},this.sourceTargetGroup.appendChild(this.sourceHighlight.rect),this.sourceTargetGroup.appendChild(this.targetHighlight.rect),this.rightClickGroup=r.default.createGroup(),this.svgRoot.appendChild(this.rightClickGroup)}onLeftButtonDown(){this.clearAllHighlights()}onRightButtonDown(t){this.rightClickedSquareKey=t}onRightButtonUp(t){if(this.rightClickedSquareKey&&this.rightClickedSquareKey===t){let e=this.rightClicks[t];e?(this.rightClickGroup.removeChild(e.rect),this.rightClicks[t]=null):this.createRightClickHighlight(t)}}rotate(){this.isRotated=!this.isRotated,this.setPosition(this.sourceHighlight),this.setPosition(this.targetHighlight),Object.values(this.rightClicks).forEach((t=>{t&&this.setPosition(t)}))}highlightSourceAndTarget(t,e){this.clearAllHighlights(),this.highlightSource(t),this.highlightTarget(e)}highlightSource(t){this.sourceHighlight.squareKey=t,this.sourceHighlight.rect.setAttribute("fill",this.sourceColor),this.setPosition(this.sourceHighlight)}highlightTarget(t){this.targetHighlight.squareKey=t,this.targetHighlight.rect.setAttribute("fill",this.targetColor),this.setPosition(this.targetHighlight)}clearSourceAndTargetHighlights(){this.sourceHighlight.rect.setAttribute("fill","transparent"),this.targetHighlight.rect.setAttribute("fill","transparent")}clearAllHighlights(){this.clearSourceAndTargetHighlights(),this.rightClicks={},this.rightClickGroup.innerHTML=""}createRightClickHighlight(t){let e=o.default.getCordinatesBySquareKey(t,this.isRotated),i=r.default.createSquare(e.x,e.y,this.rightClickColor);this.rightClickGroup.appendChild(i),this.rightClicks[t]={squareKey:t,type:"RightClick",rect:i}}setPosition(t){let e=o.default.getCordinatesBySquareKey(t.squareKey,this.isRotated);t.rect.setAttribute("x",(100*e.x).toString()),t.rect.setAttribute("y",(100*e.y).toString())}createBoardRect(t,e,i){return r.default.createSquare(t,e,"l"===i?"rgb(233,237,204)":"rgb(119,153,84)")}}},694:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(1409));e.default=class{constructor(t,e){this.isRotated=e,this.group=o.default.createGroup(),this.group.classList.add("cords"),this.group.setAttribute("font-family","Helvetica"),this.group.setAttribute("font-weight","bold"),this.group.setAttribute("fill","rgb(30,30,30"),t.append(this.group),this.horizontalGroup=o.default.createGroup(),this.verticalGroup=o.default.createGroup(),this.group.appendChild(this.horizontalGroup),this.group.appendChild(this.verticalGroup),this.horizontalGroup.setAttribute("transform","translate(86, 795.5)"),this.verticalGroup.setAttribute("transform","translate(5, 18)"),this.getHorizontalCords(e).forEach(((t,e)=>{let i=o.default.createGroup();i.setAttribute("transform","translate("+(100*e).toString()+",0)"),this.horizontalGroup.appendChild(i);let s=o.default.createText(t,"scale(0.9)");i.appendChild(s)})),this.getVerticalCords(e).forEach(((t,e)=>{let i=o.default.createGroup();i.setAttribute("transform","translate(0,"+ +(100*e).toString()+")"),this.verticalGroup.appendChild(i);let s=o.default.createText(t,"scale(1)");i.appendChild(s)}))}getHorizontalCords(t){let e=["A","B","C","D","E","F","G","H"];return t?e.reverse():e}getVerticalCords(t){let e=["8","7","6","5","4","3","2","1"];return t?e.reverse():e}rotate(){this.isRotated=!this.isRotated;let t=this.getHorizontalCords(this.isRotated),e=this.getVerticalCords(this.isRotated);Array.from(this.horizontalGroup.children).forEach(((e,i)=>{e.children[0].textContent=t[i]})),Array.from(this.verticalGroup.children).forEach(((t,i)=>{t.children[0].textContent=e[i]}))}}},9443:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(7691)),r=s(i(8422)),n=s(i(1409));e.default=class{constructor(t,e){this.positions={},this.group=n.default.createGroup(),t.appendChild(this.group),this.isRotated=e}clear(){this.positions={},this.group.innerHTML=""}getPiece(t){return this.positions[t]}addPiece(t,e){let i=o.default.get(t,e);return this.group.appendChild(i.element),this.setPosition(i),i}rotate(){this.isRotated=!this.isRotated;let t=Object.values(this.positions);this.positions={},t.forEach((t=>{t&&this.setPosition(t)}))}setPosition(t){let e=t.squareKey;this.positions[e]=t,r.default.setPosition(t.element,e,this.isRotated)}getKings(){let t={};return Object.values(this.positions).forEach((e=>{if(e&&("k"===e.fenChar||"K"===e.fenChar)&&(t[e.fenChar]=e,t.k&&t.K))return t})),t}}},8995:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(1409)),r=s(i(4455)),n=s(i(8422));e.default=class{constructor(t,e){this.kings={},this.svgRoot=t,this.isRotated=e,this.group=o.default.createGroup(),this.svgRoot.appendChild(this.group)}clear(){this.group.innerHTML="",this.gameResult=void 0,this.kings={}}rotate(){this.isRotated=!this.isRotated,this.gameResult&&(this.group.innerHTML="",this.showGameResult(this.gameResult,this.kings))}showGameResult(t,e){if(this.gameResult=t,this.kings=e,"1/2-1/2"===t){let t=o.default.createImage(r.default.draw,0,0,100,100),i=o.default.createImage(r.default.draw,0,0,100,100);this.group.appendChild(t),this.group.appendChild(i),this.showImage(t,e.k.squareKey),this.showImage(i,e.K.squareKey)}else{let i=o.default.createImage(r.default.win,0,0,30,30),s=o.default.createImage(r.default.lose,0,0,40,40);this.group.appendChild(i),this.group.appendChild(s);let n="1-0"===t?"k":"K",a=e["1-0"===t?"K":"k"].squareKey,l=e[n].squareKey;this.showImage(i,a),this.showImage(s,l)}}showImage(t,e){let i=n.default.getCordinatesBySquareKey(e,this.isRotated);t.style.transform=`translate(${12.5*i.x}%, ${12.5*i.y}%)`}}},7761:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(8422));e.default=class{constructor(t,e,i,s){this.svgRoot=t,this.isRotated=s,this.svgRoot.addEventListener("mousedown",(t=>{if(t.button&&2==t.button){let s=o.default.getSquareByCursorPosition(this.svgRoot,t,this.isRotated);e.onRightButtonDown(s),i.onRightButtonDown(s)}else e.onLeftButtonDown(),i.onLeftButtonDown();t.preventDefault()})),this.svgRoot.addEventListener("mouseup",(t=>{if(t.button&&2==t.button){let s=o.default.getSquareByCursorPosition(this.svgRoot,t,this.isRotated);e.onRightButtonUp(s),i.onRightButtonUp(s),t.preventDefault()}})),this.svgRoot.addEventListener("contextmenu",(t=>t.preventDefault()))}rotate(){this.isRotated=!this.isRotated}}},8291:function(t,e,i){var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,o)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return o(e,t),e},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(i(2016)),l=r(i(747)),h=r(i(4244)),d=r(i(7954)),c=r(i(7661)),u=r(i(9616)),g=n(i(1409)),f={};f.p=d.g,f.r=u.g,f.n=h.g,f.b=a.g,f.q=c.g,f.k=l.g;const p={};function m(t,e,i){if(e.transform&&t.setAttribute("transform",e.transform),e.style&&e.style[i]&&t.setAttribute("style",e.style[i]),e.circle&&e.circle.forEach((e=>{let i=g.default.createCircle(e.cx,e.cy,e.r);t.appendChild(i)})),e.path&&e.path.forEach((e=>{if(void 0===e.colorIndex||e.colorIndex===i){let s=g.default.createPath(e.d);e.style&&s.setAttribute("style",e.style[i]),t.appendChild(s)}})),e.g){let s=g.default.createGroup();t.appendChild(s),m(s,e.g,i)}}var y;["p","n","b","r","q","k","P","N","B","R","Q","K"].forEach((t=>{let e=g.default.createGroup(),i=g.default.createGroup();i.classList.add("piece"),e.appendChild(i),m(i,f[t.toLowerCase()],t===t.toLowerCase()?0:1),p[t]=e})),function(t){t.get=function(t){return p[t].cloneNode(!0)}}(y||(y={})),e.default=y},7691:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(8291));var r;!function(t){t.get=function(t,e){return{fenChar:t,element:o.default.get(t),squareKey:e}}}(r||(r={})),e.default=r},1409:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){function e(t,e,i,s,o){let r=document.createElementNS("http://www.w3.org/2000/svg","rect");return r.setAttribute("x",t.toString()),r.setAttribute("y",e.toString()),r.setAttribute("width",i.toString()),r.setAttribute("height",s.toString()),o&&r.setAttribute("fill",o),r}t.createSVG=function(t){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("viewBox",t),e},t.createGroup=function(){return document.createElementNS("http://www.w3.org/2000/svg","g")},t.createSquare=function(t,i,s){return e(100*t,100*i,100,100,s)},t.createRect=e,t.createCircle=function(t,e,i){let s=document.createElementNS("http://www.w3.org/2000/svg","circle");return s.setAttribute("cx",t),s.setAttribute("cy",e),s.setAttribute("r",i),s},t.createImage=function(t,e,i,s,o){let r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttribute("href",t),r.setAttribute("x",e.toString()),r.setAttribute("y",i.toString()),r.setAttribute("width",s.toString()),r.setAttribute("height",o.toString()),r},t.createText=function(t,e){let i=document.createElementNS("http://www.w3.org/2000/svg","text");return i.setAttribute("transform",e),i.textContent=t,i},t.createPath=function(t){let e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",t),e}}(i||(i={})),e.default=i},3671:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Download=function(t){let e=document.createElement("canvas");e.height=500,e.width=500;let i=document.createElement("img");i.style.display="none",document.body.prepend(i),i.src=function(t){let e=(new XMLSerializer).serializeToString(t);return"data:image/svg+xml;base64,"+btoa(e)}(t),i.onload=function(){e.getContext("2d").drawImage(i,0,0);var t,s,o;t=e.toDataURL("image/png"),s=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),(o=document.createElement("a")).setAttribute("download","myboard.png"),o.setAttribute("href",t),o.setAttribute("target","_blank"),o.dispatchEvent(s),document.body.removeChild(i)}}}(i||(i={})),e.default=i},8422:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){const e=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],i=["a","b","c","d","e","f","g","h"],s=["8","7","6","5","4","3","2","1"];function o(t,e,o){let r=o?7-e:e;return i[o?7-t:t]+s[r]}function r(t,e){let s=i.indexOf(t);return e?7-s:s}function n(t,e){let i=s.indexOf(t);return e?7-i:i}function a(t,e){return{x:r(t[0],e),y:n(t[1],e)}}t.startFEN="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",t.getSquareKeyByIndexes=o,t.getSquareKeyByIndex=function(t,i){return e[i?63-t:t]},t.getCurrentIndexOfSquareKey=function(t,i){let s=e.indexOf(t);return i?63-s:s},t.getHorizontalIndex=r,t.getVerticalIndex=n,t.getCordinatesBySquareKey=a,t.setPosition=function(t,e,i){let s=a(e,i);t.style.transform=`translate(${12.5*s.x}%, ${12.5*s.y}%)`},t.getSquareByCursorPosition=function(t,e,i){let s=t.parentElement,r=s.clientWidth/8,n=e.clientX-s.offsetLeft+document.documentElement.scrollLeft,a=e.clientY-s.offsetTop+document.documentElement.scrollTop;return o(Math.floor(n/r),Math.floor(a/r),i)},t.addChild=function(t,e,i,s){let o=document.createElement(e);return o.className=i,s&&(o.innerHTML=s),t.appendChild(o),o}}(i||(i={})),e.default=i},4455:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(4825)),r=s(i(3650)),n=s(i(4307));class a{}a.win=o.default,a.lose=r.default,a.draw=n.default,e.default=a},1993:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(1237)),r=s(i(8322)),n=s(i(1125)),a=s(i(9619)),l=s(i(6697)),h=s(i(8422)),d=i(2671),c=i(2169);e.default=class{constructor(t,e,i){this.chess=new c.Chess,this.container=t,this.gameNavigator=new o.default(t,e,i),this.chessboard=this.gameNavigator.chessboard,this.isRotated=i,this.mouseLayer=new a.default(this.chessboard.svgRoot),this.dragAndDrop=new n.default(this.gameNavigator.chessboard,this.isRotated,((t,e,i)=>this.onDrop(t,e,i))),new l.default(this.chessboard.svgRoot,this.dragAndDrop,this.isRotated),this.promotionPanel=new r.default(this.chessboard.svgRoot),""!==e&&this.startGame(e)}startGame(t){if(this.mouseLayer.clear(),"start"===t&&(t=h.default.startFEN),""!==t){this.chess=new c.Chess(t),t=t.split(" ")[0].split("/").join("");let e=0;for(let i=0;i<t.length;i++){let s=t[i],o=parseInt(s);if(isNaN(o)){let t=this.isRotated?63-e:e,i=h.default.getSquareKeyByIndex(t,this.isRotated);this.mouseLayer.enableHover(i,this.isRotated),e++}else e+=o}}}async onDrop(t,e,i){let s;if("p"!==t.toLowerCase()||"1"!==i[1]&&"8"!==i[1])this.move(t,e,i,void 0);else{let o=t===t.toLowerCase()?"b":"w";this.promotionPanel.show(i,o,this.isRotated,(o=>{s=o,this.move(t,e,i,s)}),(()=>{}))}}move(t,e,i,s){try{let o=this.chess.move({from:e,to:i,promotion:s}),r=(0,d.getCastling)(this.chessboard,o,!0),n=this.chessboard.pieceLayer.addPiece(t,e);this.gameNavigator.addMove(o),this.gameNavigator.finishMove(!0,n,o,r)}catch(i){this.chessboard.pieceLayer.addPiece(t,e)}}rotate(){this.isRotated=!this.isRotated,this.dragAndDrop.rotate(this.isRotated),this.gameNavigator.rotate()}}},1125:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(8422));i(5123),e.default=class{constructor(t,e,i){this.sourceSquare=null,this.scrollTop=0,this.deltaScrollTop=0,this.scrollLeft=0,this.deltaScrollLeft=0,this.dragBox=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.chessboard=t,this.svgRoot=t.svgRoot,this.callbackOnDrop=i,this.isRotated=e,this.dragBox.setAttribute("viewBox","0 0 100 100"),this.dragBox.classList.add("drag-box"),t.svgRoot.parentElement.prepend(this.dragBox)}rotate(t){this.isRotated=t}onLeftButtonDown(t){let e=t.target,i=parseInt(e.getAttribute("data-index"));this.sourceSquare=o.default.getSquareKeyByIndex(i,this.isRotated),this.dragPiece=this.chessboard.pieceLayer.getPiece(this.sourceSquare),this.dragPiece&&(this.dragBox.appendChild(this.dragPiece.element),this.dragBox.style.width=this.svgRoot.clientWidth/8+"px",this.dragBox.style.height=this.svgRoot.clientWidth/8+"px",this.setDragBoxPosition(t),this.dragPiece.element.style.transform="translate(0,0)",this.scrollTop=document.documentElement.scrollTop,this.deltaScrollTop=0,this.scrollLeft=document.documentElement.scrollLeft,this.deltaScrollLeft=0)}onMouseMove(t){this.dragPiece&&(t.preventDefault(),this.setDragBoxPosition(t))}setDragBoxPosition(t){this.dragBox.style.left=t.clientX+document.documentElement.scrollLeft+"px",this.dragBox.style.top=t.clientY+document.documentElement.scrollTop+"px"}onScroll(){if(this.dragPiece){let t=document.documentElement.scrollLeft-this.scrollLeft,e=document.documentElement.scrollTop-this.scrollTop,i=t-this.deltaScrollLeft,s=e-this.deltaScrollTop;this.deltaScrollLeft=t,this.deltaScrollTop=e;let o=parseFloat(this.dragBox.style.left),r=parseFloat(this.dragBox.style.top);this.dragBox.style.left=o+i+"px",this.dragBox.style.top=r+s+"px"}}onMouseUp(t){if(this.dragPiece){let e=this.dragPiece.squareKey,i=this.dragPiece.fenChar;if(this.dragPiece=void 0,this.dragBox.innerHTML="",this.dragBox.style.width="0px",this.dragBox.style.height="0px",this.isClickOnElement(t,this.svgRoot.parentElement)){let s=o.default.getSquareByCursorPosition(this.svgRoot,t,this.isRotated);this.callbackOnDrop(i,e,s)}else this.chessboard.pieceLayer.addPiece(i,e)}}isClickOnElement(t,e){let i=this.getOffsetRectangle(e),s=this.getAbsoluteMousePosition(t);return s.x>i.x&&s.x<i.x+i.width&&s.y>i.y&&s.y<i.y+i.height}getOffsetRectangle(t){let e={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight};for(;t.offsetParent instanceof HTMLElement;)t=t.offsetParent,e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}getAbsoluteMousePosition(t){return{x:t.clientX+document.documentElement.scrollLeft,y:t.clientY+document.documentElement.scrollTop}}}},6697:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t,e,i){this.svgRoot=t,this.dragAndDrop=e,this.isRotated=i,this.svgRoot.addEventListener("mousedown",(t=>{t.button&&2==t.button||this.dragAndDrop.onLeftButtonDown(t),t.preventDefault()})),document.addEventListener("mouseup",(t=>{t.button&&2==t.button||(this.dragAndDrop.onMouseUp(t),t.preventDefault())})),document.addEventListener("mousemove",(t=>{this.dragAndDrop.onMouseMove(t),t.preventDefault()})),this.svgRoot.addEventListener("scroll",(()=>{this.dragAndDrop.onScroll()})),this.svgRoot.addEventListener("contextmenu",(t=>t.preventDefault()))}rotate(t){this.isRotated=t}}},9619:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(8422)),r=s(i(1409));e.default=class{constructor(t){this.rects={},this.svgRoot=t;let e=r.default.createGroup();e.setAttribute("fill-opacity","0"),this.svgRoot.appendChild(e);let i=0;[0,1,2,3,4,5,6,7].forEach((t=>{[0,1,2,3,4,5,6,7].forEach((s=>{let o=r.default.createSquare(s,t);o.setAttribute("data-index",i.toString()),this.rects[i++]=o,e.appendChild(o)}))}))}enableHover(t,e){let i=o.default.getCurrentIndexOfSquareKey(t,e);this.rects[i].setAttribute("style","cursor:pointer")}disableHover(t,e){let i=o.default.getCurrentIndexOfSquareKey(t,e);this.rects[i].removeAttribute("style")}clear(){Object.values(this.rects).forEach((t=>{t.removeAttribute("style")}))}}},8322:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(8422)),r=s(i(8291)),n=s(i(1685)),a=s(i(1409));i(626),e.default=class{constructor(t){this.svgRoot=t,this.group=a.default.createGroup(),this.svgRoot.appendChild(this.group)}show(t,e,i,s,l){o.default.setPosition(this.group,t,i);let h=a.default.createRect(0,0,100,500,"rgb(240,240,240)");h.setAttribute("stroke","black"),h.setAttribute("stroke-width","2"),this.group.appendChild(h),["q","r","n","b"].forEach(((t,i)=>{let o="b"===e?t:t.toUpperCase(),n=a.default.createRect(0,100*i,100,100,"rgb(250,250,240)");this.group.appendChild(n);let l=r.default.get(o);l.setAttribute("transform","translate(0,"+100*i+")"),this.group.appendChild(l);let h=a.default.createRect(0,100*i,100,100,"transparent");h.classList.add("promotion"),this.group.appendChild(h),h.onclick=()=>{s(t),this.group.innerHTML=""}}));let d=a.default.createImage(n.default.x,0,428,100,40);this.group.appendChild(d);let c=a.default.createRect(0,400,100,100,"transparent");c.classList.add("promotion"),this.group.appendChild(c),c.onclick=()=>{l(),this.group.innerHTML=""}}}},1685:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(1233));class r{}r.x=o.default,e.default=r},7259:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(784)),r=s(i(3671));i(8269);const n=s(i(8422));e.default=class{constructor(t,e){this.container=t,this.buttonContainer=n.default.addChild(this.container,"div","game-nav-buttons"),this.addButton("start",o.default.start,(()=>{e.goToMove(-1)})),this.addButton("rewind",o.default.rewind,(()=>e.rewind())),this.addButton("previous",o.default.previous,(()=>e.previous())),this.addButton("play",o.default.play,(()=>e.play())),this.addButton("pause",o.default.pause,(()=>e.pause())),this.addButton("next",o.default.next,(()=>e.next())),this.addButton("forward",o.default.forward,(()=>e.forward())),this.addButton("end",o.default.end,(()=>{e.goToMove(e.game.moves.length-1)})),this.addButton("rotate",o.default.rotate,(()=>e.rotate())),this.addButton("screenshot",o.default.screenshot,(()=>{r.default.Download(e.chessboard.svgRoot)}))}addButton(t,e,i){let s=document.createElement("img");return s.src=e,s.onclick=i,this.buttonContainer.appendChild(s)}}},2234:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Callbacks=void 0,e.Callbacks=class{}},7804:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CapturePieceFactory=void 0;const o=s(i(8291)),r={};var n;["p","n","b","r","q","P","N","B","R","Q"].forEach((t=>{let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 100 100");let i=o.default.get(t);e.appendChild(i),r[t]=e})),function(t){t.get=function(t){return r[t].cloneNode(!0)}}(n||(e.CapturePieceFactory=n={}))},2671:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getCastling=void 0,e.getCastling=function(t,e,i){if("O"===e.san[0]){let s="w"===e.color?"O-O"===e.san?"h1":"a1":"O-O"===e.san?"h8":"a8",o="w"===e.color?"O-O"===e.san?"f1":"d1":"O-O"===e.san?"f8":"d8";return{rook:t.pieceLayer.getPiece(i?s:o),from:s,to:o}}}},1237:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(6523)),r=s(i(8291)),n=s(i(8422)),a=s(i(7729)),l=i(1542),h=i(2671),d=i(2169),c=i(2234);i(3235),e.default=class{constructor(t,e,i){this.callbacks=new c.Callbacks,this.isResultShowing=!1,this.state="start",this.moveIndex=0,this.shortDelayBetweenMoves=100,this.longDelayBetweenMoves=1e3,this.shortTransitionDuration="100ms",this.longTransitionDuration="1000ms",this.boardContainer=n.default.addChild(t,"div","board"),this.chessboard=new o.default(this.boardContainer,e,i),this.playerInfo=new a.default(t,e,i),this.transitions=new l.Transitions(this.chessboard,i),this.isRotated=i,this.pieceLayer=this.chessboard.pieceLayer,""!==e&&"start"!==e||(e=n.default.startFEN);let s=new d.Chess(e).history({verbose:!0});this.game={blackPlayer:"Black player",whitePlayer:"White player",moves:s}}addMove(t){this.game.moves.push(t),this.moveIndex=this.game.moves.length-1,this.callbacks.onMoveAdded&&this.callbacks.onMoveAdded(t,this.game.moves.length-1)}rotate(){this.isRotated=!this.isRotated;let t=this.state;this.state="pause","play"===t||"forward"===t?this.move(!1):"rewind"===t&&this.move(!0),this.chessboard.rotate(),this.playerInfo.rotate(),this.transitions.rotate(),this.state=t,"play"===t||"forward"===t?this.move(!0):"rewind"===t&&this.move(!1)}loadGame(t){this.state="pause",this.transitions.current&&this.transitions.cancel(),this.chessboard.clearSourceAndTargetHighlights(),this.game=t,this.chessboard.setFen(n.default.startFEN,!0),this.playerInfo.setPlayerNames(t.blackPlayer,t.whitePlayer),this.playerInfo.setScoreAndCaputereByFen(n.default.startFEN),this.moveIndex=-1,this.state="start",this.hideGameResult(),this.callbacks.onGameLoaded&&this.callbacks.onGameLoaded(this.game.moves)}rewind(){this.state="rewind",this.move(!1)}previous(){"play"!==this.state&&"forward"!==this.state||(this.state="pause"),this.move(!1)}play(){this.state="play",this.move(!0)}pause(){this.state="pause"}next(){"rewind"===this.state&&(this.state="pause"),this.move(!0)}forward(){this.state="forward",this.move(!0)}goToMove(t){if(this.hideGameResult(),clearTimeout(this.timeoutId),this.transitions.current&&this.transitions.cancel(),this.moveIndex=t,-1===t){this.state="start";let t=this.game.moves[0];this.chessboard.setFen(t.before,!0),this.playerInfo.setScoreAndCaputereByFen(t.before),this.chessboard.clearSourceAndTargetHighlights()}else{let e=this.game.moves[t];this.chessboard.setFen(e.after,!0),this.playerInfo.setScoreAndCaputereByFen(e.after),this.chessboard.highlightSourceAndTarget(e.from,e.to);let i=(0,h.getCastling)(this.chessboard,e,!0);i&&this.chessboard.highlightSource(i.to),t===this.game.moves.length-1?(this.state="end",this.showGameResult()):this.state="pause"}this.callbacks.onGoToMove&&this.callbacks.onGoToMove(t)}async move(t){if(t&&this.moveIndex===this.game.moves.length-1||this.hideGameResult(),clearTimeout(this.timeoutId),this.transitions.current){let e=this.transitions.current,i=e.piece,s=e.move,o=e.castling;if(this.transitions.cancel(),t===e.isForward)this.finishMove(t,i,s,o);else if(t){if(s.captured&&(this.removePieceBySquareKey(s.to),this.playerInfo.addCapture(s),this.pieceLayer.setPosition(i)),s.promotion){let t="b"===s.color?s.promotion:s.promotion.toUpperCase();this.promoteOrUnpromote(i,t)}"play"!==this.state&&"forward"!==this.state||this.move(!0)}else this.moveIndex--,"rewind"===this.state&&this.move(!1)}else{if(t&&this.moveIndex===this.game.moves.length-1)return void(this.state="end");if(!t&&-1===this.moveIndex)return this.chessboard.clearSourceAndTargetHighlights(),void(this.state="start");t&&this.moveIndex++,this.callbacks.onMoveStart&&this.callbacks.onMoveStart(this.moveIndex);let e=this.game.moves[this.moveIndex],i=this.pieceLayer.getPiece(t?e.from:e.to);this.putOnTop(i);let s=(0,h.getCastling)(this.chessboard,e,t);if(s&&this.putOnTop(s.rook),t)this.chessboard.highlightSource(e.from),s&&this.chessboard.highlightTarget(s.from);else if(this.chessboard.highlightTarget(e.to),s)this.chessboard.highlightSource(s.to);else{if(e.captured){this.removeFromPositionRecord(e.to);let t="b"===e.color?e.captured.toUpperCase():e.captured;this.pieceLayer.addPiece(t,e.to),this.playerInfo.undoCapture(e)}if(e.promotion){let t="b"===e.color?e.piece:e.piece.toUpperCase();this.pieceLayer.group.removeChild(i.element),i.element=r.default.get(t),this.pieceLayer.group.appendChild(i.element),n.default.setPosition(i.element,e.to,this.isRotated)}}let o={isForward:t,piece:i,move:e,castling:s},a="play"===this.state?this.longTransitionDuration:this.shortTransitionDuration;await this.transitions.move(o,a,(()=>{this.finishMove(t,i,e,s)}))}}finishMove(t,e,i,s){let o=t?i.from:i.to,r=t?i.to:i.from;if(e.squareKey=r,s)s.rook.squareKey=t?s.to:s.from,this.removeFromPositionRecord(o),this.removeFromPositionRecord(t?s.from:s.to),this.pieceLayer.setPosition(e),this.pieceLayer.setPosition(s.rook),this.chessboard.highlightSource(t?s.to:s.from),this.chessboard.highlightTarget(t?i.to:i.from);else if(t){if(i.captured&&(this.removePieceBySquareKey(i.to),this.playerInfo.addCapture(i)),i.promotion){let t="b"===i.color?i.promotion:i.promotion.toUpperCase();this.promoteOrUnpromote(e,t),this.playerInfo.setScoreAndCaputereByFen(i.after)}this.removeFromPositionRecord(i.from),this.pieceLayer.setPosition(e),this.chessboard.highlightTarget(i.to)}else i.captured||this.removeFromPositionRecord(i.to),this.pieceLayer.setPosition(e),this.chessboard.highlightSource(i.from);t||this.moveIndex--,this.callbacks.onMoveEnd&&this.callbacks.onMoveEnd(this.moveIndex,i,t),this.moveIndex===this.game.moves.length-1?this.showGameResult():"play"!==this.state&&"forward"!==this.state&&"rewind"!==this.state||(this.timeoutId=setTimeout((()=>{"play"!==this.state&&"forward"!==this.state&&"rewind"!==this.state||this.move(t)}),"play"===this.state?this.longDelayBetweenMoves:this.shortDelayBetweenMoves))}showGameResult(){this.game.result&&(this.chessboard.showGameResult(this.game.result),this.isResultShowing=!0)}hideGameResult(){this.isResultShowing&&(this.isResultShowing=!1,this.chessboard.hideGameResult())}putOnTop(t){this.pieceLayer.group.appendChild(t.element)}removeFromPositionRecord(t){this.pieceLayer.positions[t]=void 0}removePieceBySquareKey(t){let e=this.pieceLayer.positions[t];return this.pieceLayer.group.removeChild(e.element),this.pieceLayer.positions[t]=void 0,e}promoteOrUnpromote(t,e){this.pieceLayer.group.removeChild(t.element),t.element=r.default.get(e),this.pieceLayer.group.appendChild(t.element),t.fenChar=e}}},8682:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(7874));i(7178),e.default=class{constructor(t,e){this.moveItems=[],this.container=t,this.container.classList.add("game-history"),this.gameNavigator=e,this.gameNavigator.callbacks.onGameLoaded=t=>this.onGameLoaded(t),this.gameNavigator.callbacks.onMoveAdded=(t,e)=>this.onMoveAdded(t,e),this.gameNavigator.callbacks.onGoToMove=t=>this.onGoToMove(t),this.gameNavigator.callbacks.onMoveStart=t=>this.onMoveStart(t),this.gameNavigator.callbacks.onMoveEnd=(t,e,i)=>this.onMoveEnd(t,e,i)}onGameLoaded(t){this.moveItems=[],this.container.innerHTML="",t.forEach(((t,e)=>{this.addToHistory(t,e)}))}addToHistory(t,e){let i,s=e%2==0,o=e+1,r=Math.ceil(o/2);if(s){i=this.addChild(this.container,"div","turn");let t=r+++".";r<10&&(t=" "+t),this.addChild(i,"span","number",t)}else i=this.moveItems[this.moveItems.length-1].parentElement;let n=this.getMoveText(t),a=this.addChild(i,"span","move",n);a.onclick=()=>this.gameNavigator.goToMove(e),this.moveItems.push(a)}onMoveAdded(t,e){this.addToHistory(t,e)}onGoToMove(t){for(const t of this.moveItems)t.classList.remove("start","end");t>-1&&this.moveItems[t].classList.add("end")}onMoveStart(t){for(const t of this.moveItems)t.classList.remove("start","end");this.moveItems[t].classList.add("start")}onMoveEnd(t,e,i){for(const t of this.moveItems)t.classList.remove("start","end");t>-1&&this.moveItems[t].classList.add("end")}getMoveText(t){let e=t.san.substring(0,1),i="";return e===e.toUpperCase()&&"O"!==e.toUpperCase()?("b"===t.color&&(e=e.toLowerCase()),e=o.default[e],i+=e+t.san.substring(1)):i+=t.san,i}addChild(t,e,i,s){let o=document.createElement(e);return s&&(o.innerHTML=s),o.className=i,t.appendChild(o)}}},7874:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default={p:"&#9823",r:"&#9820",n:"&#9822",b:"&#9821",q:"&#9819",k:"&#9818",P:"&#9817",R:"&#9814",N:"&#9816",B:"&#9815",Q:"&#9813",K:"&#9812"}},7729:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(7804),r=s(i(8422)),n={p:1,n:3,b:3,r:5,q:9,k:0,P:-1,N:-3,B:-3,R:-5,Q:-9,K:0};e.default=class{constructor(t,e,i){this.whiteCaptures={},this.blackCaptures={},this.container=t,this.isRotated=i,this.containerAbove=r.default.addChild(this.container,"div","above"),this.container.insertBefore(this.containerAbove,this.container.firstChild),this.containerBelow=r.default.addChild(this.container,"div","below"),this.blackPlayer=r.default.addChild(i?this.containerBelow:this.containerAbove,"div","player black"),this.whitePlayer=r.default.addChild(i?this.containerAbove:this.containerBelow,"div","player white");let s=r.default.addChild(this.blackPlayer,"div","captures"),o=r.default.addChild(this.whitePlayer,"div","captures"),n=[this.whiteCaptures,this.blackCaptures];[o,s].forEach(((t,e)=>{["p","n","b","r","q"].forEach((i=>{let s=r.default.addChild(t,"span",i);n[e][i]=s}))})),this.whiteScore=r.default.addChild(this.whitePlayer,"span","score"),this.blackScore=r.default.addChild(this.blackPlayer,"span","score"),this.whitePlayerName=r.default.addChild(this.whitePlayer,"div","name","White"),this.blackPlayerName=r.default.addChild(this.blackPlayer,"div","name","Black"),e&&this.setScoreAndCaputereByFen(e)}rotate(){this.isRotated=!this.isRotated,this.containerAbove.appendChild(this.isRotated?this.whitePlayer:this.blackPlayer),this.containerBelow.appendChild(this.isRotated?this.blackPlayer:this.whitePlayer)}addCapture(t){let e=this.getComputedCapture(t);this.addComputedCapture(e),this.setScoreByFen(t.after)}undoCapture(t){let e=this.getComputedCapture(t),i=e.toLowerCase(),s=e===i?this.whiteCaptures[i]:this.blackCaptures[i];s.removeChild(s.firstChild),this.setScoreByFen(t.before)}setPlayerNames(t,e){this.blackPlayerName.innerHTML=t,this.whitePlayerName.innerHTML=e}setScoreAndCaputereByFen(t){if(Object.values(this.whiteCaptures).concat(Object.values(this.blackCaptures)).forEach((t=>{t.innerHTML=""})),"start"===t||""===t)this.setScore(0);else{let e=this.getCapturesByFen(t);Object.entries(e).forEach((([t,e])=>{if(e>0)for(let i=0;i<e;i++)this.addComputedCapture(t)})),this.setScoreByFen(t)}}addComputedCapture(t){let e=t.toLowerCase(),i=o.CapturePieceFactory.get(t);(t===e?this.whiteCaptures[e]:this.blackCaptures[e]).appendChild(i)}setScoreByFen(t){t=t.split(" ")[0].split("/").join("");let e=0;for(const i of t)isNaN(parseInt(i))&&(e-=n[i]);this.setScore(e)}setScore(t){let e=0===t?"":t>0?"+":"-",i=0===t?"":t>0?"-":"+";this.whiteScore.innerHTML=0===t?"":e+Math.abs(t),this.blackScore.innerHTML=0===t?"":i+Math.abs(t)}getComputedCapture(t){let e=t.captured,i="b"===t.color?e.toUpperCase():e;if("p"!==e){let s=0,o=t.after.split(" ")[0].split("/").join("");for(const t of o)isNaN(parseInt(t))&&t===i&&s++;(s>=2||"q"===e&&s>=1)&&(i="b"===t.color?"P":"p")}return i}getCapturesByFen(t){t=t.split(" ")[0].split("/").join("");let e={};["p","n","b","r","q","P","N","B","R","Q"].forEach((t=>{e[t]=0}));for(const i of t)isNaN(parseInt(i))&&(e[i]+=1);let i={};for(const t of["r","n","b","R","N","B"])i[t]=e[t]>=2?0:2-e[t];for(const t of["q","Q"])i[t]=e[t]>0?0:1;let s={pawn:"p",queen:"q",pieces:["r","n","b"]},o={pawn:"P",queen:"Q",pieces:["R","N","B"]};for(const t of[s,o]){i[t.pawn]=8-e[t.pawn],e[t.queen]>1&&(i[t.pawn]-=e[t.queen]-1);for(const s of t.pieces)e[s]>2&&(i[t.pawn]-=e[s]-2)}return i}}},1542:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Transitions=void 0;const o=s(i(8422));e.Transitions=class{constructor(t,e){this.chessboard=t,this.isRotated=e}rotate(){this.isRotated=!this.isRotated}cancel(){if(this.current){this.removeTransition(this.current.piece);let t=this.current.castling;t&&this.removeTransition(t.rook),this.current=void 0}}async move(t,e,i){this.makeChromeHappy(),this.current=t,t.piece.element.ontransitionend=()=>{this.removeTransition(t.piece),t.castling&&this.removeTransition(t.castling.rook),this.current=void 0,i()},this.startTransition(t.isForward,e,t.piece.element,t.move.from,t.move.to),t.castling&&this.startTransition(t.isForward,e,t.castling.rook.element,t.castling.from,t.castling.to)}makeChromeHappy(){document.documentElement.offsetHeight}startTransition(t,e,i,s,r){i.style.transform="",i.style.transitionProperty="transform",i.style.transitionDuration=e;let n=t?r:s,a=o.default.getCordinatesBySquareKey(n,this.isRotated);i.style.transform=`translate(${12.5*a.x}%, ${12.5*a.y}%)`}removeTransition(t){t.element.style.transitionProperty="",t.element.style.transitionDuration="",o.default.setPosition(t.element,t.squareKey,this.isRotated),t.element.ontransitioncancel=null,t.element.ontransitionend=null}}},784:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(i(8750)),r=s(i(2891)),n=s(i(125)),a=s(i(4388)),l=s(i(2492)),h=s(i(3589)),d=s(i(9221)),c=s(i(7765)),u=s(i(6275)),g=s(i(4218));class f{}f.start=o.default,f.rewind=r.default,f.previous=n.default,f.play=a.default,f.pause=l.default,f.next=h.default,f.forward=d.default,f.end=c.default,f.rotate=u.default,f.screenshot=g.default,e.default=f},2896:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(2339),i(7300);const o=s(i(1993)),r=s(i(7259)),n=s(i(8682));let a=document.getElementById("chessgame"),l=new o.default(a,"start",!1);new r.default(l.container,l.gameNavigator);let h=document.getElementById("history");new n.default(h,l.gameNavigator)},2016:t=>{t.exports=JSON.parse('{"g":{"g":{"transform":"scale(2) translate(2,3.6)","g":{"style":["fill:#000000; stroke:#000000; stroke-linecap:butt;","fill:#ffffff; stroke:#000000; stroke-linecap:butt;"],"path":[{"d":"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"},{"d":"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"},{"d":"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"}],"g":{"path":[{"d":"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18","style":["fill:none; stroke:#ffffff; stroke-linejoin:miter;","fill:none; stroke:#000000; stroke-linejoin:miter;"]}],"style":["opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(4,4.6)","opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(4,4.6)"]}}}}}')},747:t=>{t.exports=JSON.parse('{"g":{"g":{"transform":"scale(2.15) translate(0.7,-0.4)","style":["fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;","fill:none; fill-rule:evenodd;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5;transform:translate(2.5,1.5)"],"path":[{"colorIndex":0,"d":"M 22.5,11.63 L 22.5,6","style":["fill:none; stroke:#000000; stroke-linejoin:miter;","stroke-linejoin:miter"]},{"colorIndex":1,"d":"M22.5 11.63V6M20 8h5","style":["","stroke-linejoin:miter"]},{"colorIndex":0,"d":"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25","style":["fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;","fill:#fff; stroke-linecap:butt; stroke-linejoin:miter"]},{"colorIndex":1,"d":"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5","style":["","fill:#fff;stroke-linecap:butt;stroke-linejoin:miter"]},{"colorIndex":0,"d":"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37","style":["fill:#000000; stroke:#000000;","fill:#fff"]},{"colorIndex":1,"d":"M12.5 37c5.5 3.5 14.5 3.5 20 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-2.5-7.5-12-10.5-16-4-3 6 6 10.5 6 10.5v7","style":["","fill:#fff"]},{"colorIndex":0,"d":"M 20,8 L 25,8","style":["fill:none; stroke:#000000; stroke-linejoin:miter;",""]},{"colorIndex":0,"d":"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5","style":["fill:none; stroke:#ffffff;",""]},{"colorIndex":0,"d":"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37","style":["fill:none; stroke:#ffffff;",""]},{"colorIndex":1,"d":"M12.5 30c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0"}]}}}')},4244:t=>{t.exports=JSON.parse('{"g":{"g":{"transform":"scale(2) translate(2,3)","style":["opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;transform:translate(6,6.3)","opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(6,6.3)"],"path":[{"d":"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18","style":["fill:#000000;stroke:#000000;","fill:#ffffff; stroke:#000000;"]},{"d":"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10","style":["fill:#000000;stroke:#000000;","fill:#ffffff; stroke:#000000;"]},{"d":"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z","style":["fill:#ffffff;stroke:#ffffff;","fill:#000000; stroke:#000000;"]},{"d":"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z","style":["fill:#ffffff;stroke:#ffffff;transform:matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)","fill:#000000; stroke:#000000;transform:matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"]},{"d":"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z","style":["fill:#ffffff; stroke:none;",""]}]}}}')},7954:t=>{t.exports=JSON.parse('{"g":{"g":{"transform":"scale(2.2) translate(0,0)","path":[{"d":"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z","style":["","fill:#ffffff;stroke:#000000;stroke-width:1.5;"]}]}}}')},7661:t=>{t.exports=JSON.parse('{"g":{"g":{"transform":"scale(1.89) translate(4.1,5.6)","style":["fill:#000000;stroke:#000000;stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;transform:translate(5,7)","fill:#ffffff;stroke:#000000;stroke-width:1.5;stroke-linejoin:round;transform:translate(5,7)"],"path":[{"d":"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z","style":["stroke-linecap:butt;fill:#000000",""]},{"colorIndex":1,"d":"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"},{"colorIndex":0,"d":"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z","style":["",""]},{"d":"M 11.5,30 C 15,29 30,29 33.5,30","style":["fill:none","fill:none"]},{"colorIndex":1,"d":"M 12,33.5 C 18,32.5 27,32.5 33,33.5","style":["","fill:none"]},{"colorIndex":0,"d":"m 12,33.5 c 6,-1 15,-1 21,0","style":["fill:none",""]},{"colorIndex":0,"d":"M 11,38.5 A 35,35 1 0 0 34,38.5","style":["fill:none; stroke:#000000;stroke-linecap:butt;",""]}],"circle":[{"cx":"6","cy":"12","r":"2"},{"cx":"14","cy":"9","r":"2"},{"cx":"22.5","cy":"8","r":"2"},{"cx":"31","cy":"9","r":"2"},{"cx":"39","cy":"12","r":"2"}],"g":{"style":["fill:none; stroke:#ffffff;",""],"path":[{"colorIndex":0,"d":"M 11,29 A 35,35 1 0 1 34,29"},{"colorIndex":0,"d":"M 12.5,31.5 L 32.5,31.5"},{"colorIndex":0,"d":"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"},{"colorIndex":0,"d":"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"}]}}}}')},9616:t=>{t.exports=JSON.parse('{"g":{"g":{"transform":"scale(2) translate(2,3)","style":["opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(6,6.3)","opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(6,6.3)"],"path":[{"d":"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z","style":["stroke-linecap:butt;","stroke-linecap:butt;"]},{"d":"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z","colorIndex":0,"style":["stroke-linecap:butt;",""]},{"d":"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z","style":["stroke-linecap:butt;","stroke-linecap:butt;"]},{"d":"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z","colorIndex":0,"style":["stroke-linecap:butt;stroke-linejoin:miter;",""]},{"d":"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z","colorIndex":0,"style":["stroke-linecap:butt;",""]},{"d":"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z","style":["stroke-linecap:butt;","stroke-linecap:butt;"]},{"d":"M 12,35.5 L 33,35.5 L 33,35.5","colorIndex":0,"style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;",""]},{"d":"M 13,31.5 L 32,31.5","colorIndex":0,"style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;",""]},{"d":"M 14,29.5 L 31,29.5","colorIndex":0,"style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;",""]},{"d":"M 14,16.5 L 31,16.5","colorIndex":0,"style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;",""]},{"d":"M 11,14 L 34,14","style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;","fill:none; stroke:#000000; stroke-linejoin:miter;"]},{"d":"M 34,14 L 31,17 L 14,17 L 11,14","colorIndex":1},{"d":"M 31,17 L 31,29.5 L 14,29.5 L 14,17","colorIndex":1,"style":["stroke-linecap:butt; stroke-linejoin:miter;"]},{"d":"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5","colorIndex":1,"style":[]}]}}}')}},t=>{t(t.s=2896)}]);