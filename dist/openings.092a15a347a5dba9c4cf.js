"use strict";
(self["webpackChunkbest_chess_games"] = self["webpackChunkbest_chess_games"] || []).push([["openings"],{

/***/ "./src/components/v2/chessboard/assets/icons/lose.svg":
/*!************************************************************!*\
  !*** ./src/components/v2/chessboard/assets/icons/lose.svg ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjAvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMtU1ZHLTIwMDEwOTA0L0RURC9zdmcxMC5kdGQiPg0KPCEtLSBDcmVhdG9yOiBDb3JlbERSQVcgLS0+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6b2RtPSJodHRwOi8vcHJvZHVjdC5jb3JlbC5jb20vQ0dTLzExL2NkZG5zLyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjI1MHB4IiBoZWlnaHQ9IjM1MXB4IiBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eSINCiAgICAgdmlld0JveD0iMCAwIDI1MCAzNTIiPg0KICA8cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyMTtzdHJva2UtbGluZWNhcDpyb3VuZCIgZD0iTTQyIDI0N2wwIC0xOTMiLz4NCiAgPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTA7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIiBkPSJNNDkgNTBjNzAsMzAgMTA0LDI4IDE3OCwyIC0yMSw0MiAtMjEsNzQgMCwxMTYgLTcyLDI1IC0xMDEsMjUgLTE3OCwwbDAgLTExOHoiLz4NCjwvc3ZnPg0K";

/***/ }),

/***/ "./src/components/v2/chessboard/assets/icons/win.svg":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/assets/icons/win.svg ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI2MDAiIGhlaWdodD0iNTcxIj4KICA8cGF0aCBkPSJtMjk5Ljk5LjIwMy0zMi40ODYgMTAwLjAyNC0zOC4zMzggMTE3LjkzSDBsODUuMDk5IDYxLjgwOSAxMDAuMzEyIDcyLjg3OC0zOC4zMTcgMTE3LjkzMy0zMi40ODMgMTAwLjAyMSA4NS4wNzUtNjEuODA5IDEwMC4zMTItNzIuODc3IDEwMC4zMzIgNzIuODc3IDg1LjA3NSA2MS43ODgtMzIuNDg2LTEwMC4wMDMtMzguMzE0LTExNy45MSAxMDAuMzMyLTcyLjg5NyA4NS4wNzUtNjEuODA5SDM3MC44NGwtMzguMzQyLTExNy45NTFMMjk5Ljk5LjIwM3oiLz4KICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjk5Ljk5OSAxMTAuNzc1IDI1NC4wMSAyNTIuMzE3SDEwNS4xN2wxMjAuNDEzIDg3LjQ3Ni00NS45ODUgMTQxLjU0MkwzMDAgMzkzLjg1OWwxMjAuNDEyIDg3LjQ3Ni00NS45ODYtMTQxLjU0MiAxMjAuNDEzLTg3LjQ3NkgzNDUuOTk3bC00NS45OTgtMTQxLjU0MnoiLz4KPC9zdmc+";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/end.svg":
/*!***********************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/end.svg ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktc2tpcC1lbmQiIHZpZXdCb3g9IjAgMCAxNiAxNiI+CiAgPHBhdGggZD0iTTEyLjUgNGEuNS41IDAgMCAwLTEgMHYzLjI0OEw1LjIzMyAzLjYxMkM0LjcxMyAzLjMxIDQgMy42NTUgNCA0LjMwOHY3LjM4NGMwIC42NTMuNzEzLjk5OCAxLjIzMy42OTZMMTEuNSA4Ljc1MlYxMmEuNS41IDAgMCAwIDEgMHpNNSA0LjYzMyAxMC44MDQgOCA1IDExLjM2N3oiLz4KPC9zdmc+";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/forward.svg":
/*!***************************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/forward.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktZmFzdC1mb3J3YXJkIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGQ9Ik02LjgwNCA4IDEgNC42MzN2Ni43MzR6bS43OTItLjY5NmEuODAyLjgwMiAwIDAgMSAwIDEuMzkybC02LjM2MyAzLjY5MkMuNzEzIDEyLjY5IDAgMTIuMzQ1IDAgMTEuNjkyVjQuMzA4YzAtLjY1My43MTMtLjk5OCAxLjIzMy0uNjk2eiIvPgogIDxwYXRoIGQ9Ik0xNC44MDQgOCA5IDQuNjMzdjYuNzM0em0uNzkyLS42OTZhLjgwMi44MDIgMCAwIDEgMCAxLjM5MmwtNi4zNjMgMy42OTJDOC43MTMgMTIuNjkgOCAxMi4zNDUgOCAxMS42OTJWNC4zMDhjMC0uNjUzLjcxMy0uOTk4IDEuMjMzLS42OTZ6Ii8+Cjwvc3ZnPg==";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/next.svg":
/*!************************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/next.svg ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3ctcmlnaHQtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEgOGE3IDcgMCAxIDAgMTQgMEE3IDcgMCAwIDAgMSA4bTE1IDBBOCA4IDAgMSAxIDAgOGE4IDggMCAwIDEgMTYgME00LjUgNy41YS41LjUgMCAwIDAgMCAxaDUuNzkzbC0yLjE0NyAyLjE0NmEuNS41IDAgMCAwIC43MDguNzA4bDMtM2EuNS41IDAgMCAwIDAtLjcwOGwtMy0zYS41LjUgMCAxIDAtLjcwOC43MDhMMTAuMjkzIDcuNXoiLz4KPC9zdmc+";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/pause.svg":
/*!*************************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/pause.svg ***!
  \*************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcGF1c2UiIHZpZXdCb3g9IjAgMCAxNiAxNiI+CiAgPHBhdGggZD0iTTYgMy41YS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtMSAwVjRhLjUuNSAwIDAgMSAuNS0uNW00IDBhLjUuNSAwIDAgMSAuNS41djhhLjUuNSAwIDAgMS0xIDBWNGEuNS41IDAgMCAxIC41LS41Ii8+Cjwvc3ZnPg==";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/play.svg":
/*!************************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/play.svg ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcGxheSIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBkPSJNMTAuODA0IDggNSA0LjYzM3Y2LjczNHptLjc5Mi0uNjk2YS44MDIuODAyIDAgMCAxIDAgMS4zOTJsLTYuMzYzIDMuNjkyQzQuNzEzIDEyLjY5IDQgMTIuMzQ1IDQgMTEuNjkyVjQuMzA4YzAtLjY1My43MTMtLjk5OCAxLjIzMy0uNjk2eiIvPgo8L3N2Zz4=";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/previous.svg":
/*!****************************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/previous.svg ***!
  \****************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3ctbGVmdC1jaXJjbGUiIHZpZXdCb3g9IjAgMCAxNiAxNiI+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMSA4YTcgNyAwIDEgMCAxNCAwQTcgNyAwIDAgMCAxIDhtMTUgMEE4IDggMCAxIDEgMCA4YTggOCAwIDAgMSAxNiAwbS00LjUtLjVhLjUuNSAwIDAgMSAwIDFINS43MDdsMi4xNDcgMi4xNDZhLjUuNSAwIDAgMS0uNzA4LjcwOGwtMy0zYS41LjUgMCAwIDEgMC0uNzA4bDMtM2EuNS41IDAgMSAxIC43MDguNzA4TDUuNzA3IDcuNXoiLz4KPC9zdmc+";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/rewind.svg":
/*!**************************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/rewind.svg ***!
  \**************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktcmV3aW5kIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGQ9Ik05LjE5NiA4IDE1IDQuNjMzdjYuNzM0em0tLjc5Mi0uNjk2YS44MDIuODAyIDAgMCAwIDAgMS4zOTJsNi4zNjMgMy42OTJjLjUyLjMwMiAxLjIzMy0uMDQzIDEuMjMzLS42OTZWNC4zMDhjMC0uNjUzLS43MTMtLjk5OC0xLjIzMy0uNjk2eiIvPgogIDxwYXRoIGQ9Ik0xLjE5NiA4IDcgNC42MzN2Ni43MzR6bS0uNzkyLS42OTZhLjgwMi44MDIgMCAwIDAgMCAxLjM5Mmw2LjM2MyAzLjY5MmMuNTIuMzAyIDEuMjMzLS4wNDMgMS4yMzMtLjY5NlY0LjMwOGMwLS42NTMtLjcxMy0uOTk4LTEuMjMzLS42OTZ6Ii8+Cjwvc3ZnPg==";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/rotate.svg":
/*!**************************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/rotate.svg ***!
  \**************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3ctcmVwZWF0IiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGQ9Ik0xMS41MzQgN2gzLjkzMmEuMjUuMjUgMCAwIDEgLjE5Mi40MWwtMS45NjYgMi4zNmEuMjUuMjUgMCAwIDEtLjM4NCAwbC0xLjk2Ni0yLjM2YS4yNS4yNSAwIDAgMSAuMTkyLS40MW0tMTEgMmgzLjkzMmEuMjUuMjUgMCAwIDAgLjE5Mi0uNDFMMi42OTIgNi4yM2EuMjUuMjUgMCAwIDAtLjM4NCAwTC4zNDIgOC41OUEuMjUuMjUgMCAwIDAgLjUzNCA5Ii8+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOCAzYy0xLjU1MiAwLTIuOTQuNzA3LTMuODU3IDEuODE4YS41LjUgMCAxIDEtLjc3MS0uNjM2QTYuMDAyIDYuMDAyIDAgMCAxIDEzLjkxNyA3SDEyLjlBNSA1IDAgMCAwIDggM00zLjEgOWE1LjAwMiA1LjAwMiAwIDAgMCA4Ljc1NyAyLjE4Mi41LjUgMCAxIDEgLjc3MS42MzZBNi4wMDIgNi4wMDIgMCAwIDEgMi4wODMgOXoiLz4KPC9zdmc+";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/screenshot.svg":
/*!******************************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/screenshot.svg ***!
  \******************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktY2FtZXJhIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGQ9Ik0xNSAxMmExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVY2YTEgMSAwIDAgMSAxLTFoMS4xNzJhMyAzIDAgMCAwIDIuMTItLjg3OWwuODMtLjgyOEExIDEgMCAwIDEgNi44MjcgM2gyLjM0NGExIDEgMCAwIDEgLjcwNy4yOTNsLjgyOC44MjhBMyAzIDAgMCAwIDEyLjgyOCA1SDE0YTEgMSAwIDAgMSAxIDF6TTIgNGEyIDIgMCAwIDAtMiAydjZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjZhMiAyIDAgMCAwLTItMmgtMS4xNzJhMiAyIDAgMCAxLTEuNDE0LS41ODZsLS44MjgtLjgyOEEyIDIgMCAwIDAgOS4xNzIgMkg2LjgyOGEyIDIgMCAwIDAtMS40MTQuNTg2bC0uODI4LjgyOEEyIDIgMCAwIDEgMy4xNzIgNHoiLz4KICA8cGF0aCBkPSJNOCAxMWEyLjUgMi41IDAgMSAxIDAtNSAyLjUgMi41IDAgMCAxIDAgNW0wIDFhMy41IDMuNSAwIDEgMCAwLTcgMy41IDMuNSAwIDAgMCAwIDdNMyA2LjVhLjUuNSAwIDEgMS0xIDAgLjUuNSAwIDAgMSAxIDAiLz4KPC9zdmc+";

/***/ }),

/***/ "./src/components/v2/gameNavigator/img/icons/start.svg":
/*!*************************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/icons/start.svg ***!
  \*************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktc2tpcC1zdGFydCIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBkPSJNNCA0YS41LjUgMCAwIDEgMSAwdjMuMjQ4bDYuMjY3LTMuNjM2Yy41Mi0uMzAyIDEuMjMzLjA0MyAxLjIzMy42OTZ2Ny4zODRjMCAuNjUzLS43MTMuOTk4LTEuMjMzLjY5Nkw1IDguNzUyVjEyYS41LjUgMCAwIDEtMSAwem03LjUuNjMzTDUuNjk2IDhsNS44MDQgMy4zNjd6Ii8+Cjwvc3ZnPg==";

/***/ }),

/***/ "./node_modules/chess.js/dist/esm/chess.js":
/*!*************************************************!*\
  !*** ./node_modules/chess.js/dist/esm/chess.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BISHOP: () => (/* binding */ BISHOP),
/* harmony export */   BLACK: () => (/* binding */ BLACK),
/* harmony export */   Chess: () => (/* binding */ Chess),
/* harmony export */   DEFAULT_POSITION: () => (/* binding */ DEFAULT_POSITION),
/* harmony export */   KING: () => (/* binding */ KING),
/* harmony export */   KNIGHT: () => (/* binding */ KNIGHT),
/* harmony export */   PAWN: () => (/* binding */ PAWN),
/* harmony export */   QUEEN: () => (/* binding */ QUEEN),
/* harmony export */   ROOK: () => (/* binding */ ROOK),
/* harmony export */   SQUARES: () => (/* binding */ SQUARES),
/* harmony export */   WHITE: () => (/* binding */ WHITE),
/* harmony export */   validateFen: () => (/* binding */ validateFen)
/* harmony export */ });
/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */
const WHITE = 'w';
const BLACK = 'b';
const PAWN = 'p';
const KNIGHT = 'n';
const BISHOP = 'b';
const ROOK = 'r';
const QUEEN = 'q';
const KING = 'k';
const DEFAULT_POSITION = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';
const EMPTY = -1;
const FLAGS = {
    NORMAL: 'n',
    CAPTURE: 'c',
    BIG_PAWN: 'b',
    EP_CAPTURE: 'e',
    PROMOTION: 'p',
    KSIDE_CASTLE: 'k',
    QSIDE_CASTLE: 'q',
};
// prettier-ignore
const SQUARES = [
    'a8', 'b8', 'c8', 'd8', 'e8', 'f8', 'g8', 'h8',
    'a7', 'b7', 'c7', 'd7', 'e7', 'f7', 'g7', 'h7',
    'a6', 'b6', 'c6', 'd6', 'e6', 'f6', 'g6', 'h6',
    'a5', 'b5', 'c5', 'd5', 'e5', 'f5', 'g5', 'h5',
    'a4', 'b4', 'c4', 'd4', 'e4', 'f4', 'g4', 'h4',
    'a3', 'b3', 'c3', 'd3', 'e3', 'f3', 'g3', 'h3',
    'a2', 'b2', 'c2', 'd2', 'e2', 'f2', 'g2', 'h2',
    'a1', 'b1', 'c1', 'd1', 'e1', 'f1', 'g1', 'h1'
];
const BITS = {
    NORMAL: 1,
    CAPTURE: 2,
    BIG_PAWN: 4,
    EP_CAPTURE: 8,
    PROMOTION: 16,
    KSIDE_CASTLE: 32,
    QSIDE_CASTLE: 64,
};
/*
 * NOTES ABOUT 0x88 MOVE GENERATION ALGORITHM
 * ----------------------------------------------------------------------------
 * From https://github.com/jhlywa/chess.js/issues/230
 *
 * A lot of people are confused when they first see the internal representation
 * of chess.js. It uses the 0x88 Move Generation Algorithm which internally
 * stores the board as an 8x16 array. This is purely for efficiency but has a
 * couple of interesting benefits:
 *
 * 1. 0x88 offers a very inexpensive "off the board" check. Bitwise AND (&) any
 *    square with 0x88, if the result is non-zero then the square is off the
 *    board. For example, assuming a knight square A8 (0 in 0x88 notation),
 *    there are 8 possible directions in which the knight can move. These
 *    directions are relative to the 8x16 board and are stored in the
 *    PIECE_OFFSETS map. One possible move is A8 - 18 (up one square, and two
 *    squares to the left - which is off the board). 0 - 18 = -18 & 0x88 = 0x88
 *    (because of two-complement representation of -18). The non-zero result
 *    means the square is off the board and the move is illegal. Take the
 *    opposite move (from A8 to C7), 0 + 18 = 18 & 0x88 = 0. A result of zero
 *    means the square is on the board.
 *
 * 2. The relative distance (or difference) between two squares on a 8x16 board
 *    is unique and can be used to inexpensively determine if a piece on a
 *    square can attack any other arbitrary square. For example, let's see if a
 *    pawn on E7 can attack E2. The difference between E7 (20) - E2 (100) is
 *    -80. We add 119 to make the ATTACKS array index non-negative (because the
 *    worst case difference is A8 - H1 = -119). The ATTACKS array contains a
 *    bitmask of pieces that can attack from that distance and direction.
 *    ATTACKS[-80 + 119=39] gives us 24 or 0b11000 in binary. Look at the
 *    PIECE_MASKS map to determine the mask for a given piece type. In our pawn
 *    example, we would check to see if 24 & 0x1 is non-zero, which it is
 *    not. So, naturally, a pawn on E7 can't attack a piece on E2. However, a
 *    rook can since 24 & 0x8 is non-zero. The only thing left to check is that
 *    there are no blocking pieces between E7 and E2. That's where the RAYS
 *    array comes in. It provides an offset (in this case 16) to add to E7 (20)
 *    to check for blocking pieces. E7 (20) + 16 = E6 (36) + 16 = E5 (52) etc.
 */
// prettier-ignore
// eslint-disable-next-line
const Ox88 = {
    a8: 0, b8: 1, c8: 2, d8: 3, e8: 4, f8: 5, g8: 6, h8: 7,
    a7: 16, b7: 17, c7: 18, d7: 19, e7: 20, f7: 21, g7: 22, h7: 23,
    a6: 32, b6: 33, c6: 34, d6: 35, e6: 36, f6: 37, g6: 38, h6: 39,
    a5: 48, b5: 49, c5: 50, d5: 51, e5: 52, f5: 53, g5: 54, h5: 55,
    a4: 64, b4: 65, c4: 66, d4: 67, e4: 68, f4: 69, g4: 70, h4: 71,
    a3: 80, b3: 81, c3: 82, d3: 83, e3: 84, f3: 85, g3: 86, h3: 87,
    a2: 96, b2: 97, c2: 98, d2: 99, e2: 100, f2: 101, g2: 102, h2: 103,
    a1: 112, b1: 113, c1: 114, d1: 115, e1: 116, f1: 117, g1: 118, h1: 119
};
const PAWN_OFFSETS = {
    b: [16, 32, 17, 15],
    w: [-16, -32, -17, -15],
};
const PIECE_OFFSETS = {
    n: [-18, -33, -31, -14, 18, 33, 31, 14],
    b: [-17, -15, 17, 15],
    r: [-16, 1, 16, -1],
    q: [-17, -16, -15, 1, 17, 16, 15, -1],
    k: [-17, -16, -15, 1, 17, 16, 15, -1],
};
// prettier-ignore
const ATTACKS = [
    20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20, 0,
    0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0,
    0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0,
    0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0,
    0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0,
    24, 24, 24, 24, 24, 24, 56, 0, 56, 24, 24, 24, 24, 24, 24, 0,
    0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0,
    0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0,
    0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0,
    0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0,
    20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20
];
// prettier-ignore
const RAYS = [
    17, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 15, 0,
    0, 17, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 15, 0, 0,
    0, 0, 17, 0, 0, 0, 0, 16, 0, 0, 0, 0, 15, 0, 0, 0,
    0, 0, 0, 17, 0, 0, 0, 16, 0, 0, 0, 15, 0, 0, 0, 0,
    0, 0, 0, 0, 17, 0, 0, 16, 0, 0, 15, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 17, 0, 16, 0, 15, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 17, 16, 15, 0, 0, 0, 0, 0, 0, 0,
    1, 1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -1, 0,
    0, 0, 0, 0, 0, 0, -15, -16, -17, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, -15, 0, -16, 0, -17, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, -15, 0, 0, -16, 0, 0, -17, 0, 0, 0, 0, 0,
    0, 0, 0, -15, 0, 0, 0, -16, 0, 0, 0, -17, 0, 0, 0, 0,
    0, 0, -15, 0, 0, 0, 0, -16, 0, 0, 0, 0, -17, 0, 0, 0,
    0, -15, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, -17, 0, 0,
    -15, 0, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, 0, -17
];
const PIECE_MASKS = { p: 0x1, n: 0x2, b: 0x4, r: 0x8, q: 0x10, k: 0x20 };
const SYMBOLS = 'pnbrqkPNBRQK';
const PROMOTIONS = [KNIGHT, BISHOP, ROOK, QUEEN];
const RANK_1 = 7;
const RANK_2 = 6;
/*
 * const RANK_3 = 5
 * const RANK_4 = 4
 * const RANK_5 = 3
 * const RANK_6 = 2
 */
const RANK_7 = 1;
const RANK_8 = 0;
const SIDES = {
    [KING]: BITS.KSIDE_CASTLE,
    [QUEEN]: BITS.QSIDE_CASTLE,
};
const ROOKS = {
    w: [
        { square: Ox88.a1, flag: BITS.QSIDE_CASTLE },
        { square: Ox88.h1, flag: BITS.KSIDE_CASTLE },
    ],
    b: [
        { square: Ox88.a8, flag: BITS.QSIDE_CASTLE },
        { square: Ox88.h8, flag: BITS.KSIDE_CASTLE },
    ],
};
const SECOND_RANK = { b: RANK_7, w: RANK_2 };
const TERMINATION_MARKERS = ['1-0', '0-1', '1/2-1/2', '*'];
// Extracts the zero-based rank of an 0x88 square.
function rank(square) {
    return square >> 4;
}
// Extracts the zero-based file of an 0x88 square.
function file(square) {
    return square & 0xf;
}
function isDigit(c) {
    return '0123456789'.indexOf(c) !== -1;
}
// Converts a 0x88 square to algebraic notation.
function algebraic(square) {
    const f = file(square);
    const r = rank(square);
    return ('abcdefgh'.substring(f, f + 1) +
        '87654321'.substring(r, r + 1));
}
function swapColor(color) {
    return color === WHITE ? BLACK : WHITE;
}
function validateFen(fen) {
    // 1st criterion: 6 space-seperated fields?
    const tokens = fen.split(/\s+/);
    if (tokens.length !== 6) {
        return {
            ok: false,
            error: 'Invalid FEN: must contain six space-delimited fields',
        };
    }
    // 2nd criterion: move number field is a integer value > 0?
    const moveNumber = parseInt(tokens[5], 10);
    if (isNaN(moveNumber) || moveNumber <= 0) {
        return {
            ok: false,
            error: 'Invalid FEN: move number must be a positive integer',
        };
    }
    // 3rd criterion: half move counter is an integer >= 0?
    const halfMoves = parseInt(tokens[4], 10);
    if (isNaN(halfMoves) || halfMoves < 0) {
        return {
            ok: false,
            error: 'Invalid FEN: half move counter number must be a non-negative integer',
        };
    }
    // 4th criterion: 4th field is a valid e.p.-string?
    if (!/^(-|[abcdefgh][36])$/.test(tokens[3])) {
        return { ok: false, error: 'Invalid FEN: en-passant square is invalid' };
    }
    // 5th criterion: 3th field is a valid castle-string?
    if (/[^kKqQ-]/.test(tokens[2])) {
        return { ok: false, error: 'Invalid FEN: castling availability is invalid' };
    }
    // 6th criterion: 2nd field is "w" (white) or "b" (black)?
    if (!/^(w|b)$/.test(tokens[1])) {
        return { ok: false, error: 'Invalid FEN: side-to-move is invalid' };
    }
    // 7th criterion: 1st field contains 8 rows?
    const rows = tokens[0].split('/');
    if (rows.length !== 8) {
        return {
            ok: false,
            error: "Invalid FEN: piece data does not contain 8 '/'-delimited rows",
        };
    }
    // 8th criterion: every row is valid?
    for (let i = 0; i < rows.length; i++) {
        // check for right sum of fields AND not two numbers in succession
        let sumFields = 0;
        let previousWasNumber = false;
        for (let k = 0; k < rows[i].length; k++) {
            if (isDigit(rows[i][k])) {
                if (previousWasNumber) {
                    return {
                        ok: false,
                        error: 'Invalid FEN: piece data is invalid (consecutive number)',
                    };
                }
                sumFields += parseInt(rows[i][k], 10);
                previousWasNumber = true;
            }
            else {
                if (!/^[prnbqkPRNBQK]$/.test(rows[i][k])) {
                    return {
                        ok: false,
                        error: 'Invalid FEN: piece data is invalid (invalid piece)',
                    };
                }
                sumFields += 1;
                previousWasNumber = false;
            }
        }
        if (sumFields !== 8) {
            return {
                ok: false,
                error: 'Invalid FEN: piece data is invalid (too many squares in rank)',
            };
        }
    }
    // 9th criterion: is en-passant square legal?
    if ((tokens[3][1] == '3' && tokens[1] == 'w') ||
        (tokens[3][1] == '6' && tokens[1] == 'b')) {
        return { ok: false, error: 'Invalid FEN: illegal en-passant square' };
    }
    // 10th criterion: does chess position contain exact two kings?
    const kings = [
        { color: 'white', regex: /K/g },
        { color: 'black', regex: /k/g },
    ];
    for (const { color, regex } of kings) {
        if (!regex.test(tokens[0])) {
            return { ok: false, error: `Invalid FEN: missing ${color} king` };
        }
        if ((tokens[0].match(regex) || []).length > 1) {
            return { ok: false, error: `Invalid FEN: too many ${color} kings` };
        }
    }
    // 11th criterion: are any pawns on the first or eighth rows?
    if (Array.from(rows[0] + rows[7]).some((char) => char.toUpperCase() === 'P')) {
        return {
            ok: false,
            error: 'Invalid FEN: some pawns are on the edge rows',
        };
    }
    return { ok: true };
}
// this function is used to uniquely identify ambiguous moves
function getDisambiguator(move, moves) {
    const from = move.from;
    const to = move.to;
    const piece = move.piece;
    let ambiguities = 0;
    let sameRank = 0;
    let sameFile = 0;
    for (let i = 0, len = moves.length; i < len; i++) {
        const ambigFrom = moves[i].from;
        const ambigTo = moves[i].to;
        const ambigPiece = moves[i].piece;
        /*
         * if a move of the same piece type ends on the same to square, we'll need
         * to add a disambiguator to the algebraic notation
         */
        if (piece === ambigPiece && from !== ambigFrom && to === ambigTo) {
            ambiguities++;
            if (rank(from) === rank(ambigFrom)) {
                sameRank++;
            }
            if (file(from) === file(ambigFrom)) {
                sameFile++;
            }
        }
    }
    if (ambiguities > 0) {
        if (sameRank > 0 && sameFile > 0) {
            /*
             * if there exists a similar moving piece on the same rank and file as
             * the move in question, use the square as the disambiguator
             */
            return algebraic(from);
        }
        else if (sameFile > 0) {
            /*
             * if the moving piece rests on the same file, use the rank symbol as the
             * disambiguator
             */
            return algebraic(from).charAt(1);
        }
        else {
            // else use the file symbol
            return algebraic(from).charAt(0);
        }
    }
    return '';
}
function addMove(moves, color, from, to, piece, captured = undefined, flags = BITS.NORMAL) {
    const r = rank(to);
    if (piece === PAWN && (r === RANK_1 || r === RANK_8)) {
        for (let i = 0; i < PROMOTIONS.length; i++) {
            const promotion = PROMOTIONS[i];
            moves.push({
                color,
                from,
                to,
                piece,
                captured,
                promotion,
                flags: flags | BITS.PROMOTION,
            });
        }
    }
    else {
        moves.push({
            color,
            from,
            to,
            piece,
            captured,
            flags,
        });
    }
}
function inferPieceType(san) {
    let pieceType = san.charAt(0);
    if (pieceType >= 'a' && pieceType <= 'h') {
        const matches = san.match(/[a-h]\d.*[a-h]\d/);
        if (matches) {
            return undefined;
        }
        return PAWN;
    }
    pieceType = pieceType.toLowerCase();
    if (pieceType === 'o') {
        return KING;
    }
    return pieceType;
}
// parses all of the decorators out of a SAN string
function strippedSan(move) {
    return move.replace(/=/, '').replace(/[+#]?[?!]*$/, '');
}
function trimFen(fen) {
    /*
     * remove last two fields in FEN string as they're not needed when checking
     * for repetition
     */
    return fen.split(' ').slice(0, 4).join(' ');
}
class Chess {
    _board = new Array(128);
    _turn = WHITE;
    _header = {};
    _kings = { w: EMPTY, b: EMPTY };
    _epSquare = -1;
    _halfMoves = 0;
    _moveNumber = 0;
    _history = [];
    _comments = {};
    _castling = { w: 0, b: 0 };
    _positionCounts = {};
    constructor(fen = DEFAULT_POSITION) {
        this.load(fen);
    }
    clear({ preserveHeaders = false } = {}) {
        this._board = new Array(128);
        this._kings = { w: EMPTY, b: EMPTY };
        this._turn = WHITE;
        this._castling = { w: 0, b: 0 };
        this._epSquare = EMPTY;
        this._halfMoves = 0;
        this._moveNumber = 1;
        this._history = [];
        this._comments = {};
        this._header = preserveHeaders ? this._header : {};
        /*
         * Delete the SetUp and FEN headers (if preserved), the board is empty and
         * these headers don't make sense in this state. They'll get added later
         * via .load() or .put()
         */
        delete this._header['SetUp'];
        delete this._header['FEN'];
        /*
         * Instantiate a proxy that keeps track of position occurrence counts for the purpose
         * of repetition checking. The getter and setter methods automatically handle trimming
         * irrelevent information from the fen, initialising new positions, and removing old
         * positions from the record if their counts are reduced to 0.
         */
        this._positionCounts = new Proxy({}, {
            get: (target, position) => position === 'length'
                ? Object.keys(target).length // length for unit testing
                : target?.[trimFen(position)] || 0,
            set: (target, position, count) => {
                const trimmedFen = trimFen(position);
                if (count === 0)
                    delete target[trimmedFen];
                else
                    target[trimmedFen] = count;
                return true;
            },
        });
    }
    removeHeader(key) {
        if (key in this._header) {
            delete this._header[key];
        }
    }
    load(fen, { skipValidation = false, preserveHeaders = false } = {}) {
        let tokens = fen.split(/\s+/);
        // append commonly omitted fen tokens
        if (tokens.length >= 2 && tokens.length < 6) {
            const adjustments = ['-', '-', '0', '1'];
            fen = tokens.concat(adjustments.slice(-(6 - tokens.length))).join(' ');
        }
        tokens = fen.split(/\s+/);
        if (!skipValidation) {
            const { ok, error } = validateFen(fen);
            if (!ok) {
                throw new Error(error);
            }
        }
        const position = tokens[0];
        let square = 0;
        this.clear({ preserveHeaders });
        for (let i = 0; i < position.length; i++) {
            const piece = position.charAt(i);
            if (piece === '/') {
                square += 8;
            }
            else if (isDigit(piece)) {
                square += parseInt(piece, 10);
            }
            else {
                const color = piece < 'a' ? WHITE : BLACK;
                this._put({ type: piece.toLowerCase(), color }, algebraic(square));
                square++;
            }
        }
        this._turn = tokens[1];
        if (tokens[2].indexOf('K') > -1) {
            this._castling.w |= BITS.KSIDE_CASTLE;
        }
        if (tokens[2].indexOf('Q') > -1) {
            this._castling.w |= BITS.QSIDE_CASTLE;
        }
        if (tokens[2].indexOf('k') > -1) {
            this._castling.b |= BITS.KSIDE_CASTLE;
        }
        if (tokens[2].indexOf('q') > -1) {
            this._castling.b |= BITS.QSIDE_CASTLE;
        }
        this._epSquare = tokens[3] === '-' ? EMPTY : Ox88[tokens[3]];
        this._halfMoves = parseInt(tokens[4], 10);
        this._moveNumber = parseInt(tokens[5], 10);
        this._updateSetup(fen);
        this._positionCounts[fen]++;
    }
    fen() {
        let empty = 0;
        let fen = '';
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            if (this._board[i]) {
                if (empty > 0) {
                    fen += empty;
                    empty = 0;
                }
                const { color, type: piece } = this._board[i];
                fen += color === WHITE ? piece.toUpperCase() : piece.toLowerCase();
            }
            else {
                empty++;
            }
            if ((i + 1) & 0x88) {
                if (empty > 0) {
                    fen += empty;
                }
                if (i !== Ox88.h1) {
                    fen += '/';
                }
                empty = 0;
                i += 8;
            }
        }
        let castling = '';
        if (this._castling[WHITE] & BITS.KSIDE_CASTLE) {
            castling += 'K';
        }
        if (this._castling[WHITE] & BITS.QSIDE_CASTLE) {
            castling += 'Q';
        }
        if (this._castling[BLACK] & BITS.KSIDE_CASTLE) {
            castling += 'k';
        }
        if (this._castling[BLACK] & BITS.QSIDE_CASTLE) {
            castling += 'q';
        }
        // do we have an empty castling flag?
        castling = castling || '-';
        let epSquare = '-';
        /*
         * only print the ep square if en passant is a valid move (pawn is present
         * and ep capture is not pinned)
         */
        if (this._epSquare !== EMPTY) {
            const bigPawnSquare = this._epSquare + (this._turn === WHITE ? 16 : -16);
            const squares = [bigPawnSquare + 1, bigPawnSquare - 1];
            for (const square of squares) {
                // is the square off the board?
                if (square & 0x88) {
                    continue;
                }
                const color = this._turn;
                // is there a pawn that can capture the epSquare?
                if (this._board[square]?.color === color &&
                    this._board[square]?.type === PAWN) {
                    // if the pawn makes an ep capture, does it leave it's king in check?
                    this._makeMove({
                        color,
                        from: square,
                        to: this._epSquare,
                        piece: PAWN,
                        captured: PAWN,
                        flags: BITS.EP_CAPTURE,
                    });
                    const isLegal = !this._isKingAttacked(color);
                    this._undoMove();
                    // if ep is legal, break and set the ep square in the FEN output
                    if (isLegal) {
                        epSquare = algebraic(this._epSquare);
                        break;
                    }
                }
            }
        }
        return [
            fen,
            this._turn,
            castling,
            epSquare,
            this._halfMoves,
            this._moveNumber,
        ].join(' ');
    }
    /*
     * Called when the initial board setup is changed with put() or remove().
     * modifies the SetUp and FEN properties of the header object. If the FEN
     * is equal to the default position, the SetUp and FEN are deleted the setup
     * is only updated if history.length is zero, ie moves haven't been made.
     */
    _updateSetup(fen) {
        if (this._history.length > 0)
            return;
        if (fen !== DEFAULT_POSITION) {
            this._header['SetUp'] = '1';
            this._header['FEN'] = fen;
        }
        else {
            delete this._header['SetUp'];
            delete this._header['FEN'];
        }
    }
    reset() {
        this.load(DEFAULT_POSITION);
    }
    get(square) {
        return this._board[Ox88[square]] || false;
    }
    put({ type, color }, square) {
        if (this._put({ type, color }, square)) {
            this._updateCastlingRights();
            this._updateEnPassantSquare();
            this._updateSetup(this.fen());
            return true;
        }
        return false;
    }
    _put({ type, color }, square) {
        // check for piece
        if (SYMBOLS.indexOf(type.toLowerCase()) === -1) {
            return false;
        }
        // check for valid square
        if (!(square in Ox88)) {
            return false;
        }
        const sq = Ox88[square];
        // don't let the user place more than one king
        if (type == KING &&
            !(this._kings[color] == EMPTY || this._kings[color] == sq)) {
            return false;
        }
        const currentPieceOnSquare = this._board[sq];
        // if one of the kings will be replaced by the piece from args, set the `_kings` respective entry to `EMPTY`
        if (currentPieceOnSquare && currentPieceOnSquare.type === KING) {
            this._kings[currentPieceOnSquare.color] = EMPTY;
        }
        this._board[sq] = { type: type, color: color };
        if (type === KING) {
            this._kings[color] = sq;
        }
        return true;
    }
    remove(square) {
        const piece = this.get(square);
        delete this._board[Ox88[square]];
        if (piece && piece.type === KING) {
            this._kings[piece.color] = EMPTY;
        }
        this._updateCastlingRights();
        this._updateEnPassantSquare();
        this._updateSetup(this.fen());
        return piece;
    }
    _updateCastlingRights() {
        const whiteKingInPlace = this._board[Ox88.e1]?.type === KING &&
            this._board[Ox88.e1]?.color === WHITE;
        const blackKingInPlace = this._board[Ox88.e8]?.type === KING &&
            this._board[Ox88.e8]?.color === BLACK;
        if (!whiteKingInPlace ||
            this._board[Ox88.a1]?.type !== ROOK ||
            this._board[Ox88.a1]?.color !== WHITE) {
            this._castling.w &= ~BITS.QSIDE_CASTLE;
        }
        if (!whiteKingInPlace ||
            this._board[Ox88.h1]?.type !== ROOK ||
            this._board[Ox88.h1]?.color !== WHITE) {
            this._castling.w &= ~BITS.KSIDE_CASTLE;
        }
        if (!blackKingInPlace ||
            this._board[Ox88.a8]?.type !== ROOK ||
            this._board[Ox88.a8]?.color !== BLACK) {
            this._castling.b &= ~BITS.QSIDE_CASTLE;
        }
        if (!blackKingInPlace ||
            this._board[Ox88.h8]?.type !== ROOK ||
            this._board[Ox88.h8]?.color !== BLACK) {
            this._castling.b &= ~BITS.KSIDE_CASTLE;
        }
    }
    _updateEnPassantSquare() {
        if (this._epSquare === EMPTY) {
            return;
        }
        const startSquare = this._epSquare + (this._turn === WHITE ? -16 : 16);
        const currentSquare = this._epSquare + (this._turn === WHITE ? 16 : -16);
        const attackers = [currentSquare + 1, currentSquare - 1];
        if (this._board[startSquare] !== null ||
            this._board[this._epSquare] !== null ||
            this._board[currentSquare]?.color !== swapColor(this._turn) ||
            this._board[currentSquare]?.type !== PAWN) {
            this._epSquare = EMPTY;
            return;
        }
        const canCapture = (square) => !(square & 0x88) &&
            this._board[square]?.color === this._turn &&
            this._board[square]?.type === PAWN;
        if (!attackers.some(canCapture)) {
            this._epSquare = EMPTY;
        }
    }
    _attacked(color, square) {
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            // did we run off the end of the board
            if (i & 0x88) {
                i += 7;
                continue;
            }
            // if empty square or wrong color
            if (this._board[i] === undefined || this._board[i].color !== color) {
                continue;
            }
            const piece = this._board[i];
            const difference = i - square;
            // skip - to/from square are the same
            if (difference === 0) {
                continue;
            }
            const index = difference + 119;
            if (ATTACKS[index] & PIECE_MASKS[piece.type]) {
                if (piece.type === PAWN) {
                    if (difference > 0) {
                        if (piece.color === WHITE)
                            return true;
                    }
                    else {
                        if (piece.color === BLACK)
                            return true;
                    }
                    continue;
                }
                // if the piece is a knight or a king
                if (piece.type === 'n' || piece.type === 'k')
                    return true;
                const offset = RAYS[index];
                let j = i + offset;
                let blocked = false;
                while (j !== square) {
                    if (this._board[j] != null) {
                        blocked = true;
                        break;
                    }
                    j += offset;
                }
                if (!blocked)
                    return true;
            }
        }
        return false;
    }
    _isKingAttacked(color) {
        const square = this._kings[color];
        return square === -1 ? false : this._attacked(swapColor(color), square);
    }
    isAttacked(square, attackedBy) {
        return this._attacked(attackedBy, Ox88[square]);
    }
    isCheck() {
        return this._isKingAttacked(this._turn);
    }
    inCheck() {
        return this.isCheck();
    }
    isCheckmate() {
        return this.isCheck() && this._moves().length === 0;
    }
    isStalemate() {
        return !this.isCheck() && this._moves().length === 0;
    }
    isInsufficientMaterial() {
        /*
         * k.b. vs k.b. (of opposite colors) with mate in 1:
         * 8/8/8/8/1b6/8/B1k5/K7 b - - 0 1
         *
         * k.b. vs k.n. with mate in 1:
         * 8/8/8/8/1n6/8/B7/K1k5 b - - 2 1
         */
        const pieces = {
            b: 0,
            n: 0,
            r: 0,
            q: 0,
            k: 0,
            p: 0,
        };
        const bishops = [];
        let numPieces = 0;
        let squareColor = 0;
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            squareColor = (squareColor + 1) % 2;
            if (i & 0x88) {
                i += 7;
                continue;
            }
            const piece = this._board[i];
            if (piece) {
                pieces[piece.type] = piece.type in pieces ? pieces[piece.type] + 1 : 1;
                if (piece.type === BISHOP) {
                    bishops.push(squareColor);
                }
                numPieces++;
            }
        }
        // k vs. k
        if (numPieces === 2) {
            return true;
        }
        else if (
        // k vs. kn .... or .... k vs. kb
        numPieces === 3 &&
            (pieces[BISHOP] === 1 || pieces[KNIGHT] === 1)) {
            return true;
        }
        else if (numPieces === pieces[BISHOP] + 2) {
            // kb vs. kb where any number of bishops are all on the same color
            let sum = 0;
            const len = bishops.length;
            for (let i = 0; i < len; i++) {
                sum += bishops[i];
            }
            if (sum === 0 || sum === len) {
                return true;
            }
        }
        return false;
    }
    _getRepetitionCount() {
        return this._positionCounts[this.fen()];
    }
    isThreefoldRepetition() {
        return this._getRepetitionCount() >= 3;
    }
    isDraw() {
        return (this._halfMoves >= 100 || // 50 moves per side = 100 half moves
            this.isStalemate() ||
            this.isInsufficientMaterial() ||
            this.isThreefoldRepetition());
    }
    isGameOver() {
        return this.isCheckmate() || this.isStalemate() || this.isDraw();
    }
    moves({ verbose = false, square = undefined, piece = undefined, } = {}) {
        const moves = this._moves({ square, piece });
        if (verbose) {
            return moves.map((move) => this._makePretty(move));
        }
        else {
            return moves.map((move) => this._moveToSan(move, moves));
        }
    }
    _moves({ legal = true, piece = undefined, square = undefined, } = {}) {
        const forSquare = square ? square.toLowerCase() : undefined;
        const forPiece = piece?.toLowerCase();
        const moves = [];
        const us = this._turn;
        const them = swapColor(us);
        let firstSquare = Ox88.a8;
        let lastSquare = Ox88.h1;
        let singleSquare = false;
        // are we generating moves for a single square?
        if (forSquare) {
            // illegal square, return empty moves
            if (!(forSquare in Ox88)) {
                return [];
            }
            else {
                firstSquare = lastSquare = Ox88[forSquare];
                singleSquare = true;
            }
        }
        for (let from = firstSquare; from <= lastSquare; from++) {
            // did we run off the end of the board
            if (from & 0x88) {
                from += 7;
                continue;
            }
            // empty square or opponent, skip
            if (!this._board[from] || this._board[from].color === them) {
                continue;
            }
            const { type } = this._board[from];
            let to;
            if (type === PAWN) {
                if (forPiece && forPiece !== type)
                    continue;
                // single square, non-capturing
                to = from + PAWN_OFFSETS[us][0];
                if (!this._board[to]) {
                    addMove(moves, us, from, to, PAWN);
                    // double square
                    to = from + PAWN_OFFSETS[us][1];
                    if (SECOND_RANK[us] === rank(from) && !this._board[to]) {
                        addMove(moves, us, from, to, PAWN, undefined, BITS.BIG_PAWN);
                    }
                }
                // pawn captures
                for (let j = 2; j < 4; j++) {
                    to = from + PAWN_OFFSETS[us][j];
                    if (to & 0x88)
                        continue;
                    if (this._board[to]?.color === them) {
                        addMove(moves, us, from, to, PAWN, this._board[to].type, BITS.CAPTURE);
                    }
                    else if (to === this._epSquare) {
                        addMove(moves, us, from, to, PAWN, PAWN, BITS.EP_CAPTURE);
                    }
                }
            }
            else {
                if (forPiece && forPiece !== type)
                    continue;
                for (let j = 0, len = PIECE_OFFSETS[type].length; j < len; j++) {
                    const offset = PIECE_OFFSETS[type][j];
                    to = from;
                    while (true) {
                        to += offset;
                        if (to & 0x88)
                            break;
                        if (!this._board[to]) {
                            addMove(moves, us, from, to, type);
                        }
                        else {
                            // own color, stop loop
                            if (this._board[to].color === us)
                                break;
                            addMove(moves, us, from, to, type, this._board[to].type, BITS.CAPTURE);
                            break;
                        }
                        /* break, if knight or king */
                        if (type === KNIGHT || type === KING)
                            break;
                    }
                }
            }
        }
        /*
         * check for castling if we're:
         *   a) generating all moves, or
         *   b) doing single square move generation on the king's square
         */
        if (forPiece === undefined || forPiece === KING) {
            if (!singleSquare || lastSquare === this._kings[us]) {
                // king-side castling
                if (this._castling[us] & BITS.KSIDE_CASTLE) {
                    const castlingFrom = this._kings[us];
                    const castlingTo = castlingFrom + 2;
                    if (!this._board[castlingFrom + 1] &&
                        !this._board[castlingTo] &&
                        !this._attacked(them, this._kings[us]) &&
                        !this._attacked(them, castlingFrom + 1) &&
                        !this._attacked(them, castlingTo)) {
                        addMove(moves, us, this._kings[us], castlingTo, KING, undefined, BITS.KSIDE_CASTLE);
                    }
                }
                // queen-side castling
                if (this._castling[us] & BITS.QSIDE_CASTLE) {
                    const castlingFrom = this._kings[us];
                    const castlingTo = castlingFrom - 2;
                    if (!this._board[castlingFrom - 1] &&
                        !this._board[castlingFrom - 2] &&
                        !this._board[castlingFrom - 3] &&
                        !this._attacked(them, this._kings[us]) &&
                        !this._attacked(them, castlingFrom - 1) &&
                        !this._attacked(them, castlingTo)) {
                        addMove(moves, us, this._kings[us], castlingTo, KING, undefined, BITS.QSIDE_CASTLE);
                    }
                }
            }
        }
        /*
         * return all pseudo-legal moves (this includes moves that allow the king
         * to be captured)
         */
        if (!legal || this._kings[us] === -1) {
            return moves;
        }
        // filter out illegal moves
        const legalMoves = [];
        for (let i = 0, len = moves.length; i < len; i++) {
            this._makeMove(moves[i]);
            if (!this._isKingAttacked(us)) {
                legalMoves.push(moves[i]);
            }
            this._undoMove();
        }
        return legalMoves;
    }
    move(move, { strict = false } = {}) {
        /*
         * The move function can be called with in the following parameters:
         *
         * .move('Nxb7')       <- argument is a case-sensitive SAN string
         *
         * .move({ from: 'h7', <- argument is a move object
         *         to :'h8',
         *         promotion: 'q' })
         *
         *
         * An optional strict argument may be supplied to tell chess.js to
         * strictly follow the SAN specification.
         */
        let moveObj = null;
        if (typeof move === 'string') {
            moveObj = this._moveFromSan(move, strict);
        }
        else if (typeof move === 'object') {
            const moves = this._moves();
            // convert the pretty move object to an ugly move object
            for (let i = 0, len = moves.length; i < len; i++) {
                if (move.from === algebraic(moves[i].from) &&
                    move.to === algebraic(moves[i].to) &&
                    (!('promotion' in moves[i]) || move.promotion === moves[i].promotion)) {
                    moveObj = moves[i];
                    break;
                }
            }
        }
        // failed to find move
        if (!moveObj) {
            if (typeof move === 'string') {
                throw new Error(`Invalid move: ${move}`);
            }
            else {
                throw new Error(`Invalid move: ${JSON.stringify(move)}`);
            }
        }
        /*
         * need to make a copy of move because we can't generate SAN after the move
         * is made
         */
        const prettyMove = this._makePretty(moveObj);
        this._makeMove(moveObj);
        this._positionCounts[prettyMove.after]++;
        return prettyMove;
    }
    _push(move) {
        this._history.push({
            move,
            kings: { b: this._kings.b, w: this._kings.w },
            turn: this._turn,
            castling: { b: this._castling.b, w: this._castling.w },
            epSquare: this._epSquare,
            halfMoves: this._halfMoves,
            moveNumber: this._moveNumber,
        });
    }
    _makeMove(move) {
        const us = this._turn;
        const them = swapColor(us);
        this._push(move);
        this._board[move.to] = this._board[move.from];
        delete this._board[move.from];
        // if ep capture, remove the captured pawn
        if (move.flags & BITS.EP_CAPTURE) {
            if (this._turn === BLACK) {
                delete this._board[move.to - 16];
            }
            else {
                delete this._board[move.to + 16];
            }
        }
        // if pawn promotion, replace with new piece
        if (move.promotion) {
            this._board[move.to] = { type: move.promotion, color: us };
        }
        // if we moved the king
        if (this._board[move.to].type === KING) {
            this._kings[us] = move.to;
            // if we castled, move the rook next to the king
            if (move.flags & BITS.KSIDE_CASTLE) {
                const castlingTo = move.to - 1;
                const castlingFrom = move.to + 1;
                this._board[castlingTo] = this._board[castlingFrom];
                delete this._board[castlingFrom];
            }
            else if (move.flags & BITS.QSIDE_CASTLE) {
                const castlingTo = move.to + 1;
                const castlingFrom = move.to - 2;
                this._board[castlingTo] = this._board[castlingFrom];
                delete this._board[castlingFrom];
            }
            // turn off castling
            this._castling[us] = 0;
        }
        // turn off castling if we move a rook
        if (this._castling[us]) {
            for (let i = 0, len = ROOKS[us].length; i < len; i++) {
                if (move.from === ROOKS[us][i].square &&
                    this._castling[us] & ROOKS[us][i].flag) {
                    this._castling[us] ^= ROOKS[us][i].flag;
                    break;
                }
            }
        }
        // turn off castling if we capture a rook
        if (this._castling[them]) {
            for (let i = 0, len = ROOKS[them].length; i < len; i++) {
                if (move.to === ROOKS[them][i].square &&
                    this._castling[them] & ROOKS[them][i].flag) {
                    this._castling[them] ^= ROOKS[them][i].flag;
                    break;
                }
            }
        }
        // if big pawn move, update the en passant square
        if (move.flags & BITS.BIG_PAWN) {
            if (us === BLACK) {
                this._epSquare = move.to - 16;
            }
            else {
                this._epSquare = move.to + 16;
            }
        }
        else {
            this._epSquare = EMPTY;
        }
        // reset the 50 move counter if a pawn is moved or a piece is captured
        if (move.piece === PAWN) {
            this._halfMoves = 0;
        }
        else if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {
            this._halfMoves = 0;
        }
        else {
            this._halfMoves++;
        }
        if (us === BLACK) {
            this._moveNumber++;
        }
        this._turn = them;
    }
    undo() {
        const move = this._undoMove();
        if (move) {
            const prettyMove = this._makePretty(move);
            this._positionCounts[prettyMove.after]--;
            return prettyMove;
        }
        return null;
    }
    _undoMove() {
        const old = this._history.pop();
        if (old === undefined) {
            return null;
        }
        const move = old.move;
        this._kings = old.kings;
        this._turn = old.turn;
        this._castling = old.castling;
        this._epSquare = old.epSquare;
        this._halfMoves = old.halfMoves;
        this._moveNumber = old.moveNumber;
        const us = this._turn;
        const them = swapColor(us);
        this._board[move.from] = this._board[move.to];
        this._board[move.from].type = move.piece; // to undo any promotions
        delete this._board[move.to];
        if (move.captured) {
            if (move.flags & BITS.EP_CAPTURE) {
                // en passant capture
                let index;
                if (us === BLACK) {
                    index = move.to - 16;
                }
                else {
                    index = move.to + 16;
                }
                this._board[index] = { type: PAWN, color: them };
            }
            else {
                // regular capture
                this._board[move.to] = { type: move.captured, color: them };
            }
        }
        if (move.flags & (BITS.KSIDE_CASTLE | BITS.QSIDE_CASTLE)) {
            let castlingTo, castlingFrom;
            if (move.flags & BITS.KSIDE_CASTLE) {
                castlingTo = move.to + 1;
                castlingFrom = move.to - 1;
            }
            else {
                castlingTo = move.to - 2;
                castlingFrom = move.to + 1;
            }
            this._board[castlingTo] = this._board[castlingFrom];
            delete this._board[castlingFrom];
        }
        return move;
    }
    pgn({ newline = '\n', maxWidth = 0, } = {}) {
        /*
         * using the specification from http://www.chessclub.com/help/PGN-spec
         * example for html usage: .pgn({ max_width: 72, newline_char: "<br />" })
         */
        const result = [];
        let headerExists = false;
        /* add the PGN header information */
        for (const i in this._header) {
            /*
             * TODO: order of enumerated properties in header object is not
             * guaranteed, see ECMA-262 spec (section 12.6.4)
             */
            result.push('[' + i + ' "' + this._header[i] + '"]' + newline);
            headerExists = true;
        }
        if (headerExists && this._history.length) {
            result.push(newline);
        }
        const appendComment = (moveString) => {
            const comment = this._comments[this.fen()];
            if (typeof comment !== 'undefined') {
                const delimiter = moveString.length > 0 ? ' ' : '';
                moveString = `${moveString}${delimiter}{${comment}}`;
            }
            return moveString;
        };
        // pop all of history onto reversed_history
        const reversedHistory = [];
        while (this._history.length > 0) {
            reversedHistory.push(this._undoMove());
        }
        const moves = [];
        let moveString = '';
        // special case of a commented starting position with no moves
        if (reversedHistory.length === 0) {
            moves.push(appendComment(''));
        }
        // build the list of moves.  a move_string looks like: "3. e3 e6"
        while (reversedHistory.length > 0) {
            moveString = appendComment(moveString);
            const move = reversedHistory.pop();
            // make TypeScript stop complaining about move being undefined
            if (!move) {
                break;
            }
            // if the position started with black to move, start PGN with #. ...
            if (!this._history.length && move.color === 'b') {
                const prefix = `${this._moveNumber}. ...`;
                // is there a comment preceding the first move?
                moveString = moveString ? `${moveString} ${prefix}` : prefix;
            }
            else if (move.color === 'w') {
                // store the previous generated move_string if we have one
                if (moveString.length) {
                    moves.push(moveString);
                }
                moveString = this._moveNumber + '.';
            }
            moveString =
                moveString + ' ' + this._moveToSan(move, this._moves({ legal: true }));
            this._makeMove(move);
        }
        // are there any other leftover moves?
        if (moveString.length) {
            moves.push(appendComment(moveString));
        }
        // is there a result?
        if (typeof this._header.Result !== 'undefined') {
            moves.push(this._header.Result);
        }
        /*
         * history should be back to what it was before we started generating PGN,
         * so join together moves
         */
        if (maxWidth === 0) {
            return result.join('') + moves.join(' ');
        }
        // TODO (jah): huh?
        const strip = function () {
            if (result.length > 0 && result[result.length - 1] === ' ') {
                result.pop();
                return true;
            }
            return false;
        };
        // NB: this does not preserve comment whitespace.
        const wrapComment = function (width, move) {
            for (const token of move.split(' ')) {
                if (!token) {
                    continue;
                }
                if (width + token.length > maxWidth) {
                    while (strip()) {
                        width--;
                    }
                    result.push(newline);
                    width = 0;
                }
                result.push(token);
                width += token.length;
                result.push(' ');
                width++;
            }
            if (strip()) {
                width--;
            }
            return width;
        };
        // wrap the PGN output at max_width
        let currentWidth = 0;
        for (let i = 0; i < moves.length; i++) {
            if (currentWidth + moves[i].length > maxWidth) {
                if (moves[i].includes('{')) {
                    currentWidth = wrapComment(currentWidth, moves[i]);
                    continue;
                }
            }
            // if the current move will push past max_width
            if (currentWidth + moves[i].length > maxWidth && i !== 0) {
                // don't end the line with whitespace
                if (result[result.length - 1] === ' ') {
                    result.pop();
                }
                result.push(newline);
                currentWidth = 0;
            }
            else if (i !== 0) {
                result.push(' ');
                currentWidth++;
            }
            result.push(moves[i]);
            currentWidth += moves[i].length;
        }
        return result.join('');
    }
    header(...args) {
        for (let i = 0; i < args.length; i += 2) {
            if (typeof args[i] === 'string' && typeof args[i + 1] === 'string') {
                this._header[args[i]] = args[i + 1];
            }
        }
        return this._header;
    }
    loadPgn(pgn, { strict = false, newlineChar = '\r?\n', } = {}) {
        function mask(str) {
            return str.replace(/\\/g, '\\');
        }
        function parsePgnHeader(header) {
            const headerObj = {};
            const headers = header.split(new RegExp(mask(newlineChar)));
            let key = '';
            let value = '';
            for (let i = 0; i < headers.length; i++) {
                const regex = /^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;
                key = headers[i].replace(regex, '$1');
                value = headers[i].replace(regex, '$2');
                if (key.trim().length > 0) {
                    headerObj[key] = value;
                }
            }
            return headerObj;
        }
        // strip whitespace from head/tail of PGN block
        pgn = pgn.trim();
        /*
         * RegExp to split header. Takes advantage of the fact that header and movetext
         * will always have a blank line between them (ie, two newline_char's). Handles
         * case where movetext is empty by matching newlineChar until end of string is
         * matched - effectively trimming from the end extra newlineChar.
         *
         * With default newline_char, will equal:
         * /^(\[((?:\r?\n)|.)*\])((?:\s*\r?\n){2}|(?:\s*\r?\n)*$)/
         */
        const headerRegex = new RegExp('^(\\[((?:' +
            mask(newlineChar) +
            ')|.)*\\])' +
            '((?:\\s*' +
            mask(newlineChar) +
            '){2}|(?:\\s*' +
            mask(newlineChar) +
            ')*$)');
        // If no header given, begin with moves.
        const headerRegexResults = headerRegex.exec(pgn);
        const headerString = headerRegexResults
            ? headerRegexResults.length >= 2
                ? headerRegexResults[1]
                : ''
            : '';
        // Put the board in the starting position
        this.reset();
        // parse PGN header
        const headers = parsePgnHeader(headerString);
        let fen = '';
        for (const key in headers) {
            // check to see user is including fen (possibly with wrong tag case)
            if (key.toLowerCase() === 'fen') {
                fen = headers[key];
            }
            this.header(key, headers[key]);
        }
        /*
         * the permissive parser should attempt to load a fen tag, even if it's the
         * wrong case and doesn't include a corresponding [SetUp "1"] tag
         */
        if (!strict) {
            if (fen) {
                this.load(fen, { preserveHeaders: true });
            }
        }
        else {
            /*
             * strict parser - load the starting position indicated by [Setup '1']
             * and [FEN position]
             */
            if (headers['SetUp'] === '1') {
                if (!('FEN' in headers)) {
                    throw new Error('Invalid PGN: FEN tag must be supplied with SetUp tag');
                }
                // don't clear the headers when loading
                this.load(headers['FEN'], { preserveHeaders: true });
            }
        }
        /*
         * NB: the regexes below that delete move numbers, recursive annotations,
         * and numeric annotation glyphs may also match text in comments. To
         * prevent this, we transform comments by hex-encoding them in place and
         * decoding them again after the other tokens have been deleted.
         *
         * While the spec states that PGN files should be ASCII encoded, we use
         * {en,de}codeURIComponent here to support arbitrary UTF8 as a convenience
         * for modern users
         */
        function toHex(s) {
            return Array.from(s)
                .map(function (c) {
                /*
                 * encodeURI doesn't transform most ASCII characters, so we handle
                 * these ourselves
                 */
                return c.charCodeAt(0) < 128
                    ? c.charCodeAt(0).toString(16)
                    : encodeURIComponent(c).replace(/%/g, '').toLowerCase();
            })
                .join('');
        }
        function fromHex(s) {
            return s.length == 0
                ? ''
                : decodeURIComponent('%' + (s.match(/.{1,2}/g) || []).join('%'));
        }
        const encodeComment = function (s) {
            s = s.replace(new RegExp(mask(newlineChar), 'g'), ' ');
            return `{${toHex(s.slice(1, s.length - 1))}}`;
        };
        const decodeComment = function (s) {
            if (s.startsWith('{') && s.endsWith('}')) {
                return fromHex(s.slice(1, s.length - 1));
            }
        };
        // delete header to get the moves
        let ms = pgn
            .replace(headerString, '')
            .replace(
        // encode comments so they don't get deleted below
        new RegExp(`({[^}]*})+?|;([^${mask(newlineChar)}]*)`, 'g'), function (_match, bracket, semicolon) {
            return bracket !== undefined
                ? encodeComment(bracket)
                : ' ' + encodeComment(`{${semicolon.slice(1)}}`);
        })
            .replace(new RegExp(mask(newlineChar), 'g'), ' ');
        // delete recursive annotation variations
        const ravRegex = /(\([^()]+\))+?/g;
        while (ravRegex.test(ms)) {
            ms = ms.replace(ravRegex, '');
        }
        // delete move numbers
        ms = ms.replace(/\d+\.(\.\.)?/g, '');
        // delete ... indicating black to move
        ms = ms.replace(/\.\.\./g, '');
        /* delete numeric annotation glyphs */
        ms = ms.replace(/\$\d+/g, '');
        // trim and get array of moves
        let moves = ms.trim().split(new RegExp(/\s+/));
        // delete empty entries
        moves = moves.filter((move) => move !== '');
        let result = '';
        for (let halfMove = 0; halfMove < moves.length; halfMove++) {
            const comment = decodeComment(moves[halfMove]);
            if (comment !== undefined) {
                this._comments[this.fen()] = comment;
                continue;
            }
            const move = this._moveFromSan(moves[halfMove], strict);
            // invalid move
            if (move == null) {
                // was the move an end of game marker
                if (TERMINATION_MARKERS.indexOf(moves[halfMove]) > -1) {
                    result = moves[halfMove];
                }
                else {
                    throw new Error(`Invalid move in PGN: ${moves[halfMove]}`);
                }
            }
            else {
                // reset the end of game marker if making a valid move
                result = '';
                this._makeMove(move);
                this._positionCounts[this.fen()]++;
            }
        }
        /*
         * Per section 8.2.6 of the PGN spec, the Result tag pair must match match
         * the termination marker. Only do this when headers are present, but the
         * result tag is missing
         */
        if (result && Object.keys(this._header).length && !this._header['Result']) {
            this.header('Result', result);
        }
    }
    /*
     * Convert a move from 0x88 coordinates to Standard Algebraic Notation
     * (SAN)
     *
     * @param {boolean} strict Use the strict SAN parser. It will throw errors
     * on overly disambiguated moves (see below):
     *
     * r1bqkbnr/ppp2ppp/2n5/1B1pP3/4P3/8/PPPP2PP/RNBQK1NR b KQkq - 2 4
     * 4. ... Nge7 is overly disambiguated because the knight on c6 is pinned
     * 4. ... Ne7 is technically the valid SAN
     */
    _moveToSan(move, moves) {
        let output = '';
        if (move.flags & BITS.KSIDE_CASTLE) {
            output = 'O-O';
        }
        else if (move.flags & BITS.QSIDE_CASTLE) {
            output = 'O-O-O';
        }
        else {
            if (move.piece !== PAWN) {
                const disambiguator = getDisambiguator(move, moves);
                output += move.piece.toUpperCase() + disambiguator;
            }
            if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {
                if (move.piece === PAWN) {
                    output += algebraic(move.from)[0];
                }
                output += 'x';
            }
            output += algebraic(move.to);
            if (move.promotion) {
                output += '=' + move.promotion.toUpperCase();
            }
        }
        this._makeMove(move);
        if (this.isCheck()) {
            if (this.isCheckmate()) {
                output += '#';
            }
            else {
                output += '+';
            }
        }
        this._undoMove();
        return output;
    }
    // convert a move from Standard Algebraic Notation (SAN) to 0x88 coordinates
    _moveFromSan(move, strict = false) {
        // strip off any move decorations: e.g Nf3+?! becomes Nf3
        const cleanMove = strippedSan(move);
        let pieceType = inferPieceType(cleanMove);
        let moves = this._moves({ legal: true, piece: pieceType });
        // strict parser
        for (let i = 0, len = moves.length; i < len; i++) {
            if (cleanMove === strippedSan(this._moveToSan(moves[i], moves))) {
                return moves[i];
            }
        }
        // the strict parser failed
        if (strict) {
            return null;
        }
        let piece = undefined;
        let matches = undefined;
        let from = undefined;
        let to = undefined;
        let promotion = undefined;
        /*
         * The default permissive (non-strict) parser allows the user to parse
         * non-standard chess notations. This parser is only run after the strict
         * Standard Algebraic Notation (SAN) parser has failed.
         *
         * When running the permissive parser, we'll run a regex to grab the piece, the
         * to/from square, and an optional promotion piece. This regex will
         * parse common non-standard notation like: Pe2-e4, Rc1c4, Qf3xf7,
         * f7f8q, b1c3
         *
         * NOTE: Some positions and moves may be ambiguous when using the permissive
         * parser. For example, in this position: 6k1/8/8/B7/8/8/8/BN4K1 w - - 0 1,
         * the move b1c3 may be interpreted as Nc3 or B1c3 (a disambiguated bishop
         * move). In these cases, the permissive parser will default to the most
         * basic interpretation (which is b1c3 parsing to Nc3).
         */
        let overlyDisambiguated = false;
        matches = cleanMove.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);
        if (matches) {
            piece = matches[1];
            from = matches[2];
            to = matches[3];
            promotion = matches[4];
            if (from.length == 1) {
                overlyDisambiguated = true;
            }
        }
        else {
            /*
             * The [a-h]?[1-8]? portion of the regex below handles moves that may be
             * overly disambiguated (e.g. Nge7 is unnecessary and non-standard when
             * there is one legal knight move to e7). In this case, the value of
             * 'from' variable will be a rank or file, not a square.
             */
            matches = cleanMove.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/);
            if (matches) {
                piece = matches[1];
                from = matches[2];
                to = matches[3];
                promotion = matches[4];
                if (from.length == 1) {
                    overlyDisambiguated = true;
                }
            }
        }
        pieceType = inferPieceType(cleanMove);
        moves = this._moves({
            legal: true,
            piece: piece ? piece : pieceType,
        });
        if (!to) {
            return null;
        }
        for (let i = 0, len = moves.length; i < len; i++) {
            if (!from) {
                // if there is no from square, it could be just 'x' missing from a capture
                if (cleanMove ===
                    strippedSan(this._moveToSan(moves[i], moves)).replace('x', '')) {
                    return moves[i];
                }
                // hand-compare move properties with the results from our permissive regex
            }
            else if ((!piece || piece.toLowerCase() == moves[i].piece) &&
                Ox88[from] == moves[i].from &&
                Ox88[to] == moves[i].to &&
                (!promotion || promotion.toLowerCase() == moves[i].promotion)) {
                return moves[i];
            }
            else if (overlyDisambiguated) {
                /*
                 * SPECIAL CASE: we parsed a move string that may have an unneeded
                 * rank/file disambiguator (e.g. Nge7).  The 'from' variable will
                 */
                const square = algebraic(moves[i].from);
                if ((!piece || piece.toLowerCase() == moves[i].piece) &&
                    Ox88[to] == moves[i].to &&
                    (from == square[0] || from == square[1]) &&
                    (!promotion || promotion.toLowerCase() == moves[i].promotion)) {
                    return moves[i];
                }
            }
        }
        return null;
    }
    ascii() {
        let s = '   +------------------------+\n';
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            // display the rank
            if (file(i) === 0) {
                s += ' ' + '87654321'[rank(i)] + ' |';
            }
            if (this._board[i]) {
                const piece = this._board[i].type;
                const color = this._board[i].color;
                const symbol = color === WHITE ? piece.toUpperCase() : piece.toLowerCase();
                s += ' ' + symbol + ' ';
            }
            else {
                s += ' . ';
            }
            if ((i + 1) & 0x88) {
                s += '|\n';
                i += 8;
            }
        }
        s += '   +------------------------+\n';
        s += '     a  b  c  d  e  f  g  h';
        return s;
    }
    perft(depth) {
        const moves = this._moves({ legal: false });
        let nodes = 0;
        const color = this._turn;
        for (let i = 0, len = moves.length; i < len; i++) {
            this._makeMove(moves[i]);
            if (!this._isKingAttacked(color)) {
                if (depth - 1 > 0) {
                    nodes += this.perft(depth - 1);
                }
                else {
                    nodes++;
                }
            }
            this._undoMove();
        }
        return nodes;
    }
    // pretty = external move object
    _makePretty(uglyMove) {
        const { color, piece, from, to, flags, captured, promotion } = uglyMove;
        let prettyFlags = '';
        for (const flag in BITS) {
            if (BITS[flag] & flags) {
                prettyFlags += FLAGS[flag];
            }
        }
        const fromAlgebraic = algebraic(from);
        const toAlgebraic = algebraic(to);
        const move = {
            color,
            piece,
            from: fromAlgebraic,
            to: toAlgebraic,
            san: this._moveToSan(uglyMove, this._moves({ legal: true })),
            flags: prettyFlags,
            lan: fromAlgebraic + toAlgebraic,
            before: this.fen(),
            after: '',
        };
        // generate the FEN for the 'after' key
        this._makeMove(uglyMove);
        move.after = this.fen();
        this._undoMove();
        if (captured) {
            move.captured = captured;
        }
        if (promotion) {
            move.promotion = promotion;
            move.lan += promotion;
        }
        return move;
    }
    turn() {
        return this._turn;
    }
    board() {
        const output = [];
        let row = [];
        for (let i = Ox88.a8; i <= Ox88.h1; i++) {
            if (this._board[i] == null) {
                row.push(null);
            }
            else {
                row.push({
                    square: algebraic(i),
                    type: this._board[i].type,
                    color: this._board[i].color,
                });
            }
            if ((i + 1) & 0x88) {
                output.push(row);
                row = [];
                i += 8;
            }
        }
        return output;
    }
    squareColor(square) {
        if (square in Ox88) {
            const sq = Ox88[square];
            return (rank(sq) + file(sq)) % 2 === 0 ? 'light' : 'dark';
        }
        return null;
    }
    history({ verbose = false } = {}) {
        const reversedHistory = [];
        const moveHistory = [];
        while (this._history.length > 0) {
            reversedHistory.push(this._undoMove());
        }
        while (true) {
            const move = reversedHistory.pop();
            if (!move) {
                break;
            }
            if (verbose) {
                moveHistory.push(this._makePretty(move));
            }
            else {
                moveHistory.push(this._moveToSan(move, this._moves()));
            }
            this._makeMove(move);
        }
        return moveHistory;
    }
    _pruneComments() {
        const reversedHistory = [];
        const currentComments = {};
        const copyComment = (fen) => {
            if (fen in this._comments) {
                currentComments[fen] = this._comments[fen];
            }
        };
        while (this._history.length > 0) {
            reversedHistory.push(this._undoMove());
        }
        copyComment(this.fen());
        while (true) {
            const move = reversedHistory.pop();
            if (!move) {
                break;
            }
            this._makeMove(move);
            copyComment(this.fen());
        }
        this._comments = currentComments;
    }
    getComment() {
        return this._comments[this.fen()];
    }
    setComment(comment) {
        this._comments[this.fen()] = comment.replace('{', '[').replace('}', ']');
    }
    deleteComment() {
        const comment = this._comments[this.fen()];
        delete this._comments[this.fen()];
        return comment;
    }
    getComments() {
        this._pruneComments();
        return Object.keys(this._comments).map((fen) => {
            return { fen: fen, comment: this._comments[fen] };
        });
    }
    deleteComments() {
        this._pruneComments();
        return Object.keys(this._comments).map((fen) => {
            const comment = this._comments[fen];
            delete this._comments[fen];
            return { fen: fen, comment: comment };
        });
    }
    setCastlingRights(color, rights) {
        for (const side of [KING, QUEEN]) {
            if (rights[side] !== undefined) {
                if (rights[side]) {
                    this._castling[color] |= SIDES[side];
                }
                else {
                    this._castling[color] &= ~SIDES[side];
                }
            }
        }
        this._updateCastlingRights();
        const result = this.getCastlingRights(color);
        return ((rights[KING] === undefined || rights[KING] === result[KING]) &&
            (rights[QUEEN] === undefined || rights[QUEEN] === result[QUEEN]));
    }
    getCastlingRights(color) {
        return {
            [KING]: (this._castling[color] & SIDES[KING]) !== 0,
            [QUEEN]: (this._castling[color] & SIDES[QUEEN]) !== 0,
        };
    }
    moveNumber() {
        return this._moveNumber;
    }
}
//# sourceMappingURL=chess.js.map

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/components/v2/gameNavigator/buttons.css":
/*!*******************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/components/v2/gameNavigator/buttons.css ***!
  \*******************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.game-nav-buttons{
    margin-top:2px;
    text-align: center;
}
.game-nav-buttons > img{
    background-color:white;
    padding:4px 8px;
    border-radius:4px;
    cursor:pointer;
    margin-right:3px;
}
.game-nav-buttons > img:hover{
    outline:2px solid #FC0;
}
.game-nav-buttons > img.disabled{
    background-color:grey;
    outline:none;
}`, "",{"version":3,"sources":["webpack://./src/components/v2/gameNavigator/buttons.css"],"names":[],"mappings":"AAAA;IACI,cAAc;IACd,kBAAkB;AACtB;AACA;IACI,sBAAsB;IACtB,eAAe;IACf,iBAAiB;IACjB,cAAc;IACd,gBAAgB;AACpB;AACA;IACI,sBAAsB;AAC1B;AACA;IACI,qBAAqB;IACrB,YAAY;AAChB","sourcesContent":[".game-nav-buttons{\r\n    margin-top:2px;\r\n    text-align: center;\r\n}\r\n.game-nav-buttons > img{\r\n    background-color:white;\r\n    padding:4px 8px;\r\n    border-radius:4px;\r\n    cursor:pointer;\r\n    margin-right:3px;\r\n}\r\n.game-nav-buttons > img:hover{\r\n    outline:2px solid #FC0;\r\n}\r\n.game-nav-buttons > img.disabled{\r\n    background-color:grey;\r\n    outline:none;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/components/v2/gameNavigator/gameNavigator.css":
/*!*************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/components/v2/gameNavigator/gameNavigator.css ***!
  \*************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.above {
    margin-bottom: -3px;
}
.below{
    margin-top:-1px;
}
.player{
    column-count:2;
    height:4vh;
}
.player .name{
    clear:both;
    text-align: right;
    padding-right:4px;
}
.player .captures{
    float:left;
    margin-top:-5px;
}
.below .player .captures{
    margin-top:-4px;
}
.player .score{
    float:left;
    margin-left:5px;
    margin-top:2px;
    font-size:10pt;
}
.player .captures svg{
    position:static;
    height:4vh;
    width:4vh;
    transform:none;
    margin-top:0;
    margin-bottom:-11px;
}
.player .captures .p svg:first-child{
    margin-left:-4px;
}
.player .captures .p svg{
    margin-left:-8px;
    margin-right:-5px;
}
.player .captures .n{
    margin-left: 2px;
    margin-right: 1px;
}
.player .captures .n svg{
    margin-left: -6px;
    margin-right: -3px;
}
.player .captures .b svg{
    margin-left: -7px;
    margin-right: -4px;
}
.player .captures .r svg{
    margin-left: -6px;
    margin-right: -5px;
}
.player .captures .q svg{
    margin-bottom:-10px;
    margin-left: -2px;
    margin-right: 0px;
}`, "",{"version":3,"sources":["webpack://./src/components/v2/gameNavigator/gameNavigator.css"],"names":[],"mappings":"AAAA;IACI,mBAAmB;AACvB;AACA;IACI,eAAe;AACnB;AACA;IACI,cAAc;IACd,UAAU;AACd;AACA;IACI,UAAU;IACV,iBAAiB;IACjB,iBAAiB;AACrB;AACA;IACI,UAAU;IACV,eAAe;AACnB;AACA;IACI,eAAe;AACnB;AACA;IACI,UAAU;IACV,eAAe;IACf,cAAc;IACd,cAAc;AAClB;AACA;IACI,eAAe;IACf,UAAU;IACV,SAAS;IACT,cAAc;IACd,YAAY;IACZ,mBAAmB;AACvB;AACA;IACI,gBAAgB;AACpB;AACA;IACI,gBAAgB;IAChB,iBAAiB;AACrB;AACA;IACI,gBAAgB;IAChB,iBAAiB;AACrB;AACA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;AACA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;AACA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;AACA;IACI,mBAAmB;IACnB,iBAAiB;IACjB,iBAAiB;AACrB","sourcesContent":[".above {\r\n    margin-bottom: -3px;\r\n}\r\n.below{\r\n    margin-top:-1px;\r\n}\r\n.player{\r\n    column-count:2;\r\n    height:4vh;\r\n}\r\n.player .name{\r\n    clear:both;\r\n    text-align: right;\r\n    padding-right:4px;\r\n}\r\n.player .captures{\r\n    float:left;\r\n    margin-top:-5px;\r\n}\r\n.below .player .captures{\r\n    margin-top:-4px;\r\n}\r\n.player .score{\r\n    float:left;\r\n    margin-left:5px;\r\n    margin-top:2px;\r\n    font-size:10pt;\r\n}\r\n.player .captures svg{\r\n    position:static;\r\n    height:4vh;\r\n    width:4vh;\r\n    transform:none;\r\n    margin-top:0;\r\n    margin-bottom:-11px;\r\n}\r\n.player .captures .p svg:first-child{\r\n    margin-left:-4px;\r\n}\r\n.player .captures .p svg{\r\n    margin-left:-8px;\r\n    margin-right:-5px;\r\n}\r\n.player .captures .n{\r\n    margin-left: 2px;\r\n    margin-right: 1px;\r\n}\r\n.player .captures .n svg{\r\n    margin-left: -6px;\r\n    margin-right: -3px;\r\n}\r\n.player .captures .b svg{\r\n    margin-left: -7px;\r\n    margin-right: -4px;\r\n}\r\n.player .captures .r svg{\r\n    margin-left: -6px;\r\n    margin-right: -5px;\r\n}\r\n.player .captures .q svg{\r\n    margin-bottom:-10px;\r\n    margin-left: -2px;\r\n    margin-right: 0px;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/components/v2/gameNavigator/history.css":
/*!*******************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/components/v2/gameNavigator/history.css ***!
  \*******************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.game-history{
    -webkit-column-width: 100px;
     -moz-column-width: 100px;
          column-width: 100px;
}
.game-history div{
    float:left;
}
.game-history .move{
    padding:3px;line-height:24px;margin-left:2px;margin-right:3px;border-radius:4px;cursor:pointer;
}
.game-history .move:hover{
    outline:2px solid rgba(255, 255, 51, 0.9);
}
.game-history .move.start{
    background-color:rgba(255, 255, 51, 0.3);
}
.game-history .move.end{
    background-color:rgba(255, 255, 51, 0.4);
}`, "",{"version":3,"sources":["webpack://./src/components/v2/gameNavigator/history.css"],"names":[],"mappings":"AAAA;IACI,2BAA2B;KAC1B,wBAAwB;UACnB,mBAAmB;AAC7B;AACA;IACI,UAAU;AACd;AACA;IACI,WAAW,CAAC,gBAAgB,CAAC,eAAe,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,cAAc;AAClG;AACA;IACI,yCAAyC;AAC7C;AACA;IACI,wCAAwC;AAC5C;AACA;IACI,wCAAwC;AAC5C","sourcesContent":[".game-history{\r\n    -webkit-column-width: 100px;\r\n     -moz-column-width: 100px;\r\n          column-width: 100px;\r\n}\r\n.game-history div{\r\n    float:left;\r\n}\r\n.game-history .move{\r\n    padding:3px;line-height:24px;margin-left:2px;margin-right:3px;border-radius:4px;cursor:pointer;\r\n}\r\n.game-history .move:hover{\r\n    outline:2px solid rgba(255, 255, 51, 0.9);\r\n}\r\n.game-history .move.start{\r\n    background-color:rgba(255, 255, 51, 0.3);\r\n}\r\n.game-history .move.end{\r\n    background-color:rgba(255, 255, 51, 0.4);\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/pages/master.css":
/*!********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/pages/master.css ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `body{padding:0;margin:0;background-color:rgb(57,57,57);color:rgb(245, 245, 245);}`, "",{"version":3,"sources":["webpack://./src/pages/master.css"],"names":[],"mappings":"AAAA,KAAK,SAAS,CAAC,QAAQ,CAAC,8BAA8B,CAAC,wBAAwB,CAAC","sourcesContent":["body{padding:0;margin:0;background-color:rgb(57,57,57);color:rgb(245, 245, 245);}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/pages/openings/openings.css":
/*!*******************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/pages/openings/openings.css ***!
  \*******************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `* {
    box-sizing: border-box;
}
.column{
    float: left;
    width:50%;
    padding: 10px;
    height: 100vh;
}
.row:after {
    content: "";
    display: table;
    clear: both;
}
#gameNavigator{
    width:500px;
    margin:0 20px;
}
#history{
    margin-top:30px;
}
@media screen and (max-width: 900px) {
    .column {
        width: 100%;
    }
}`, "",{"version":3,"sources":["webpack://./src/pages/openings/openings.css"],"names":[],"mappings":"AAAA;IACI,sBAAsB;AAC1B;AACA;IACI,WAAW;IACX,SAAS;IACT,aAAa;IACb,aAAa;AACjB;AACA;IACI,WAAW;IACX,cAAc;IACd,WAAW;AACf;AACA;IACI,WAAW;IACX,aAAa;AACjB;AACA;IACI,eAAe;AACnB;AACA;IACI;QACI,WAAW;IACf;AACJ","sourcesContent":["* {\r\n    box-sizing: border-box;\r\n}\r\n.column{\r\n    float: left;\r\n    width:50%;\r\n    padding: 10px;\r\n    height: 100vh;\r\n}\r\n.row:after {\r\n    content: \"\";\r\n    display: table;\r\n    clear: both;\r\n}\r\n#gameNavigator{\r\n    width:500px;\r\n    margin:0 20px;\r\n}\r\n#history{\r\n    margin-top:30px;\r\n}\r\n@media screen and (max-width: 900px) {\r\n    .column {\r\n        width: 100%;\r\n    }\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {



module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./src/components/v2/gameNavigator/buttons.css":
/*!*****************************************************!*\
  !*** ./src/components/v2/gameNavigator/buttons.css ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_buttons_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!./buttons.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/v2/gameNavigator/buttons.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_buttons_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_buttons_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_buttons_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_buttons_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/components/v2/gameNavigator/gameNavigator.css":
/*!***********************************************************!*\
  !*** ./src/components/v2/gameNavigator/gameNavigator.css ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_gameNavigator_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!./gameNavigator.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/v2/gameNavigator/gameNavigator.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_gameNavigator_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_gameNavigator_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_gameNavigator_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_gameNavigator_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/components/v2/gameNavigator/history.css":
/*!*****************************************************!*\
  !*** ./src/components/v2/gameNavigator/history.css ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_history_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!./history.css */ "./node_modules/css-loader/dist/cjs.js!./src/components/v2/gameNavigator/history.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_history_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_history_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_history_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_history_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/pages/master.css":
/*!******************************!*\
  !*** ./src/pages/master.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./master.css */ "./node_modules/css-loader/dist/cjs.js!./src/pages/master.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_master_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/pages/openings/openings.css":
/*!*****************************************!*\
  !*** ./src/pages/openings/openings.css ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_openings_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!./openings.css */ "./node_modules/css-loader/dist/cjs.js!./src/pages/openings/openings.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_openings_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_openings_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_openings_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_openings_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {



var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {



var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./src/components/v2/chessboard/Chessboard.ts":
/*!****************************************************!*\
  !*** ./src/components/v2/chessboard/Chessboard.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const BoardLayer_1 = __importDefault(__webpack_require__(/*! ./Layers/BoardLayer */ "./src/components/v2/chessboard/Layers/BoardLayer.ts"));
const CordsLayer_1 = __importDefault(__webpack_require__(/*! ./Layers/CordsLayer */ "./src/components/v2/chessboard/Layers/CordsLayer.ts"));
const PieceLayer_1 = __importDefault(__webpack_require__(/*! ./Layers/PieceLayer */ "./src/components/v2/chessboard/Layers/PieceLayer.ts"));
const ArrowLayer_1 = __importDefault(__webpack_require__(/*! ./Layers/ArrowLayer */ "./src/components/v2/chessboard/Layers/ArrowLayer.ts"));
const MouseEvents_1 = __importDefault(__webpack_require__(/*! ./MouseEvents */ "./src/components/v2/chessboard/MouseEvents.ts"));
const Shared_1 = __importDefault(__webpack_require__(/*! ./Shared */ "./src/components/v2/chessboard/Shared.ts"));
const SVG_1 = __importDefault(__webpack_require__(/*! ./SVG */ "./src/components/v2/chessboard/SVG.ts"));
const ResultsLayer_1 = __importDefault(__webpack_require__(/*! ./Layers/ResultsLayer */ "./src/components/v2/chessboard/Layers/ResultsLayer.ts"));
class Chessboard {
    constructor(boardContainer, fen, isRotated) {
        this.isRotated = false;
        this.isRotated = isRotated;
        this.svgRoot = SVG_1.default.createSVG('0 0 800 800');
        boardContainer.appendChild(this.svgRoot);
        this.boardLayer = new BoardLayer_1.default(this.svgRoot, isRotated);
        this.cordsLayer = new CordsLayer_1.default(this.svgRoot, isRotated);
        this.pieceLayer = new PieceLayer_1.default(this.svgRoot, isRotated);
        this.arrowLayer = new ArrowLayer_1.default(this.svgRoot, isRotated);
        this.resultsLayer = new ResultsLayer_1.default(this.svgRoot, isRotated);
        this.mouseEvents = new MouseEvents_1.default(this.svgRoot, this.boardLayer, this.arrowLayer, this.isRotated);
        this.setFen(fen, false);
    }
    rotate() {
        this.isRotated = !this.isRotated;
        this.boardLayer.rotate();
        this.cordsLayer.rotate();
        this.pieceLayer.rotate();
        this.arrowLayer.rotate();
        this.resultsLayer.rotate();
        this.mouseEvents.rotate();
    }
    setFen(fen, clearFirst) {
        if (clearFirst) {
            this.pieceLayer.clear();
        }
        if (fen !== "") {
            if (fen.toLowerCase() === "start")
                fen = Shared_1.default.startFEN;
            fen = fen.split(" ")[0].split("/").join("");
            let squareIndex = 0;
            for (let i = 0; i < fen.length; i++) {
                let fenChar = fen[i];
                let nummericValue = parseInt(fenChar);
                if (!isNaN(nummericValue)) {
                    squareIndex += nummericValue;
                }
                else {
                    let rotatedIndex = this.isRotated ? 63 - squareIndex : squareIndex;
                    let key = Shared_1.default.getSquareKeyByIndex(rotatedIndex, this.isRotated);
                    this.pieceLayer.addPiece(fenChar, key);
                    squareIndex++;
                }
            }
        }
    }
    highlightSource(from) {
        this.boardLayer.highlightSource(from);
    }
    highlightTarget(to) {
        this.boardLayer.highlightTarget(to);
    }
    clearSourceAndTargetHighlights() {
        this.boardLayer.clearSourceAndTargetHighlights();
    }
    highlightSourceAndTarget(from, to) {
        this.boardLayer.highlightSourceAndTarget(from, to);
    }
    showGameResult(gameResult) {
        let kings = this.pieceLayer.getKings();
        this.resultsLayer.showGameResult(gameResult, kings);
    }
}
exports["default"] = Chessboard;


/***/ }),

/***/ "./src/components/v2/chessboard/Layers/ArrowLayer.ts":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/Layers/ArrowLayer.ts ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Shared_1 = __importDefault(__webpack_require__(/*! ../Shared */ "./src/components/v2/chessboard/Shared.ts"));
const SVG_1 = __importDefault(__webpack_require__(/*! ../SVG */ "./src/components/v2/chessboard/SVG.ts"));
class ArrowLayer {
    constructor(svgRoot, isRotated) {
        this.strokeWidth = 20;
        this.rightClickedSquareKey = null;
        this.isRotated = false;
        this.currentArrows = [];
        this.svgRoot = svgRoot;
        let group = SVG_1.default.createGroup();
        svgRoot.appendChild(group);
        this.group = group;
        this.isRotated = isRotated;
    }
    rotate() {
        this.isRotated = !this.isRotated;
        this.group.innerHTML = "";
        this.currentArrows.forEach(arrow => {
            this.drawArrow(arrow.from, arrow.to);
        });
    }
    onRightButtonDown(squareKey) {
        this.rightClickedSquareKey = squareKey;
    }
    onLeftButtonDown() {
        this.group.innerHTML = "";
        this.currentArrows = [];
    }
    onRightButtonUp(squareKey) {
        if (this.rightClickedSquareKey && this.rightClickedSquareKey !== squareKey) {
            this.drawArrow(this.rightClickedSquareKey, squareKey);
        }
    }
    drawArrow(fromSquare, toSquare) {
        this.currentArrows.push({ from: fromSquare, to: toSquare });
        const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
        let point1 = this.svgRoot.createSVGPoint();
        let point2 = this.svgRoot.createSVGPoint();
        let point3 = this.svgRoot.createSVGPoint();
        let point4 = this.svgRoot.createSVGPoint();
        let point5 = this.svgRoot.createSVGPoint();
        let point6 = this.svgRoot.createSVGPoint();
        let point7 = this.svgRoot.createSVGPoint();
        let from = this.getRelativeCenter(fromSquare);
        let to = this.getRelativeCenter(toSquare);
        let distance = Math.sqrt(Math.pow(to.x - from.x, 2) + Math.pow(to.y - from.y, 2));
        let shortenDistance = 30;
        let center = { x: (from.x + to.x) / 2, y: (from.y + to.y) / 2 };
        let triangleSideLength = 40;
        let a = triangleSideLength / 2;
        let c = triangleSideLength;
        let heightOfTriangle = Math.sqrt(Math.pow(c, 2) - Math.pow(a, 2));
        point1.x = center.x - (distance / 2) + shortenDistance;
        point1.y = center.y - this.strokeWidth / 2;
        point2.x = point1.x;
        point2.y = point1.y + this.strokeWidth;
        point3.x = point2.x + distance - heightOfTriangle - shortenDistance;
        point3.y = point2.y;
        point4.x = point3.x;
        point4.y = point3.y + ((triangleSideLength / 2) - (this.strokeWidth / 2));
        point5.x = point4.x + heightOfTriangle;
        point5.y = center.y;
        point6.x = point4.x;
        point6.y = point4.y - triangleSideLength;
        point7.x = point3.x;
        point7.y = point3.y - this.strokeWidth;
        let deltaX = to.x - from.x;
        let deltaY = to.y - from.y;
        let radian = Math.atan2(deltaY, deltaX);
        let degrees = radian * 180 / Math.PI;
        polygon.setAttribute('transform', "rotate(" + degrees + " " + center.x.toString() + " " + center.y.toString() + ")");
        polygon.setAttribute("class", "arrow");
        polygon.setAttribute("fill", "rgba(255, 170, 0, 0.8)");
        polygon.points.appendItem(point1);
        polygon.points.appendItem(point2);
        polygon.points.appendItem(point3);
        polygon.points.appendItem(point4);
        polygon.points.appendItem(point5);
        polygon.points.appendItem(point6);
        polygon.points.appendItem(point7);
        this.group.appendChild(polygon);
    }
    getRelativeCenter(squareKey) {
        let char = squareKey[0];
        let digit = squareKey[1];
        let x = Shared_1.default.getHorizontalIndex(char, this.isRotated) * 100 + 50;
        let y = Shared_1.default.getVerticalIndex(digit, this.isRotated) * 100 + 50;
        return { x, y };
    }
}
exports["default"] = ArrowLayer;


/***/ }),

/***/ "./src/components/v2/chessboard/Layers/BoardLayer.ts":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/Layers/BoardLayer.ts ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Shared_1 = __importDefault(__webpack_require__(/*! ../Shared */ "./src/components/v2/chessboard/Shared.ts"));
const SVG_1 = __importDefault(__webpack_require__(/*! ../SVG */ "./src/components/v2/chessboard/SVG.ts"));
class BoardLayer {
    constructor(svgRoot, isRotated) {
        this.sourceColor = "rgba(255, 255, 51, 0.3)";
        this.targetColor = "rgba(255, 255, 51, 0.4)";
        this.rightClickColor = "rgb(235, 97, 80, 0.8)";
        this.rightClicks = {};
        this.rightClickedSquareKey = null;
        this.svgRoot = svgRoot;
        this.isRotated = isRotated;
        let group = SVG_1.default.createGroup();
        this.svgRoot.appendChild(group);
        let colors = ["l", "d", "l", "d", "l", "d", "l", "d"];
        [0, 1, 2, 3, 4, 5, 6, 7].forEach(y => {
            [0, 1, 2, 3, 4, 5, 6, 7].forEach((x, index) => {
                group.appendChild(this.createBoardRect(x, y, colors[index]));
            });
            colors = colors.reverse();
        });
        this.sourceTargetGroup = SVG_1.default.createGroup();
        this.svgRoot.appendChild(this.sourceTargetGroup);
        this.sourceHighlight = { squareKey: "a8", type: "source", rect: SVG_1.default.createSquare(0, 0, "transparent") };
        this.targetHighlight = { squareKey: "a7", type: "target", rect: SVG_1.default.createSquare(1, 0, "transparent") };
        this.sourceTargetGroup.appendChild(this.sourceHighlight.rect);
        this.sourceTargetGroup.appendChild(this.targetHighlight.rect);
        this.rightClickGroup = SVG_1.default.createGroup();
        this.svgRoot.appendChild(this.rightClickGroup);
    }
    onLeftButtonDown() {
        this.clearAllHighlights();
    }
    onRightButtonDown(squareKey) {
        this.rightClickedSquareKey = squareKey;
    }
    onRightButtonUp(squareKey) {
        if (this.rightClickedSquareKey && this.rightClickedSquareKey === squareKey) {
            let rightClicked = this.rightClicks[squareKey];
            if (rightClicked) {
                this.rightClickGroup.removeChild(rightClicked.rect);
                this.rightClicks[squareKey] = null;
            }
            else {
                this.createRightClickHighlight(squareKey);
            }
        }
    }
    rotate() {
        this.isRotated = !this.isRotated;
        this.setPosition(this.sourceHighlight);
        this.setPosition(this.targetHighlight);
        Object.values(this.rightClicks).forEach(rightClick => {
            if (rightClick) {
                this.setPosition(rightClick);
            }
        });
    }
    highlightSourceAndTarget(from, to) {
        this.clearAllHighlights();
        this.highlightSource(from);
        this.highlightTarget(to);
    }
    highlightSource(from) {
        this.sourceHighlight.squareKey = from;
        this.sourceHighlight.rect.setAttribute("fill", this.sourceColor);
        this.setPosition(this.sourceHighlight);
    }
    highlightTarget(to) {
        this.targetHighlight.squareKey = to;
        this.targetHighlight.rect.setAttribute("fill", this.targetColor);
        this.setPosition(this.targetHighlight);
    }
    clearSourceAndTargetHighlights() {
        this.sourceHighlight.rect.setAttribute("fill", "transparent");
        this.targetHighlight.rect.setAttribute("fill", "transparent");
    }
    clearAllHighlights() {
        this.clearSourceAndTargetHighlights();
        this.rightClicks = {};
        this.rightClickGroup.innerHTML = "";
    }
    createRightClickHighlight(squareKey) {
        let cords = Shared_1.default.getCordinatesBySquareKey(squareKey, this.isRotated);
        let rect = SVG_1.default.createSquare(cords.x, cords.y, this.rightClickColor);
        this.rightClickGroup.appendChild(rect);
        this.rightClicks[squareKey] = { squareKey, type: "RightClick", rect };
    }
    setPosition(highlight) {
        let cord = Shared_1.default.getCordinatesBySquareKey(highlight.squareKey, this.isRotated);
        highlight.rect.setAttribute("x", (cord.x * 100).toString());
        highlight.rect.setAttribute("y", (cord.y * 100).toString());
    }
    createBoardRect(x, y, color) {
        return SVG_1.default.createSquare(x, y, color === "l" ? "rgb(233,237,204)" : "rgb(119,153,84)");
    }
}
exports["default"] = BoardLayer;


/***/ }),

/***/ "./src/components/v2/chessboard/Layers/CordsLayer.ts":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/Layers/CordsLayer.ts ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const SVG_1 = __importDefault(__webpack_require__(/*! ../SVG */ "./src/components/v2/chessboard/SVG.ts"));
class CordsLayer {
    constructor(svgRoot, isRotated) {
        this.isRotated = isRotated;
        this.group = SVG_1.default.createGroup();
        this.group.classList.add("cords");
        this.group.setAttribute("font-family", "Helvetica");
        this.group.setAttribute("font-weight", "bold");
        this.group.setAttribute("fill", "rgb(30,30,30");
        svgRoot.append(this.group);
        this.horizontalGroup = SVG_1.default.createGroup();
        this.verticalGroup = SVG_1.default.createGroup();
        this.group.appendChild(this.horizontalGroup);
        this.group.appendChild(this.verticalGroup);
        this.horizontalGroup.setAttribute("transform", "translate(86, 795.5)");
        this.verticalGroup.setAttribute("transform", "translate(5, 18)");
        this.getHorizontalCords(isRotated).forEach((letter, index) => {
            let group = SVG_1.default.createGroup();
            group.setAttribute("transform", "translate(" + (index * 100).toString() + ",0)");
            this.horizontalGroup.appendChild(group);
            let text = SVG_1.default.createText(letter, "scale(0.9)");
            group.appendChild(text);
        });
        this.getVerticalCords(isRotated).forEach((number, index) => {
            let group = SVG_1.default.createGroup();
            group.setAttribute("transform", "translate(0," + +(index * 100).toString() + ")");
            this.verticalGroup.appendChild(group);
            let text = SVG_1.default.createText(number, "scale(1)");
            group.appendChild(text);
        });
    }
    getHorizontalCords(isRotated) {
        let horizontalCords = ["A", "B", "C", "D", "E", "F", "G", "H"];
        return isRotated ? horizontalCords.reverse() : horizontalCords;
    }
    getVerticalCords(isRotated) {
        let verticalCords = ["8", "7", "6", "5", "4", "3", "2", "1"];
        return isRotated ? verticalCords.reverse() : verticalCords;
    }
    rotate() {
        this.isRotated = !this.isRotated;
        let letters = this.getHorizontalCords(this.isRotated);
        let numbers = this.getVerticalCords(this.isRotated);
        Array.from(this.horizontalGroup.children).forEach((child, index) => {
            child.children[0].textContent = letters[index];
        });
        Array.from(this.verticalGroup.children).forEach((child, index) => {
            child.children[0].textContent = numbers[index];
        });
    }
}
exports["default"] = CordsLayer;


/***/ }),

/***/ "./src/components/v2/chessboard/Layers/PieceLayer.ts":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/Layers/PieceLayer.ts ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const PieceFactory_1 = __importDefault(__webpack_require__(/*! ../PieceFactory */ "./src/components/v2/chessboard/PieceFactory.ts"));
const Shared_1 = __importDefault(__webpack_require__(/*! ../Shared */ "./src/components/v2/chessboard/Shared.ts"));
const SVG_1 = __importDefault(__webpack_require__(/*! ../SVG */ "./src/components/v2/chessboard/SVG.ts"));
class PieceLayer {
    constructor(svgRoot, isRotated) {
        this.positions = {};
        this.group = SVG_1.default.createGroup();
        svgRoot.appendChild(this.group);
        this.isRotated = isRotated;
    }
    clear() {
        this.positions = {};
        this.group.innerHTML = "";
    }
    getPiece(squareKey) {
        return this.positions[squareKey];
    }
    addPiece(fenChar, squareKey) {
        let piece = PieceFactory_1.default.get(fenChar, squareKey);
        this.group.appendChild(piece.element);
        this.setPosition(piece);
        return piece;
    }
    rotate() {
        this.isRotated = !this.isRotated;
        let pieces = Object.values(this.positions);
        this.positions = {};
        pieces.forEach(piece => {
            if (piece) {
                this.setPosition(piece);
            }
        });
    }
    setPosition(piece) {
        let squareKey = piece.squareKey;
        this.positions[squareKey] = piece;
        Shared_1.default.setPosition(piece.element, squareKey, this.isRotated);
    }
    getKings() {
        let kings = {};
        Object.values(this.positions).forEach(piece => {
            if (piece && (piece.fenChar === "k" || piece.fenChar === "K")) {
                kings[piece.fenChar] = piece;
                if (kings["k"] && kings["K"]) {
                    return kings;
                }
            }
        });
        return kings;
    }
}
exports["default"] = PieceLayer;


/***/ }),

/***/ "./src/components/v2/chessboard/Layers/ResultsLayer.ts":
/*!*************************************************************!*\
  !*** ./src/components/v2/chessboard/Layers/ResultsLayer.ts ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const SVG_1 = __importDefault(__webpack_require__(/*! ../SVG */ "./src/components/v2/chessboard/SVG.ts"));
const Icons_1 = __importDefault(__webpack_require__(/*! ../assets/Icons */ "./src/components/v2/chessboard/assets/Icons.ts"));
const Shared_1 = __importDefault(__webpack_require__(/*! ../Shared */ "./src/components/v2/chessboard/Shared.ts"));
class ResultsLayer {
    constructor(svgRoot, isRotated) {
        this.kings = {};
        this.svgRoot = svgRoot;
        this.isRotated = isRotated;
        this.group = SVG_1.default.createGroup();
        this.svgRoot.appendChild(this.group);
    }
    clear() {
        this.group.innerHTML = "";
        this.gameResult = undefined;
        this.kings = {};
    }
    rotate() {
        this.isRotated = !this.isRotated;
        if (this.gameResult) {
            this.group.innerHTML = "";
            this.showGameResult(this.gameResult, this.kings);
        }
    }
    showGameResult(gameResult, kings) {
        this.gameResult = gameResult;
        this.kings = kings;
        if (gameResult !== "draw") {
            let winnerIcon = SVG_1.default.createImage(Icons_1.default.win, 0, 0, 30, 30);
            let loserIcon = SVG_1.default.createImage(Icons_1.default.lose, 0, 0, 40, 40);
            this.group.appendChild(winnerIcon);
            this.group.appendChild(loserIcon);
            let winnerFenChar = gameResult === "black" ? "k" : "K";
            let loserFenChar = gameResult === "black" ? "K" : "k";
            let winnerSquare = kings[winnerFenChar].squareKey;
            let loserSquare = kings[loserFenChar].squareKey;
            this.showImage(winnerIcon, winnerSquare);
            this.showImage(loserIcon, loserSquare);
        }
    }
    showImage(image, squareKey) {
        let cord = Shared_1.default.getCordinatesBySquareKey(squareKey, this.isRotated);
        image.style.transform = `translate(${cord.x * 12.5}%, ${cord.y * 12.5}%)`;
    }
}
exports["default"] = ResultsLayer;


/***/ }),

/***/ "./src/components/v2/chessboard/MouseEvents.ts":
/*!*****************************************************!*\
  !*** ./src/components/v2/chessboard/MouseEvents.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Shared_1 = __importDefault(__webpack_require__(/*! ./Shared */ "./src/components/v2/chessboard/Shared.ts"));
class MouseEvents {
    constructor(svgRoot, boardLayer, arrowLayer, isRotated) {
        this.svgRoot = svgRoot;
        this.isRotated = isRotated;
        this.svgRoot.addEventListener("mousedown", (event) => {
            let isRightClick = event.button && event.button == 2;
            if (isRightClick) {
                let squareKey = Shared_1.default.getSquareByCursorPosition(this.svgRoot, event, this.isRotated);
                boardLayer.onRightButtonDown(squareKey);
                arrowLayer.onRightButtonDown(squareKey);
            }
            else {
                boardLayer.onLeftButtonDown();
                arrowLayer.onLeftButtonDown();
            }
            event.preventDefault();
        });
        this.svgRoot.addEventListener("mouseup", (event) => {
            let isRightClick = event.button && event.button == 2;
            if (isRightClick) {
                let squareKey = Shared_1.default.getSquareByCursorPosition(this.svgRoot, event, this.isRotated);
                boardLayer.onRightButtonUp(squareKey);
                arrowLayer.onRightButtonUp(squareKey);
                event.preventDefault();
            }
        });
        this.svgRoot.addEventListener("contextmenu", (event) => event.preventDefault());
    }
    rotate() {
        this.isRotated = !this.isRotated;
    }
}
exports["default"] = MouseEvents;


/***/ }),

/***/ "./src/components/v2/chessboard/PieceElementFactory.ts":
/*!*************************************************************!*\
  !*** ./src/components/v2/chessboard/PieceElementFactory.ts ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const bishop = __importStar(__webpack_require__(/*! ./assets/pieces/b.json */ "./src/components/v2/chessboard/assets/pieces/b.json"));
const king = __importStar(__webpack_require__(/*! ./assets/pieces/k.json */ "./src/components/v2/chessboard/assets/pieces/k.json"));
const knight = __importStar(__webpack_require__(/*! ./assets/pieces/n.json */ "./src/components/v2/chessboard/assets/pieces/n.json"));
const pawn = __importStar(__webpack_require__(/*! ./assets/pieces/p.json */ "./src/components/v2/chessboard/assets/pieces/p.json"));
const queen = __importStar(__webpack_require__(/*! ./assets/pieces/q.json */ "./src/components/v2/chessboard/assets/pieces/q.json"));
const rook = __importStar(__webpack_require__(/*! ./assets/pieces/r.json */ "./src/components/v2/chessboard/assets/pieces/r.json"));
const SVG_1 = __importDefault(__webpack_require__(/*! ./SVG */ "./src/components/v2/chessboard/SVG.ts"));
const pieceSVGData = {};
pieceSVGData["p"] = pawn.g;
pieceSVGData["r"] = rook.g;
pieceSVGData["n"] = knight.g;
pieceSVGData["b"] = bishop.g;
pieceSVGData["q"] = queen.g;
pieceSVGData["k"] = king.g;
const pieceElementTypes = {};
["p", "n", "b", "r", "q", "k", "P", "N", "B", "R", "Q", "K"].forEach(fenChar => {
    let g = SVG_1.default.createGroup();
    let child = SVG_1.default.createGroup();
    child.classList.add("piece");
    g.appendChild(child);
    let data = pieceSVGData[fenChar.toLowerCase()];
    let color = fenChar === fenChar.toLowerCase() ? 0 : 1;
    loadChildren(child, data, color);
    pieceElementTypes[fenChar] = g;
});
function loadChildren(g, group, color) {
    if (group.transform) {
        g.setAttribute("transform", group.transform);
    }
    if (group.style && group.style[color]) {
        g.setAttribute("style", group.style[color]);
    }
    if (group.circle) {
        group.circle.forEach(circle => {
            let c = SVG_1.default.createCircle(circle.cx, circle.cy, circle.r);
            g.appendChild(c);
        });
    }
    if (group.path) {
        group.path.forEach(path => {
            if (path.colorIndex === undefined || path.colorIndex === color) {
                let p = SVG_1.default.createPath(path.d);
                if (path.style) {
                    p.setAttribute("style", path.style[color]);
                }
                g.appendChild(p);
            }
        });
    }
    if (group.g) {
        let childGroup = SVG_1.default.createGroup();
        g.appendChild(childGroup);
        loadChildren(childGroup, group.g, color);
    }
}
var PieceElementFactory;
(function (PieceElementFactory) {
    function get(fenChar) {
        return pieceElementTypes[fenChar].cloneNode(true);
    }
    PieceElementFactory.get = get;
})(PieceElementFactory || (PieceElementFactory = {}));
exports["default"] = PieceElementFactory;


/***/ }),

/***/ "./src/components/v2/chessboard/PieceFactory.ts":
/*!******************************************************!*\
  !*** ./src/components/v2/chessboard/PieceFactory.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const PieceElementFactory_1 = __importDefault(__webpack_require__(/*! ./PieceElementFactory */ "./src/components/v2/chessboard/PieceElementFactory.ts"));
var PieceFactory;
(function (PieceFactory) {
    function get(fenChar, squareKey) {
        let element = PieceElementFactory_1.default.get(fenChar);
        return { fenChar, element, squareKey };
    }
    PieceFactory.get = get;
})(PieceFactory || (PieceFactory = {}));
exports["default"] = PieceFactory;


/***/ }),

/***/ "./src/components/v2/chessboard/SVG.ts":
/*!*********************************************!*\
  !*** ./src/components/v2/chessboard/SVG.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
var SVG;
(function (SVG) {
    function createSVG(viewBox) {
        let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        svg.setAttribute('viewBox', viewBox);
        return svg;
    }
    SVG.createSVG = createSVG;
    function createGroup() {
        return document.createElementNS("http://www.w3.org/2000/svg", "g");
    }
    SVG.createGroup = createGroup;
    function createSquare(x, y, fill) {
        return createRect(x * 100, y * 100, 100, 100, fill);
    }
    SVG.createSquare = createSquare;
    function createRect(x, y, width, height, fill) {
        let rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
        rect.setAttribute("x", x.toString());
        rect.setAttribute("y", y.toString());
        rect.setAttribute("width", width.toString());
        rect.setAttribute("height", height.toString());
        if (fill) {
            rect.setAttribute("fill", fill);
        }
        return rect;
    }
    SVG.createRect = createRect;
    function createCircle(cx, cy, r) {
        let circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        circle.setAttribute("cx", cx);
        circle.setAttribute("cy", cy);
        circle.setAttribute("r", r);
        return circle;
    }
    SVG.createCircle = createCircle;
    function createImage(href, x, y, width, height) {
        let image = document.createElementNS('http://www.w3.org/2000/svg', 'image');
        image.setAttribute("href", href);
        image.setAttribute("x", x.toString());
        image.setAttribute("y", y.toString());
        image.setAttribute("width", width.toString());
        image.setAttribute("height", height.toString());
        return image;
    }
    SVG.createImage = createImage;
    function createText(content, transform) {
        let text = document.createElementNS("http://www.w3.org/2000/svg", "text");
        text.setAttribute("transform", transform);
        text.textContent = content;
        return text;
    }
    SVG.createText = createText;
    function createPath(d) {
        let path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        path.setAttribute("d", d);
        return path;
    }
    SVG.createPath = createPath;
})(SVG || (SVG = {}));
exports["default"] = SVG;


/***/ }),

/***/ "./src/components/v2/chessboard/Screenshot.ts":
/*!****************************************************!*\
  !*** ./src/components/v2/chessboard/Screenshot.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
var Screenshot;
(function (Screenshot) {
    function Download(svgRoot) {
        let widthAndHeight = 500;
        let canvas = document.createElement("canvas");
        canvas.height = widthAndHeight;
        canvas.width = widthAndHeight;
        let image = document.createElement("img");
        image.style.display = "none";
        document.body.prepend(image);
        image.src = ConvertToImageUrl(svgRoot);
        image.onload = function () {
            canvas.getContext('2d').drawImage(image, 0, 0);
            const imageDataURL = canvas.toDataURL("image/png");
            triggerDownload(imageDataURL, "myboard.png");
            document.body.removeChild(image);
        };
    }
    Screenshot.Download = Download;
    function ConvertToImageUrl(svgRoot) {
        let xml = new XMLSerializer().serializeToString(svgRoot);
        let image64 = 'data:image/svg+xml;base64,' + btoa(xml);
        return image64;
    }
    function triggerDownload(imgURI, fileName) {
        var evt = new MouseEvent("click", {
            view: window,
            bubbles: false,
            cancelable: true
        });
        var a = document.createElement("a");
        a.setAttribute("download", fileName);
        a.setAttribute("href", imgURI);
        a.setAttribute("target", '_blank');
        a.dispatchEvent(evt);
    }
})(Screenshot || (Screenshot = {}));
exports["default"] = Screenshot;


/***/ }),

/***/ "./src/components/v2/chessboard/Shared.ts":
/*!************************************************!*\
  !*** ./src/components/v2/chessboard/Shared.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
var Shared;
(function (Shared) {
    const squareKeys = ["a8", "b8", "c8", "d8", "e8", "f8", "g8", "h8", "a7", "b7", "c7", "d7", "e7", "f7", "g7", "h7", "a6", "b6", "c6", "d6", "e6", "f6", "g6", "h6", "a5", "b5", "c5", "d5", "e5", "f5", "g5", "h5", "a4", "b4", "c4", "d4", "e4", "f4", "g4", "h4", "a3", "b3", "c3", "d3", "e3", "f3", "g3", "h3", "a2", "b2", "c2", "d2", "e2", "f2", "g2", "h2", "a1", "b1", "c1", "d1", "e1", "f1", "g1", "h1"];
    const horizontal = ["a", "b", "c", "d", "e", "f", "g", "h"];
    const vertical = ["8", "7", "6", "5", "4", "3", "2", "1"];
    Shared.startFEN = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";
    function getSquareKeyByIndexes(horizontalIndex, verticalIndex, isRotated) {
        let letterIndex = isRotated ? 7 - horizontalIndex : horizontalIndex;
        let digitIndex = isRotated ? 7 - verticalIndex : verticalIndex;
        return horizontal[letterIndex] + vertical[digitIndex];
    }
    Shared.getSquareKeyByIndexes = getSquareKeyByIndexes;
    function getSquareKeyByIndex(index, isRotated) {
        let i = isRotated ? 63 - index : index;
        return squareKeys[i];
    }
    Shared.getSquareKeyByIndex = getSquareKeyByIndex;
    function getCurrentIndexOfSquareKey(squareKey, isRotated) {
        let index = squareKeys.indexOf(squareKey);
        return isRotated ? 63 - index : index;
    }
    Shared.getCurrentIndexOfSquareKey = getCurrentIndexOfSquareKey;
    function getHorizontalIndex(squareLetter, isRotated) {
        let index = horizontal.indexOf(squareLetter);
        return isRotated ? 7 - index : index;
    }
    Shared.getHorizontalIndex = getHorizontalIndex;
    function getVerticalIndex(squareNumber, isRotated) {
        let index = vertical.indexOf(squareNumber);
        return isRotated ? 7 - index : index;
    }
    Shared.getVerticalIndex = getVerticalIndex;
    function getCordinatesBySquareKey(squareKey, isRotated) {
        let x = getHorizontalIndex(squareKey[0], isRotated);
        let y = getVerticalIndex(squareKey[1], isRotated);
        return { x, y };
    }
    Shared.getCordinatesBySquareKey = getCordinatesBySquareKey;
    function setPosition(element, squareKey, isRotated) {
        let cords = getCordinatesBySquareKey(squareKey, isRotated);
        element.style.transform = `translate(${cords.x * 12.5}%, ${cords.y * 12.5}%)`;
    }
    Shared.setPosition = setPosition;
    function getSquareByCursorPosition(boardSVG, event, isRotated) {
        let svgParent = boardSVG.parentElement;
        let boardWidthAndHeight = svgParent.clientWidth;
        let squareWidthAndHeight = boardWidthAndHeight / 8;
        let boardCoordinateX = event.clientX - svgParent.offsetLeft + document.documentElement.scrollLeft;
        let boardCoordinateY = event.clientY - svgParent.offsetTop + document.documentElement.scrollTop;
        let squareIndexX = Math.floor(boardCoordinateX / squareWidthAndHeight);
        let squareIndexY = Math.floor(boardCoordinateY / squareWidthAndHeight);
        return getSquareKeyByIndexes(squareIndexX, squareIndexY, isRotated);
    }
    Shared.getSquareByCursorPosition = getSquareByCursorPosition;
    function addChild(parent, tag, className, text) {
        let child = document.createElement(tag);
        child.className = className;
        if (text)
            child.innerHTML = text;
        parent.appendChild(child);
        return child;
    }
    Shared.addChild = addChild;
})(Shared || (Shared = {}));
exports["default"] = Shared;


/***/ }),

/***/ "./src/components/v2/chessboard/assets/Icons.ts":
/*!******************************************************!*\
  !*** ./src/components/v2/chessboard/assets/Icons.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const win_svg_1 = __importDefault(__webpack_require__(/*! ./icons/win.svg */ "./src/components/v2/chessboard/assets/icons/win.svg"));
const lose_svg_1 = __importDefault(__webpack_require__(/*! ./icons/lose.svg */ "./src/components/v2/chessboard/assets/icons/lose.svg"));
class Icons {
}
Icons.win = win_svg_1.default;
Icons.lose = lose_svg_1.default;
exports["default"] = Icons;


/***/ }),

/***/ "./src/components/v2/gameNavigator/Buttons.ts":
/*!****************************************************!*\
  !*** ./src/components/v2/gameNavigator/Buttons.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Icons_1 = __importDefault(__webpack_require__(/*! ./img/Icons */ "./src/components/v2/gameNavigator/img/Icons.ts"));
const Screenshot_1 = __importDefault(__webpack_require__(/*! ../chessboard/Screenshot */ "./src/components/v2/chessboard/Screenshot.ts"));
__webpack_require__(/*! ./buttons.css */ "./src/components/v2/gameNavigator/buttons.css");
const Shared_1 = __importDefault(__webpack_require__(/*! ../chessboard/Shared */ "./src/components/v2/chessboard/Shared.ts"));
class Buttons {
    constructor(container, gameNavigator) {
        this.container = container;
        this.buttonContainer = Shared_1.default.addChild(this.container, "div", "game-nav-buttons");
        this.addButton("start", Icons_1.default.start, () => { gameNavigator.goToMove(-1); });
        this.addButton("rewind", Icons_1.default.rewind, () => gameNavigator.rewind());
        this.addButton("previous", Icons_1.default.previous, () => gameNavigator.previous());
        this.addButton("play", Icons_1.default.play, () => gameNavigator.play());
        this.addButton("pause", Icons_1.default.pause, () => gameNavigator.pause());
        this.addButton("next", Icons_1.default.next, () => gameNavigator.next());
        this.addButton("forward", Icons_1.default.forward, () => gameNavigator.forward());
        this.addButton("end", Icons_1.default.end, () => {
            gameNavigator.goToMove(gameNavigator.game.moves.length - 1);
        });
        this.addButton("rotate", Icons_1.default.rotate, () => gameNavigator.rotate());
        this.addButton("screenshot", Icons_1.default.screenshot, () => {
            Screenshot_1.default.Download(gameNavigator.chessboard.svgRoot);
        });
    }
    addButton(id, iconUrl, fn) {
        let button = document.createElement("img");
        button.src = iconUrl;
        button.onclick = fn;
        return this.buttonContainer.appendChild(button);
    }
}
exports["default"] = Buttons;


/***/ }),

/***/ "./src/components/v2/gameNavigator/Callbacks.ts":
/*!******************************************************!*\
  !*** ./src/components/v2/gameNavigator/Callbacks.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Callbacks = void 0;
class Callbacks {
}
exports.Callbacks = Callbacks;


/***/ }),

/***/ "./src/components/v2/gameNavigator/CapturePieceFactory.ts":
/*!****************************************************************!*\
  !*** ./src/components/v2/gameNavigator/CapturePieceFactory.ts ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CapturePieceFactory = void 0;
const PieceElementFactory_1 = __importDefault(__webpack_require__(/*! ../chessboard/PieceElementFactory */ "./src/components/v2/chessboard/PieceElementFactory.ts"));
const pieceTypes = {};
["p", "n", "b", "r", "q", "P", "N", "B", "R", "Q"].forEach(fenChar => {
    let svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute('viewBox', '0 0 100 100');
    let piece = PieceElementFactory_1.default.get(fenChar);
    svg.appendChild(piece);
    pieceTypes[fenChar] = svg;
});
var CapturePieceFactory;
(function (CapturePieceFactory) {
    function get(fenChar) {
        return pieceTypes[fenChar].cloneNode(true);
    }
    CapturePieceFactory.get = get;
})(CapturePieceFactory || (exports.CapturePieceFactory = CapturePieceFactory = {}));


/***/ }),

/***/ "./src/components/v2/gameNavigator/Castling.ts":
/*!*****************************************************!*\
  !*** ./src/components/v2/gameNavigator/Castling.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getCastling = void 0;
function getCastling(chessboard, move, isForward) {
    if (move.san[0] === "O") {
        let from = move.color === "w" ? (move.san === "O-O" ? "h1" : "a1") : (move.san === "O-O" ? "h8" : "a8");
        let to = move.color === "w" ? (move.san === "O-O" ? "f1" : "d1") : (move.san === "O-O" ? "f8" : "d8");
        let rook = chessboard.pieceLayer.getPiece(isForward ? from : to);
        return { rook, from, to };
    }
    return undefined;
}
exports.getCastling = getCastling;


/***/ }),

/***/ "./src/components/v2/gameNavigator/GameNavigator.ts":
/*!**********************************************************!*\
  !*** ./src/components/v2/gameNavigator/GameNavigator.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Chessboard_1 = __importDefault(__webpack_require__(/*! ../chessboard/Chessboard */ "./src/components/v2/chessboard/Chessboard.ts"));
const PieceElementFactory_1 = __importDefault(__webpack_require__(/*! ../chessboard/PieceElementFactory */ "./src/components/v2/chessboard/PieceElementFactory.ts"));
const Shared_1 = __importDefault(__webpack_require__(/*! ../chessboard/Shared */ "./src/components/v2/chessboard/Shared.ts"));
const PlayerInfo_1 = __importDefault(__webpack_require__(/*! ./PlayerInfo */ "./src/components/v2/gameNavigator/PlayerInfo.ts"));
const Transitions_1 = __webpack_require__(/*! ./Transitions */ "./src/components/v2/gameNavigator/Transitions.ts");
const Castling_1 = __webpack_require__(/*! ./Castling */ "./src/components/v2/gameNavigator/Castling.ts");
const chess_js_1 = __webpack_require__(/*! chess.js */ "./node_modules/chess.js/dist/esm/chess.js");
const Callbacks_1 = __webpack_require__(/*! ./Callbacks */ "./src/components/v2/gameNavigator/Callbacks.ts");
__webpack_require__(/*! ./gameNavigator.css */ "./src/components/v2/gameNavigator/gameNavigator.css");
class GameNavigator {
    constructor(container, fen, isRotated) {
        this.callbacks = new Callbacks_1.Callbacks();
        this.state = "start";
        this.moveIndex = 0;
        this.shortDelayBetweenMoves = 100;
        this.longDelayBetweenMoves = 1000;
        this.shortTransitionDuration = "100ms";
        this.longTransitionDuration = "1000ms";
        this.boardContainer = Shared_1.default.addChild(container, "div", "board");
        this.chessboard = new Chessboard_1.default(this.boardContainer, fen, isRotated);
        this.playerInfo = new PlayerInfo_1.default(container, fen, isRotated);
        this.transitions = new Transitions_1.Transitions(this.chessboard, isRotated);
        this.isRotated = isRotated;
        this.pieceLayer = this.chessboard.pieceLayer;
        if (fen === "") {
            fen = Shared_1.default.startFEN;
        }
        let moves = new chess_js_1.Chess(fen).history({ verbose: true });
        this.game = { blackPlayer: "Black player", whitePlayer: "White player", moves: moves };
    }
    addMove(move) {
        this.game.moves.push(move);
        this.moveIndex = this.game.moves.length - 1;
        if (this.callbacks.onMoveAdded) {
            this.callbacks.onMoveAdded(move, this.game.moves.length - 1);
        }
    }
    rotate() {
        this.isRotated = !this.isRotated;
        let stateBefore = this.state;
        this.state = "pause";
        if (stateBefore === "play" || stateBefore === "forward") {
            this.move(false);
        }
        else if (stateBefore === "rewind") {
            this.move(true);
        }
        this.chessboard.rotate();
        this.playerInfo.rotate();
        this.transitions.rotate();
        this.state = stateBefore;
        if (stateBefore === "play" || stateBefore === "forward") {
            this.move(true);
        }
        else if (stateBefore === "rewind") {
            this.move(false);
        }
    }
    loadGame(game) {
        this.game = game;
        this.chessboard.setFen(Shared_1.default.startFEN, true);
        this.playerInfo.setPlayerNames(game.blackPlayer, game.whitePlayer);
        this.playerInfo.setScoreAndCaputereByFen(Shared_1.default.startFEN);
        this.moveIndex = -1;
        this.state = "start";
        if (this.callbacks.onGameLoaded) {
            this.callbacks.onGameLoaded(this.game.moves);
        }
    }
    rewind() {
        this.state = "rewind";
        this.move(false);
    }
    previous() {
        if (this.state === "play" || this.state === "forward") {
            this.state = "pause";
        }
        this.move(false);
    }
    play() {
        this.state = "play";
        this.move(true);
    }
    pause() {
        this.state = "pause";
    }
    next() {
        if (this.state === "rewind") {
            this.state = "pause";
        }
        this.move(true);
    }
    forward() {
        this.state = "forward";
        this.move(true);
    }
    goToMove(index) {
        clearTimeout(this.timeoutId);
        if (this.transitions.current) {
            this.transitions.cancel();
        }
        this.moveIndex = index;
        if (index === -1) {
            this.state = "start";
            let move = this.game.moves[0];
            this.chessboard.setFen(move.before, true);
            this.playerInfo.setScoreAndCaputereByFen(move.before);
            this.chessboard.clearSourceAndTargetHighlights();
        }
        else {
            let move = this.game.moves[index];
            this.chessboard.setFen(move.after, true);
            this.playerInfo.setScoreAndCaputereByFen(move.after);
            this.chessboard.highlightSourceAndTarget(move.from, move.to);
            let castling = (0, Castling_1.getCastling)(this.chessboard, move, true);
            if (castling) {
                this.chessboard.highlightSource(castling.to);
            }
            if (index === this.game.moves.length - 1) {
                this.state = "end";
                if (this.game.result) {
                    this.chessboard.showGameResult(this.game.result);
                }
            }
            else {
                this.state = "pause";
            }
        }
        if (this.callbacks.onGoToMove) {
            this.callbacks.onGoToMove(index);
        }
    }
    async move(isForward) {
        clearTimeout(this.timeoutId);
        if (this.transitions.current) {
            let transition = this.transitions.current;
            let piece = transition.piece;
            let move = transition.move;
            let castling = transition.castling;
            this.transitions.cancel();
            if (isForward === transition.isForward) { // If direction has not changed
                this.finishMove(isForward, piece, move, castling);
            }
            else if (isForward) { //Moving back was cancelled so recapture and repromote if necessary
                if (move.captured) { //recapture
                    this.removePieceBySquareKey(move.to);
                    this.playerInfo.addCapture(move);
                    this.pieceLayer.setPosition(piece);
                }
                if (move.promotion) {
                    let promotionFenChar = move.color === "b" ? move.promotion : move.promotion.toUpperCase();
                    this.promoteOrUnpromote(piece, promotionFenChar);
                }
                if (this.state === "play" || this.state === "forward") {
                    this.move(true);
                }
            }
            else { //Moving forward was cancelled so undo moveIndex++
                this.moveIndex--;
                if (this.state === "rewind") {
                    this.move(false);
                }
            }
        }
        else {
            if (isForward && this.moveIndex === this.game.moves.length - 1) {
                this.state = "end";
                return;
            }
            else if (!isForward && this.moveIndex === -1) {
                this.chessboard.clearSourceAndTargetHighlights();
                this.state = "start";
                return;
            }
            if (isForward) {
                this.moveIndex++;
            }
            if (this.callbacks.onMoveStart) {
                this.callbacks.onMoveStart(this.moveIndex);
            }
            let move = this.game.moves[this.moveIndex];
            let piece = this.pieceLayer.getPiece(isForward ? move.from : move.to);
            this.putOnTop(piece);
            let castling = (0, Castling_1.getCastling)(this.chessboard, move, isForward);
            if (castling) {
                this.putOnTop(castling.rook);
            }
            if (isForward) {
                this.chessboard.highlightSource(move.from);
                if (castling) {
                    this.chessboard.highlightTarget(castling.from);
                }
            }
            else {
                this.chessboard.highlightTarget(move.to);
                if (castling) {
                    this.chessboard.highlightSource(castling.to);
                }
                else {
                    if (move.captured) {
                        this.removeFromPositionRecord(move.to); //Remove piece from position record before animation so captured piece can be restored
                        let capturedFenChar = move.color === "b" ? move.captured.toUpperCase() : move.captured;
                        this.pieceLayer.addPiece(capturedFenChar, move.to);
                        this.playerInfo.undoCapture(move);
                    }
                    if (move.promotion) {
                        let fenChar = move.color === "b" ? move.piece : move.piece.toUpperCase();
                        this.pieceLayer.group.removeChild(piece.element);
                        piece.element = PieceElementFactory_1.default.get(fenChar);
                        this.pieceLayer.group.appendChild(piece.element);
                        Shared_1.default.setPosition(piece.element, move.to, this.isRotated);
                    }
                }
            }
            let transitionInfo = { isForward, piece, move, castling };
            let duration = this.state === "play" ? this.longTransitionDuration : this.shortTransitionDuration;
            await this.transitions.move(transitionInfo, duration, () => {
                //OnTransitionEnd
                this.finishMove(isForward, piece, move, castling);
            });
        }
    }
    finishMove(isForward, piece, move, castling) {
        let source = isForward ? move.from : move.to;
        let target = isForward ? move.to : move.from;
        piece.squareKey = target;
        if (castling) {
            castling.rook.squareKey = isForward ? castling.to : castling.from;
            this.removeFromPositionRecord(source);
            this.removeFromPositionRecord(isForward ? castling.from : castling.to);
            this.pieceLayer.setPosition(piece);
            this.pieceLayer.setPosition(castling.rook);
            this.chessboard.highlightSource(isForward ? castling.to : castling.from);
            this.chessboard.highlightTarget(isForward ? move.to : move.from);
        }
        else {
            if (isForward) {
                if (move.captured) {
                    this.removePieceBySquareKey(move.to);
                    this.playerInfo.addCapture(move);
                }
                if (move.promotion) {
                    let promotionFenChar = move.color === "b" ? move.promotion : move.promotion.toUpperCase();
                    this.promoteOrUnpromote(piece, promotionFenChar);
                    this.playerInfo.setScoreAndCaputereByFen(move.after);
                }
                this.removeFromPositionRecord(move.from);
                this.pieceLayer.setPosition(piece);
                this.chessboard.highlightTarget(move.to);
            }
            else { //Finish move backward
                if (!move.captured) {
                    this.removeFromPositionRecord(move.to);
                }
                this.pieceLayer.setPosition(piece);
                this.chessboard.highlightSource(move.from);
            }
        }
        if (!isForward) {
            this.moveIndex--;
        }
        if (this.callbacks.onMoveEnd) {
            this.callbacks.onMoveEnd(this.moveIndex, move, isForward);
        }
        if (this.moveIndex === this.game.moves.length - 1) {
            if (this.game.result) {
                this.chessboard.showGameResult(this.game.result);
            }
        }
        if (this.state === "play" || this.state === "forward" || this.state === "rewind") {
            this.timeoutId = setTimeout(() => {
                if (this.state === "play" || this.state === "forward" || this.state === "rewind") {
                    this.move(isForward);
                }
            }, this.state === "play" ? this.longDelayBetweenMoves : this.shortDelayBetweenMoves);
        }
    }
    putOnTop(piece) {
        this.pieceLayer.group.appendChild(piece.element);
    }
    removeFromPositionRecord(squareKey) {
        this.pieceLayer.positions[squareKey] = undefined;
    }
    removePieceBySquareKey(squareKey) {
        let piece = this.pieceLayer.positions[squareKey];
        this.pieceLayer.group.removeChild(piece.element);
        this.pieceLayer.positions[squareKey] = undefined;
        return piece;
    }
    promoteOrUnpromote(piece, newFenChar) {
        this.pieceLayer.group.removeChild(piece.element);
        piece.element = PieceElementFactory_1.default.get(newFenChar);
        this.pieceLayer.group.appendChild(piece.element);
        piece.fenChar = newFenChar;
    }
}
exports["default"] = GameNavigator;


/***/ }),

/***/ "./src/components/v2/gameNavigator/History.ts":
/*!****************************************************!*\
  !*** ./src/components/v2/gameNavigator/History.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const PiecesUTF_1 = __importDefault(__webpack_require__(/*! ./PiecesUTF */ "./src/components/v2/gameNavigator/PiecesUTF.ts"));
__webpack_require__(/*! ./history.css */ "./src/components/v2/gameNavigator/history.css");
class History {
    constructor(container, gameNavigator) {
        this.moveItems = [];
        this.container = container;
        this.container.classList.add("game-history");
        this.gameNavigator = gameNavigator;
        this.gameNavigator.callbacks.onGameLoaded = (moves) => this.onGameLoaded(moves);
        this.gameNavigator.callbacks.onMoveAdded = (move, index) => this.onMoveAdded(move, index);
        this.gameNavigator.callbacks.onGoToMove = (index) => this.onGoToMove(index);
        this.gameNavigator.callbacks.onMoveStart = (index) => this.onMoveStart(index);
        this.gameNavigator.callbacks.onMoveEnd =
            (index, move, isForward) => this.onMoveEnd(index, move, isForward);
    }
    onGameLoaded(moves) {
        this.container.innerHTML = "";
        moves.forEach((move, index) => {
            this.addToHistory(move, index);
        });
    }
    addToHistory(move, index) {
        let isNewTurn = index % 2 === 0;
        let moveNumber = index + 1;
        let turnNumber = Math.ceil(moveNumber / 2);
        let turnItem;
        if (isNewTurn) {
            turnItem = this.addChild(this.container, "div", "turn");
            this.addChild(turnItem, "span", "number", (turnNumber++) + ".");
        }
        else {
            turnItem = this.moveItems[this.moveItems.length - 1].parentElement;
        }
        let moveText = this.getMoveText(move);
        let moveItem = this.addChild(turnItem, "span", "move", moveText);
        moveItem.onclick = () => this.gameNavigator.goToMove(index);
        this.moveItems.push(moveItem);
    }
    onMoveAdded(move, index) {
        this.addToHistory(move, index);
    }
    onGoToMove(index) {
        for (const moveItem of this.moveItems) {
            moveItem.classList.remove("start", "end");
        }
        if (index > -1) {
            this.moveItems[index].classList.add("end");
        }
    }
    onMoveStart(index) {
        for (const moveItem of this.moveItems) {
            moveItem.classList.remove("start", "end");
        }
        this.moveItems[index].classList.add("start");
    }
    onMoveEnd(index, move, isForward) {
        for (const moveItem of this.moveItems) {
            moveItem.classList.remove("start", "end");
        }
        if (index > -1) {
            this.moveItems[index].classList.add("end");
        }
    }
    getMoveText(move) {
        let firstChar = move.san.substring(0, 1);
        let text = "";
        if (firstChar === firstChar.toUpperCase() && firstChar.toUpperCase() !== "O") {
            if (move.color === "b") {
                firstChar = firstChar.toLowerCase();
            }
            firstChar = PiecesUTF_1.default[firstChar];
            text += firstChar + move.san.substring(1);
        }
        else {
            text += move.san;
        }
        return text;
    }
    addChild(container, tag, className, text) {
        let child = document.createElement(tag);
        if (text) {
            child.innerHTML = text;
        }
        child.className = className;
        return container.appendChild(child);
    }
}
exports["default"] = History;


/***/ }),

/***/ "./src/components/v2/gameNavigator/PiecesUTF.ts":
/*!******************************************************!*\
  !*** ./src/components/v2/gameNavigator/PiecesUTF.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const PiecesUTF = {
    ["p"]: "&#9823",
    ["r"]: "&#9820",
    ["n"]: "&#9822",
    ["b"]: "&#9821",
    ["q"]: "&#9819",
    ["k"]: "&#9818",
    ["P"]: "&#9817",
    ["R"]: "&#9814",
    ["N"]: "&#9816",
    ["B"]: "&#9815",
    ["Q"]: "&#9813",
    ["K"]: "&#9812"
};
exports["default"] = PiecesUTF;


/***/ }),

/***/ "./src/components/v2/gameNavigator/PlayerInfo.ts":
/*!*******************************************************!*\
  !*** ./src/components/v2/gameNavigator/PlayerInfo.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const CapturePieceFactory_1 = __webpack_require__(/*! ./CapturePieceFactory */ "./src/components/v2/gameNavigator/CapturePieceFactory.ts");
const Shared_1 = __importDefault(__webpack_require__(/*! ../chessboard/Shared */ "./src/components/v2/chessboard/Shared.ts"));
const pieceValues = { ["p"]: 1, ["n"]: 3, ["b"]: 3, ["r"]: 5, ["q"]: 9, ["k"]: 0, ["P"]: -1, ["N"]: -3, ["B"]: -3, ["R"]: -5, ["Q"]: -9, ["K"]: 0 };
class PlayerInfo {
    constructor(container, fen, isRotated) {
        this.whiteCaptures = {};
        this.blackCaptures = {};
        this.container = container;
        this.isRotated = isRotated;
        this.containerAbove = Shared_1.default.addChild(this.container, "div", "above");
        this.container.insertBefore(this.containerAbove, this.container.firstChild);
        this.containerBelow = Shared_1.default.addChild(this.container, "div", "below");
        this.blackPlayer = Shared_1.default.addChild(isRotated ? this.containerBelow : this.containerAbove, "div", "player black");
        this.whitePlayer = Shared_1.default.addChild(isRotated ? this.containerAbove : this.containerBelow, "div", "player white");
        let blackCapture = Shared_1.default.addChild(this.blackPlayer, "div", "captures");
        let whiteCapture = Shared_1.default.addChild(this.whitePlayer, "div", "captures");
        let record = [this.whiteCaptures, this.blackCaptures];
        [whiteCapture, blackCapture].forEach((element, index) => {
            ["p", "n", "b", "r", "q"].forEach(type => {
                let child = Shared_1.default.addChild(element, "span", type);
                record[index][type] = child;
            });
        });
        this.whiteScore = Shared_1.default.addChild(this.whitePlayer, "span", "score");
        this.blackScore = Shared_1.default.addChild(this.blackPlayer, "span", "score");
        this.whitePlayerName = Shared_1.default.addChild(this.whitePlayer, "div", "name", "White");
        this.blackPlayerName = Shared_1.default.addChild(this.blackPlayer, "div", "name", "Black");
        if (fen) {
            this.setScoreAndCaputereByFen(fen);
        }
    }
    rotate() {
        this.isRotated = !this.isRotated;
        this.containerAbove.appendChild(this.isRotated ? this.whitePlayer : this.blackPlayer);
        this.containerBelow.appendChild(this.isRotated ? this.blackPlayer : this.whitePlayer);
    }
    addCapture(move) {
        let fenChar = this.getComputedCapture(move);
        this.addComputedCapture(fenChar);
        this.setScoreByFen(move.after);
    }
    undoCapture(move) {
        let fenChar = this.getComputedCapture(move);
        let fenCharLowerCase = fenChar.toLowerCase();
        let isBlack = fenChar === fenCharLowerCase;
        let span = isBlack ? this.whiteCaptures[fenCharLowerCase] : this.blackCaptures[fenCharLowerCase];
        span.removeChild(span.firstChild);
        this.setScoreByFen(move.before);
    }
    setPlayerNames(black, white) {
        this.blackPlayerName.innerHTML = black;
        this.whitePlayerName.innerHTML = white;
    }
    setScoreAndCaputereByFen(fen) {
        Object.values(this.whiteCaptures).concat(Object.values(this.blackCaptures)).forEach(element => {
            element.innerHTML = "";
        });
        if (fen === "start" || fen === "") {
            this.setScore(0);
        }
        else {
            let captures = this.getCapturesByFen(fen);
            Object.entries(captures).forEach(([fenChar, count]) => {
                if (count > 0) {
                    for (let i = 0; i < count; i++) {
                        this.addComputedCapture(fenChar);
                    }
                }
            });
            this.setScoreByFen(fen);
        }
    }
    addComputedCapture(fenChar) {
        let fenCharLowerCase = fenChar.toLowerCase();
        let piece = CapturePieceFactory_1.CapturePieceFactory.get(fenChar);
        let isBlack = fenChar === fenCharLowerCase;
        let span = isBlack ? this.whiteCaptures[fenCharLowerCase] : this.blackCaptures[fenCharLowerCase];
        span.appendChild(piece);
    }
    setScoreByFen(fen) {
        fen = fen.split(" ")[0].split("/").join("");
        let score = 0;
        for (const char of fen) {
            if (isNaN(parseInt(char))) {
                score -= pieceValues[char];
            }
        }
        this.setScore(score);
    }
    setScore(score) {
        let whitePrefix = score === 0 ? "" : (score > 0 ? "+" : "-");
        let blackPrefix = score === 0 ? "" : (score > 0 ? "-" : "+");
        this.whiteScore.innerHTML = score === 0 ? "" : (whitePrefix + Math.abs(score));
        this.blackScore.innerHTML = score === 0 ? "" : (blackPrefix + Math.abs(score));
    }
    // A promoted pawn will only show as a pawn in the capture panel
    getComputedCapture(move) {
        let capture = move.captured;
        let fenChar = move.color === "b" ? capture.toUpperCase() : capture;
        if (capture !== "p") {
            let count = 0;
            let fen = move.after.split(" ")[0].split("/").join("");
            for (const char of fen) {
                if (isNaN(parseInt(char))) {
                    if (char === fenChar) {
                        count++;
                    }
                }
            }
            if (count >= 2 || (capture === "q" && count >= 1)) {
                fenChar = move.color === "b" ? "P" : "p";
            }
        }
        return fenChar;
    }
    getCapturesByFen(fen) {
        // example: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"
        fen = fen.split(" ")[0].split("/").join("");
        // make a record of all types of pieces and set initial count to zero
        let fenChars = {};
        ["p", "n", "b", "r", "q", "P", "N", "B", "R", "Q"].forEach(char => {
            fenChars[char] = 0;
        });
        // calculate how many pieces we have of each kind
        for (const char of fen) {
            if (isNaN(parseInt(char))) {
                fenChars[char] += 1;
            }
        }
        ;
        // we need to return a similar record showing how many pieces have been taken
        let captures = {};
        // we started having 2 rooks, knights and bishops. We could have more due to promotion
        for (const char of ["r", "n", "b", "R", "N", "B"]) {
            captures[char] = fenChars[char] >= 2 ? 0 : 2 - fenChars[char];
        }
        for (const char of ["q", "Q"]) {
            captures[char] = fenChars[char] > 0 ? 0 : 1;
        }
        // Counting captures is difficult due to possible promotion
        let black = { pawn: "p", queen: "q", pieces: ["r", "n", "b"] };
        let white = { pawn: "P", queen: "Q", pieces: ["R", "N", "B"] };
        for (const player of [black, white]) {
            captures[player.pawn] = 8 - fenChars[player.pawn];
            if (fenChars[player.queen] > 1) {
                captures[player.pawn] -= fenChars[player.queen] - 1;
            }
            for (const piece of player.pieces) {
                if (fenChars[piece] > 2) {
                    captures[player.pawn] -= fenChars[piece] - 2;
                }
            }
        }
        return captures;
    }
}
exports["default"] = PlayerInfo;


/***/ }),

/***/ "./src/components/v2/gameNavigator/Transitions.ts":
/*!********************************************************!*\
  !*** ./src/components/v2/gameNavigator/Transitions.ts ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Transitions = void 0;
const Shared_1 = __importDefault(__webpack_require__(/*! ../chessboard/Shared */ "./src/components/v2/chessboard/Shared.ts"));
class Transitions {
    constructor(chessboard, isRotated) {
        this.chessboard = chessboard;
        this.isRotated = isRotated;
    }
    rotate() {
        this.isRotated = !this.isRotated;
    }
    cancel() {
        if (this.current) {
            this.removeTransition(this.current.piece);
            let castling = this.current.castling;
            if (castling) {
                this.removeTransition(castling.rook);
            }
            this.current = undefined;
        }
    }
    async move(transition, duration, onTransitionEnd) {
        // this.chessboard.putOnTop(transition.piece);
        // if (transition.castling){
        //     this.chessboard.putOnTop(transition.castling.rook);
        // }
        this.makeChromeHappy();
        this.current = transition;
        transition.piece.element.ontransitionend = () => {
            this.removeTransition(transition.piece);
            if (transition.castling) {
                this.removeTransition(transition.castling.rook);
            }
            this.current = undefined;
            onTransitionEnd();
        };
        this.startTransition(transition.isForward, duration, transition.piece.element, transition.move.from, transition.move.to);
        if (transition.castling) {
            this.startTransition(transition.isForward, duration, transition.castling.rook.element, transition.castling.from, transition.castling.to);
        }
    }
    makeChromeHappy() {
        void (document.documentElement.offsetHeight); //Trigger reflow
    }
    startTransition(isForward, duration, element, from, to) {
        element.style.transform = "";
        element.style.transitionProperty = "transform";
        element.style.transitionDuration = duration;
        let dest = isForward ? to : from;
        let cords = Shared_1.default.getCordinatesBySquareKey(dest, this.isRotated);
        element.style.transform = `translate(${cords.x * 12.5}%, ${cords.y * 12.5}%)`;
    }
    removeTransition(piece) {
        piece.element.style.transitionProperty = "";
        piece.element.style.transitionDuration = "";
        Shared_1.default.setPosition(piece.element, piece.squareKey, this.isRotated);
        // element.style.transform = "";
        piece.element.ontransitioncancel = null;
        piece.element.ontransitionend = null;
    }
}
exports.Transitions = Transitions;


/***/ }),

/***/ "./src/components/v2/gameNavigator/img/Icons.ts":
/*!******************************************************!*\
  !*** ./src/components/v2/gameNavigator/img/Icons.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const start_svg_1 = __importDefault(__webpack_require__(/*! ./icons/start.svg */ "./src/components/v2/gameNavigator/img/icons/start.svg"));
const rewind_svg_1 = __importDefault(__webpack_require__(/*! ./icons/rewind.svg */ "./src/components/v2/gameNavigator/img/icons/rewind.svg"));
const previous_svg_1 = __importDefault(__webpack_require__(/*! ./icons/previous.svg */ "./src/components/v2/gameNavigator/img/icons/previous.svg"));
const play_svg_1 = __importDefault(__webpack_require__(/*! ./icons/play.svg */ "./src/components/v2/gameNavigator/img/icons/play.svg"));
const pause_svg_1 = __importDefault(__webpack_require__(/*! ./icons/pause.svg */ "./src/components/v2/gameNavigator/img/icons/pause.svg"));
const next_svg_1 = __importDefault(__webpack_require__(/*! ./icons/next.svg */ "./src/components/v2/gameNavigator/img/icons/next.svg"));
const forward_svg_1 = __importDefault(__webpack_require__(/*! ./icons/forward.svg */ "./src/components/v2/gameNavigator/img/icons/forward.svg"));
const end_svg_1 = __importDefault(__webpack_require__(/*! ./icons/end.svg */ "./src/components/v2/gameNavigator/img/icons/end.svg"));
const rotate_svg_1 = __importDefault(__webpack_require__(/*! ./icons/rotate.svg */ "./src/components/v2/gameNavigator/img/icons/rotate.svg"));
const screenshot_svg_1 = __importDefault(__webpack_require__(/*! ./icons/screenshot.svg */ "./src/components/v2/gameNavigator/img/icons/screenshot.svg"));
class Icons {
}
Icons.start = start_svg_1.default;
Icons.rewind = rewind_svg_1.default;
Icons.previous = previous_svg_1.default;
Icons.play = play_svg_1.default;
Icons.pause = pause_svg_1.default;
Icons.next = next_svg_1.default;
Icons.forward = forward_svg_1.default;
Icons.end = end_svg_1.default;
Icons.rotate = rotate_svg_1.default;
Icons.screenshot = screenshot_svg_1.default;
exports["default"] = Icons;


/***/ }),

/***/ "./src/pages/openings/Openings.ts":
/*!****************************************!*\
  !*** ./src/pages/openings/Openings.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const GameNavigator_1 = __importDefault(__webpack_require__(/*! ../../components/v2/gameNavigator/GameNavigator */ "./src/components/v2/gameNavigator/GameNavigator.ts"));
const Buttons_1 = __importDefault(__webpack_require__(/*! ../../components/v2/gameNavigator/Buttons */ "./src/components/v2/gameNavigator/Buttons.ts"));
const History_1 = __importDefault(__webpack_require__(/*! ../../components/v2/gameNavigator/History */ "./src/components/v2/gameNavigator/History.ts"));
const chess_js_1 = __webpack_require__(/*! chess.js */ "./node_modules/chess.js/dist/esm/chess.js");
const json = __importStar(__webpack_require__(/*! ../../components/chess/assets/data/games.json */ "./src/components/chess/assets/data/games.json"));
__webpack_require__(/*! ../master.css */ "./src/pages/master.css");
__webpack_require__(/*! ./openings.css */ "./src/pages/openings/openings.css");
let gameNavigatorContainer = document.getElementById("gameNavigator");
let gameNavigator = new GameNavigator_1.default(gameNavigatorContainer, "", false);
new Buttons_1.default(gameNavigatorContainer, gameNavigator);
let historyContainer = document.getElementById("history");
new History_1.default(historyContainer, gameNavigator);
let chess = new chess_js_1.Chess();
chess.loadPgn(json.games[0].moveText);
// chess.loadPgn("1. e4 f5 2. exf5 g6 3. fxg6 d5 4. gxh7 Nc6 5. hxg8=Q Rg8 6. Bd3 Be6 7. Nf3 Qd6 8. O-O O-O-O");
let moves = chess.history({ verbose: true });
gameNavigator.loadGame({ whitePlayer: "White player", blackPlayer: "Black player", moves });


/***/ }),

/***/ "./src/components/chess/assets/data/games.json":
/*!*****************************************************!*\
  !*** ./src/components/chess/assets/data/games.json ***!
  \*****************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"games":[{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"30","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2560","BlackElo":"2785","ECO":"E83"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 O-O 6.Be3 Nc6 7.Nge2 a6 8.h4 h5 9.Nc1 Nd7 10.Nb3 a5 11.a4 Nb4 12.Be2 b6 13.g4 hxg4 14.fxg4 c5 15.h5 cxd4 16.Nxd4 Nc5 17.Nd5 Bb7 18.Nf5 gxf5 19.gxf5 Bxd5 20.exd5 Bxb2 21.Kf1 Qd7 22.Qb1 Bxa1 23.Rg1+ Kh8 24.Qxa1+ f6 25.Qb1 Rg8 26.Rg6 Rxg6 27.hxg6 Kg7  0-1 "},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"29","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.c4 c6 12.cxb5 axb5 13.Nc3 Bb7 14.Bg5 b4 15.Nb1 h6 16.Bh4 c5 17.dxe5 Nxe4 18.Bxe7 Qxe7 19.exd6 Qf6 20.Nbd2 Nxd6 21.Nc4 Nxc4 22.Bxc4 Nb6 23.Ne5 Rae8 24.Bxf7+ Rxf7 25.Nxf7 Rxe1+ 26.Qxe1 Kxf7 27.Qe3 Qg5 28.Qxg5 hxg5 29.b3 Ke6 30.a3 Kd6 31.axb4 cxb4 32.Ra5 Nd5 33.f3 Bc8 34.Kf2 Bf5 35.Ra7 g6 36.Ra6+ Kc5 37.Ke1 Nf4 38.g3 Nxh3 39.Kd2 Kb5 40.Rd6 Kc5 41.Ra6 Nf2 42.g4 Bd3 43.Re6 Kd5 44.Rb6 Kc5 45.Re6  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"28","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"E83"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 O-O 6.Be3 Nc6 7.Nge2 a6 8.h4 h5 9.Nc1 e5 10.d5 Nd4 11.Nb3 Nxb3 12.Qxb3 Kh7 13.Be2 Bh6 14.Bxh6 Kxh6 15.O-O-O Kg7 16.Kb1 Qe7 17.Rdg1 Rh8 18.g4 hxg4 19.fxg4 Nd7 20.g5 Nc5 21.Qd1 a5 22.Rf1 Bd7 23.Qe1 Rh7 24.Qg3 Rf8 25.Rf6 Rfh8 26.b3 Be8 27.Bg4 Bd7 28.Bd1 Be8 29.Bg4 Bd7 30.Bd1 Be8 31.Rf2 c6 32.a4 Qd8 33.Ka2 Qe7 34.Bg4 Bd7 35.Bd1 Be8  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"27","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"C69"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Bxc6 dxc6 5.O-O f6 6.d4 exd4 7.Nxd4 c5 8.Ne2 Qxd1 9.Rxd1 Bd7 10.Nbc3 Ne7 11.Bf4 O-O-O 12.Rd2 Ng6 13.Bg3 Ne5 14.Bxe5 fxe5 15.Rad1 c4 16.Kf1 Bc5 17.Ng1 Bg4 18.Rxd8+ Rxd8 19.Rxd8+ Kxd8 20.Nce2 Ke7 21.Ke1 b5 22.c3 Kf6 23.h3 Bh5 24.Ng3 Bf7 25.Nf3 g6 26.Nf1 g5 27.Ke2 Bg6 28.N3d2 h5 29.Ne3 c6 30.Kf3 Bf7 31.Ndf1 a5 32.Ke2 Be6 33.Ng3 Kg6 34.a3 Bf7 35.Ngf5 Be6 36.Kf3 Bd7 37.Kg3 Be6 38.h4 Bd7 39.hxg5 Kxg5 40.Nh4 Bg4 41.Nxg4 hxg4 42.Nf5 a4 43.f3 gxf3 44.Kxf3 Bf8 45.Ne3 Kh5 46.Nf5 Bc5  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"26","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2560","BlackElo":"2785","ECO":"E90"},"moveText":"1.d4 Nf6 2.c4 c5 3.d5 d6 4.Nc3 g6 5.e4 Bg7 6.Bd3 O-O 7.Nf3 Bg4 8.h3 Bxf3 9.Qxf3 Nbd7 10.Qd1 e6 11.O-O exd5 12.exd5 Ne8 13.Bd2 Ne5 14.Be2 f5 15.f4 Nf7 16.g4 Nh6 17.Kg2 Nc7 18.g5 Nf7 19.Rb1 Re8 20.Bd3 Rb8 21.h4 a6 22.Qc2 b5 23.b3 Rb7 24.Rbe1 Rxe1 25.Rxe1 Qb8 26.Bc1 Qd8 27.Ne2 bxc4 28.bxc4 Ne8 29.h5 Re7 30.h6 Bh8 31.Bd2 Rb7 32.Rb1 Qb8 33.Ng3 Rxb1 34.Qxb1 Qxb1 35.Bxb1 Bb2 36.Kf3 Kf8 37.Ke2 Nh8 38.Kd1 Ke7 39.Kc2 Bd4 40.Kb3 Bf2 41.Nh1 Bh4 42.Ka4 Nc7 43.Ka5 Kd7 44.Kb6 Kc8 45.Bc2 Nf7 46.Ba4 Kb8 47.Bd7 Nd8 48.Bc3 Na8+ 49.Kxa6 Nc7+ 50.Kb6 Na8+ 51.Ka5 Kb7 52.Kb5 Nc7+ 53.Ka4 Na8 54.Kb3 Kc7 55.Be8 Kc8 56.Bf6 Nc7 57.Bxg6 hxg6 58.Bxd8  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"25","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"B80"},"moveText":"1.e4 c5 2.Nc3 Nc6 3.Nge2 d6 4.d4 cxd4 5.Nxd4 e6 6.Be3 Nf6 7.Qd2 Be7 8.f3 a6 9.O-O-O O-O 10.g4 Nxd4 11.Bxd4 b5 12.g5 Nd7 13.h4 b4 14.Na4 Bb7 15.Nb6 Rb8 16.Nxd7 Qxd7 17.Kb1 Qc7 18.Bd3 Bc8 19.h5 e5 20.Be3 Be6 21.Rdg1 a5 22.g6 Bf6 23.gxh7+ Kh8 24.Bg5 Qe7 25.Rg3 Bxg5 26.Rxg5 Qf6 27.Rhg1 Qxf3 28.Rxg7 Qf6 29.h6 a4 30.b3 axb3 31.axb3 Rfd8 32.Qg2 Rf8 33.Rg8+ Kxh7 34.Rg7+ Kh8 35.h7  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"24","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"B23"},"moveText":"1.e4 c5 2.Ne2 Nf6 3.Nbc3 d6 4.g3 g6 5.Bg2 Nc6 6.O-O Bg7 7.d4 cxd4 8.Nxd4 Bg4 9.Nde2 Qc8 10.f3 Bh3 11.Bxh3 Qxh3 12.Bg5 O-O 13.Qd2 h6 14.Be3 Kh7 15.Rac1 Qd7 16.Nd5 Nxd5 17.exd5 Ne5 18.b3 b5 19.Bd4 Rac8 20.f4 Ng4 21.Bxg7 Kxg7 22.Nd4 Nf6 23.c4 bxc4 24.bxc4 e6 25.dxe6 fxe6 26.Rfe1 Rfe8 27.Nb3 a6 28.Qd4 Rc6 29.Red1 e5 30.fxe5 Rxe5 31.Qxe5 dxe5 32.Rxd7+ Nxd7 33.Rd1 Nf6 34.c5 Kf7 35.Rc1 Nd7 36.Kf2 Ke6 37.Ke3 Kd5 38.Rd1+ Ke6 39.Rc1 Kd5  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"23","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"B23"},"moveText":"1.e4 c5 2.Nc3 e6 3.Nge2 Nc6 4.g3 d5 5.exd5 exd5 6.d3 Nf6 7.Bg2 Be7 8.Bg5 d4 9.Bxf6 Bxf6 10.Ne4 Be7 11.Nf4 O-O 12.O-O Re8 13.Qh5 g6 14.Qd5 Bf5 15.Rfe1 Kg7 16.a3 Rc8 17.h3 Qxd5 18.Nxd5 Bf8 19.g4 Be6 20.Nef6 Red8 21.g5 Bd6 22.Re4 Ne7 23.Rh4 Rh8 24.Re1 Nf5 25.Rhe4 h6 26.h4 hxg5 27.hxg5 Rh4 28.Rxh4 Nxh4 29.Re4 Nf5 30.Nf4 Ba2 31.N4d5 Bxd5 32.Nxd5 Kf8 33.Kf1 Re8 34.Rxe8+ Kxe8 35.Nf6+ Kd8 36.Bxb7 Bf4 37.Ne4 Bc1 38.a4 Bxb2 39.Nxc5 Bc1 40.Be4 Bxg5 41.Bxf5 gxf5 42.Nb3 Bf6 43.Kg2 Kd7 44.Kg3 Ke6 45.Na5 Be5+ 46.Kh4 Bf6+ 47.Kh5 Kd5 48.Kh6 Kc5 49.Kh7 Kb4 50.Nc6+ Kc3 51.Kg8 Kxc2 52.Kxf7 Bh8 53.a5 Kxd3 54.a6 Ke2 55.Nxa7 d3 56.Nc6 d2 57.a7 d1=Q 58.a8=Q Qd5+ 59.Kg6 Qe6+ 60.Kh7 Bc3 61.Nd8 Qe7+ 62.Kg6 Qf6+ 63.Kh5 Qh8+ 64.Kg6 Qg7+ 65.Kxf5 Qf6+ 66.Kg4 Qg6+ 67.Kf4 Bd2+ 68.Ke5 Bc3+ 69.Kf4 Qd6+ 70.Kf5 Qd7+ 71.Kg5 Qe7+ 72.Kf5 Qf6+ 73.Kg4 Qg7+ 74.Kf5 Qf6+ 75.Kg4 Qg6+ 76.Kf4 Bd2+ 77.Ke5 Qg5+ 78.Ke6 Qg4+ 79.Kf7 Qd7+ 80.Kg6  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"22","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"B25"},"moveText":"1.e4 c5 2.Ne2 Nf6 3.Nbc3 d6 4.g3 Nc6 5.Bg2 g6 6.O-O Bg7 7.d3 O-O 8.h3 Rb8 9.f4 Bd7 10.Be3 b5 11.a3 Ne8 12.d4 cxd4 13.Nxd4 b4 14.Nxc6 Bxc6 15.axb4 Rxb4 16.Rxa7 Rxb2 17.e5 Bxg2 18.Kxg2 Nc7 19.exd6 exd6 20.Na4 Ra2 21.Bb6 Qe8 22.Rxc7 Qxa4 23.Qxd6 Rxc2+ 24.Rxc2 Qxc2+ 25.Bf2 Qe4+ 26.Kg1  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"21","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"B44"},"moveText":"1.e4 c5 2.Nf3 Nc6 3.d4 cxd4 4.Nxd4 e6 5.Nb5 d6 6.c4 Nf6 7.N5c3 Be7 8.g3 O-O 9.Bg2 a6 10.O-O Rb8 11.Na3 Qc7 12.Be3 Bd7 13.Rc1 Ne5 14.h3 Rfc8 15.f4 Ng6 16.Qd2 Be8 17.Rfd1 b6 18.Qf2 h6 19.Kh2 Qa7 20.Qe2 Qc7 21.Bf3 Bc6 22.Nab1 Qb7 23.Nd2 b5 24.cxb5 axb5 25.b4 Qa8 26.Rc2 d5 27.e5 Ne4 28.Bxe4 dxe4 29.Bc5 Bxc5 30.bxc5 Rd8 31.Re1 Ne7 32.Ncxe4 Nf5 33.Nb3 Nd4 34.Nxd4 Rxd4 35.Nd6 Qa4 36.f5 Ra8 37.Rb2 Qa3 38.fxe6 fxe6 39.Nxb5 Bxb5 40.Qxb5 Rd3 41.Rg2 Qc3 42.Ree2 Ra3 43.Rc2 Qxe5 44.Rce2 Re3 45.Rxe3 Rxe3 46.a4 Rc3 47.c6 Qd6 48.c7 Rxc7 49.Qb8+ Kh7 50.a5 h5 51.h4 Qc5 52.a6 Rf7 53.Qb1+ Kh6 54.Qa2 Re7 55.Qd2+ Kg6 56.Re2 Kh7 57.Qc2+ Qxc2 58.Rxc2 Kg6 59.Ra2 Ra7 60.Ra5 e5 61.Kg2 Kf5 62.Kf2 Ke6 63.Ke3 Kf5 64.Kf3 g6 65.Ra3 g5 66.hxg5 Kxg5 67.Ke4  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"20","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2560","BlackElo":"2785","ECO":"B24"},"moveText":"1.e4 c5 2.Ne2 Nf6 3.Nbc3 e6 4.g3 Nc6 5.Bg2 Be7 6.O-O d6 7.d3 a6 8.a3 Qc7 9.f4 b5 10.Kh1 O-O 11.Be3 Bb7 12.Bg1 Rab8 13.h3 Ba8 14.g4 b4 15.axb4 cxb4 16.Na4 Nd7 17.Qd2 Rfc8 18.b3 a5 19.g5 Bf8 20.Ra2 Ne7 21.Nd4 g6 22.Nb2 Bg7 23.Nc4 d5 24.Nxa5 dxe4 25.dxe4 e5 26.Ne2 exf4 27.Nxf4 Ne5 28.Nd3 Rb5 29.Nxe5 Qxe5 30.Nc4 Qxg5 31.Be3 Qh4 32.Nd6 Bc3 33.Qf2 Qxf2 34.Rxf2 Rbb8 35.Nxc8 Rxc8 36.Ra7 Kf8 37.Bh6+ Ke8 38.Bg5 f6 39.Bxf6 Bxf6 40.Rxf6 Bc6 41.Kg1 Bd7 42.Rd6 Bc6 43.Bf1  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"19","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"B23"},"moveText":"1.e4 c5 2.Nc3 Nc6 3.Nge2 e5 4.Nd5 Nge7 5.Nec3 Nxd5 6.Nxd5 Be7 7.g3 d6 8.Bg2 h5 9.h4 Be6 10.d3 Bxd5 11.exd5 Nb8 12.f4 Nd7 13.O-O g6 14.Rb1 f5 15.b4 b6 16.bxc5 bxc5 17.c4 O-O 18.Qa4 Bf6 19.Rb7 Nb6 20.Qb5 Rf7 21.Rxf7 Kxf7 22.Bd2 Rb8 23.Qc6 Nc8 24.Re1 Ne7 25.Qa4 Qc7 26.Kh2 exf4 27.Bxf4 Be5 28.Re2 Rb6 29.Kh3 Ng8 30.Rxe5 dxe5 31.Bxe5 Qe7 32.d6 Rxd6 33.Bxd6 Qxd6 34.Bd5+ Kf8 35.Qxa7 Ne7 36.Qa8+ Kg7 37.Qb7 Kf8 38.a4 f4 39.a5 fxg3 40.a6 Qf4 41.Bf3 Nf5 42.Qe4 g2 43.Qxf4 g1=Q 44.Be4 Qa1 45.a7 Qxa7 46.Bxf5 gxf5 47.Qxf5+ Kg7 48.Qg5+ Kf8 49.Qh6+ Kg8 50.Qxh5 Qc7 51.Qg6+ Kh8 52.Qf6+ Kg8 53.Qe6+ Kh8 54.Qd5 Qf7 55.Kg2 Qg6+ 56.Kh3 Qf7 57.Qe5+ Kh7 58.Kg4 Qg6+ 59.Kf4 Qh6+ 60.Kf3 Qg6 61.Qe4 Kh8 62.Ke2 Qd6 63.Qe3 Qh2+ 64.Ke1 Qh1+ 65.Kd2 Qh2+ 66.Kc3 Qxh4 67.d4 Kh7 68.d5 Qf6+ 69.Kc2 Qd6 70.Qg5 Kh8 71.Kd2 Qb6 72.Qe5+ Kg8 73.Qe8+ Kg7 74.Qb5 Qc7 75.Kc2 Kf8 76.Qa6 Qh2+ 77.Kb3 Qb8+ 78.Qb5 Qc7 79.Ka3 Qa7+ 80.Kb3 Ke7 81.Kc2 Kd8 82.Kd2 Qc7 83.Qa6 Qf4+ 84.Kc2 Qe4+  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"18","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"D27"},"moveText":"1.d4 d5 2.c4 dxc4 3.Nf3 e6 4.e3 Nf6 5.Bxc4 a6 6.O-O c5 7.dxc5 Qxd1 8.Rxd1 Bxc5 9.Nbd2 O-O 10.a3 b5 11.Be2 Bb7 12.b4 Be7 13.Bb2 Nbd7 14.Rac1 Rfc8 15.Nb3 Rxc1 16.Rxc1 Rc8 17.Rxc8+ Bxc8 18.Nfd4 Nb8 19.Bf3 Kf8 20.Na5 Bd6 21.Ndb3 e5 22.Nc5 Ke7 23.h3 Nfd7 24.Nd3 f6 25.Be4 g6 26.f4 exf4 27.exf4 Nb6 28.Nb7 Bc7 29.Nbc5 Nc4 30.Bc1 Nd7 31.Kf1 Nxc5 32.Nxc5 Bb6 33.Bd3 Bxc5 34.bxc5 Be6 35.Kf2 Kd7 36.Bxc4 Bxc4  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"17","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"B23"},"moveText":"1.e4 c5 2.Nc3 Nc6 3.Nge2 e6 4.g3 d5 5.exd5 exd5 6.Bg2 d4 7.Nd5 Nf6 8.Nef4 Nxd5 9.Nxd5 Bd6 10.O-O O-O 11.d3 Be6 12.Nf4 Bf5 13.h3 Rb8 14.Bd2 Re8 15.Re1 Rxe1+ 16.Qxe1 Qd7 17.g4 Re8 18.Qd1 Bxf4 19.Bxf4 Be6 20.Qf3 Nb4 21.Qxb7 Qxb7 22.Bxb7 Nxc2 23.Rc1 Nb4 24.Be4 Bxa2 25.Bd2 Bd5 26.Bxd5 Nxd5 27.Rxc5 Nb6 28.Kf1 f6 29.Ra5 Re7 30.Bb4 Rd7 31.Bc5 Kf7 32.Ke2 g5 33.Kf3 Kg6 34.Ke4 h5 35.Bxd4 Re7+ 36.Kf3 h4 37.Bc5 Re1 38.Rxa7 Nd5 39.Bf8 Re8 40.Bd6 Re6 41.Rd7 Nb6 42.Rd8 Nd5 43.b4 Re1 44.b5 Rb1 45.Rb8 Rb3 46.Ke4 Nc3+ 47.Kd4 Nxb5+ 48.Kc4 Rc3+ 49.Kxb5 Rxd3 50.Kc6 Rxh3 51.Kd5 Rf3 52.Ke6 Rxf2 53.Rg8+ Kh7 54.Kf7 Ra2 55.Rg7+ Kh6 56.Bf8 Ra7+ 57.Kxf6 Ra6+ 58.Kf7  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"16","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2560","BlackElo":"2785","ECO":"E70"},"moveText":"1.d4 Nf6 2.c4 c5 3.d5 d6 4.Nc3 g6 5.e4 Bg7 6.Bg5 h6 7.Bh4 g5 8.Bg3 Qa5 9.Bd3 Nxe4 10.Bxe4 Bxc3+ 11.bxc3 Qxc3+ 12.Kf1 f5 13.Rc1 Qf6 14.h4 g4 15.Bd3 f4 16.Ne2 fxg3 17.Nxg3 Rf8 18.Rc2 Nd7 19.Qxg4 Ne5 20.Qe4 Bd7 21.Kg1 O-O-O 22.Bf1 Rg8 23.f4 Nxc4 24.Nh5 Qf7 25.Qxc4 Qxh5 26.Rb2 Rg3 27.Be2 Qf7 28.Bf3 Rdg8 29.Qb3 b6 30.Qe3 Qf6 31.Re2 Bb5 32.Rd2 e5 33.dxe6 Bc6 34.Kf1 Bxf3  0-1"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"15","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"E07"},"moveText":"1.c4 e6 2.Nf3 Nf6 3.g3 d5 4.Bg2 Be7 5.O-O O-O 6.d4 Nbd7 7.Nbd2 b6 8.cxd5 exd5 9.Ne5 Bb7 10.Ndf3 Ne4 11.Bf4 Ndf6 12.Rc1 c5 13.dxc5 bxc5 14.Ng5 Nxg5 15.Bxg5 Ne4 16.Bxe7 Qxe7 17.Bxe4 dxe4 18.Nc4 e3 19.f3 Rad8 20.Qb3 Rfe8 21.Rc3 Bd5 22.Rfc1 g6 23.Qa3 Bxf3 24.exf3 e2 25.Re1 Rd1 26.Kf2 Rxe1 27.Kxe1 Qd7 28.Qb3 Qh3 29.Ne3 Qxh2 30.g4 Rb8 31.Qd5 Rxb2 32.Qd8+ Kg7 33.Nf5+ gxf5  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"14","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"D27"},"moveText":"1.d4 d5 2.c4 dxc4 3.Nf3 Nf6 4.e3 e6 5.Bxc4 c5 6.O-O a6 7.dxc5 Qxd1 8.Rxd1 Bxc5 9.b3 b5 10.Be2 Bb7 11.Bb2 Nbd7 12.Nbd2 O-O 13.Rac1 Rfc8 14.h3 Kf8 15.Kf1 Ke7 16.Ne1 Bd6 17.a4 Bc6 18.axb5 axb5 19.Rc2 Rc7 20.Rdc1 Rac8 21.Bf3 Bxf3 22.Ndxf3 e5 23.Rxc7 Rxc7 24.Rxc7 Bxc7 25.Nc2 Ne4 26.Na3 b4 27.Nc4 f6 28.Ne1 Ndc5 29.Nc2 Nxb3 30.Nxb4 Nbd2+ 31.Nxd2 Nxd2+ 32.Ke2 Nc4  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"13","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"B31"},"moveText":"1.e4 c5 2.Nf3 Nc6 3.Bb5 g6 4.Bxc6 bxc6 5.O-O Bg7 6.Re1 f6 7.c3 Nh6 8.d4 cxd4 9.cxd4 O-O 10.Nc3 d6 11.Qa4 Qb6 12.Nd2 Nf7 13.Nc4 Qa6 14.Be3 Qxa4 15.Nxa4 f5 16.exf5 Bxf5 17.Rac1 Rfc8 18.Na5 Bd7 19.b3 Rab8 20.Nc3 Kf8 21.a3 Nh6 22.b4 Nf5 23.Red1 Ke8 24.Ne4 Rb5 25.h3 h5 26.Rd2 a6 27.Kf1 Rd5 28.Rcd1 Rb5 29.Ke2 Be6 30.Rc1 Kd7 31.Nc3 Rbb8 32.Kf1 h4 33.Ke2 Bf6 34.Ne4 Bd5 35.Kd3 Bg7 36.Rdc2 Rc7 37.Re1 Rf8 38.f3 Rb8 39.Nc3 Bg8 40.Ne2 Bf7 41.Bd2 Bf6 42.Rec1 Rbc8 43.Nc4 Rb7 44.Na5 Rbc7 45.Nc4 Rb7  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"12","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2560","BlackElo":"2785","ECO":"E83"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 O-O 6.Be3 Nc6 7.Nge2 a6 8.h4 h5 9.Nc1 e5 10.d5 Ne7 11.Be2 Nh7 12.Nd3 f5 13.a4 Nf6 14.Nf2 a5 15.Qc2 c5 16.O-O-O b6 17.Rdg1 Nh7 18.Nb5 Kh8 19.g4 hxg4 20.fxg4 f4 21.Bd2 g5 22.hxg5 Ng6 23.Rh5 Rf7 24.Rgh1 Bf8 25.Qb3 Rb8 26.Qh3 Rbb7 27.Nd3 Kg8 28.Ne1 Rg7 29.Nf3 Rbf7 30.Rh6 Qd7 31.Qh5 Qxg4 32.Rxg6 Qxh5 33.Rxg7+ Rxg7 34.Rxh5 Bg4 35.Rh4 Bxf3 36.Bxf3 Nxg5 37.Bg4 Rh7 38.Rxh7 Kxh7 39.Kc2 Be7 40.Kd3 Kg6 41.Nc7 Kf7 42.Ne6 Nh7 43.Bh5+ Kg8 44.Be1 Nf6 45.Bh4 Kh7 46.Bf7 Nxd5 47.cxd5 Bxh4 48.Bh5 Kh6 49.Be2 Bf2 50.Kc4 Bd4 51.b3 Kg6 52.Kb5 Kf6 53.Kc6 Ke7 54.Ng7  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"11","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"B31"},"moveText":"1.e4 c5 2.Nf3 Nc6 3.Bb5 g6 4.Bxc6 bxc6 5.O-O Bg7 6.Re1 e5 7.b4 cxb4 8.a3 c5 9.axb4 cxb4 10.d4 exd4 11.Bb2 d6 12.Nxd4 Qd7 13.Nd2 Bb7 14.Nc4 Nh6 15.Nf5 Bxb2 16.Ncxd6+ Kf8 17.Nxh6 f6 18.Ndf7 Qxd1 19.Raxd1 Ke7 20.Nxh8 Rxh8 21.Nf5+ gxf5 22.exf5+ Be5 23.f4 Rc8 24.fxe5 Rxc2 25.e6 Bc6 26.Rc1 Rxc1 27.Rxc1 Kd6 28.Rd1+ Ke5 29.e7 a5 30.Rc1 Bd7 31.Rc5+ Kd4 32.Rxa5 b3 33.Ra7 Be8 34.Rb7 Kc3 35.Kf2 b2 36.Ke3 Bf7 37.g4 Kc2 38.Kd4 b1=Q 39.Rxb1 Kxb1 40.Kc5 Kc2 41.Kd6  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"10","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"E35"},"moveText":"1.d4 Nf6 2.c4 e6 3.Nc3 Bb4 4.Qc2 d5 5.cxd5 exd5 6.Bg5 h6 7.Bh4 c5 8.dxc5 Nc6 9.e3 g5 10.Bg3 Qa5 11.Nf3 Ne4 12.Nd2 Nxc3 13.bxc3 Bxc3 14.Rb1 Qxc5 15.Rb5 Qa3 16.Rb3 Bxd2+ 17.Qxd2 Qa5 18.Bb5 Qxd2+ 19.Kxd2 Bd7 20.Bxc6 Bxc6 21.h4 Ke7 22.Be5 f6 23.Bd4 g4 24.Rc1 Ke6 25.Rb4 h5 26.Rc3 Rhc8 27.a4 b6 28.Kc2 Be8 29.Kb2 Rxc3 30.Bxc3 Rc8 31.e4 Bc6 32.exd5+ Bxd5 33.g3 Bc4 34.Bd4 Kd5 35.Be3 Rc7 36.Kc3 f5 37.Kb2 Ke6 38.Kc3 Bd5+ 39.Kb2 Be4 40.a5 bxa5 41.Rb5 a4 42.Rc5 Rb7+ 43.Ka3 a6 44.Kxa4 Bd5 45.Ka5 Ke5 46.Kxa6 Rb3 47.Rc7 Ke4 48.Rh7 Rxe3 49.fxe3 Kxe3 50.Rxh5 Be4 51.Rh8 Kf3 52.Re8 Kxg3 53.h5 Bd3+ 54.Kb6 f4 55.Kc5 f3 56.Kd4 Bf5 57.Rf8 Kf4 58.h6 g3 59.h7 g2 60.h8=Q g1=Q+ 61.Kc4 Qc1+ 62.Kb3 Qc2+ 63.Kb4 Qe4+ 64.Kc3 Qc6+ 65.Kb3 Qd5+ 66.Kc3 Qc5+ 67.Kb2 Qb4+ 68.Ka2  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"9","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"C69"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Bxc6 dxc6 5.O-O f6 6.d4 exd4 7.Nxd4 c5 8.Nb3 Qxd1 9.Rxd1 Bg4 10.f3 Be6 11.Nc3 Bd6 12.Be3 b6 13.a4 O-O-O 14.a5 Kb7 15.e5 Be7 16.Rxd8 Bxd8 17.Ne4 Kc6 18.axb6 cxb6 19.Nbxc5 Bc8 20.Nxa6 fxe5 21.Nb4+  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"8","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2560","BlackElo":"2785","ECO":"E84"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 O-O 6.Be3 Nc6 7.Nge2 a6 8.Qd2 Rb8 9.h4 h5 10.Bh6 e5 11.Bxg7 Kxg7 12.d5 Ne7 13.Ng3 c6 14.dxc6 Nxc6 15.O-O-O Be6 16.Kb1 Ne8 17.Nd5 b5 18.Ne3 Rh8 19.Rc1 Qb6 20.Bd3 Nd4 21.Nd5 Qa7 22.Nf1 Nf6 23.Nfe3 Bxd5 24.cxd5 Rbc8 25.Rcf1 Qe7 26.g4 Nd7 27.g5 Kf8 28.Rf2 Ke8 29.Bf1 Nc5 30.Bh3 Rc7 31.Rc1 Ncb3 32.axb3 Nxb3 33.Rc6 Nxd2+ 34.Rxd2 Kf8 35.Rxa6 Ra7 36.Rc6 Kg7 37.Bf1 Ra1+ 38.Kxa1 Qa7+ 39.Kb1 Qxe3 40.Kc2 b4  0-1"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"7","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"C92"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.d3 Na5 10.Bc2 c5 11.Nbd2 Re8 12.h3 Bf8 13.Nf1 Bb7 14.Ng3 g6 15.Bg5 h6 16.Bd2 d5 17.exd5 c4 18.b4 cxd3 19.Bxd3 Qxd5 20.Be4 Nxe4 21.Nxe4 Bg7 22.bxa5 f5 23.Ng3 e4 24.Nh4 Bf6 25.Nxg6 e3 26.Nf4 Qxd2 27.Rxe3 Qxd1+ 28.Rxd1 Rxe3 29.fxe3 Rd8 30.Rxd8+ Bxd8 31.Nxf5 Bxa5 32.Nd5 Kf8 33.e4 Bxd5 34.exd5 h5 35.Kf2 Bxc3 36.Ke3 Kf7 37.Kd3 Bb2 38.g4 hxg4 39.hxg4 Kf6 40.d6 Ke6 41.g5 a5 42.g6 Bf6 43.g7 Kf7 44.d7  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"6","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"D27"},"moveText":"1.d4 d5 2.c4 dxc4 3.Nf3 Nf6 4.e3 e6 5.Bxc4 c5 6.O-O a6 7.dxc5 Qxd1 8.Rxd1 Bxc5 9.b3 Nbd7 10.Bb2 b5 11.Be2 Bb7 12.Nbd2 Ke7 13.a4 bxa4 14.Rxa4 Rhb8 15.Rc1 Bd5 16.Ne5 Bd6 17.Nxd7 Nxd7 18.Rxa6 Rxa6 19.Bxa6 f6 20.Bc4 Bxc4 21.Rxc4 Nc5 22.Rc3 f5 23.Ba3 Ne4 24.Rc7+ Kd8 25.Bxd6 Nxd2 26.Rxg7 Rxb3 27.h4 h5 28.Bf4 Ke8 29.Kh2 Rb2 30.Kh3 Ne4 31.f3 Nf2+ 32.Kg3 Nd3 33.Bg5 e5 34.Kh3 Nf2+ 35.Kh2 Nd3 36.Bh6 Ne1 37.Kg1 Nd3 38.Bg5 Rb1+ 39.Kh2 Rb2 40.Re7+ Kf8 41.Re6 Kg7 42.Kh3 Re2 43.Rd6 Ne1 44.Bf6+ Kg8 45.Bxe5 Rxe3 46.Bf4 Re2 47.Rg6+ Kf7 48.Rg5 Ke6 49.Bc7 Ra2 50.Bb6 Nd3 51.Kh2 Ne1 52.Kh3 Nd3 53.Bc7 Rc2 54.Bb6 Ra2 55.Kg3 Ne1 56.Rxh5 Rxg2+ 57.Kf4 Nd3+ 58.Ke3 Ne5 59.Rh6+ Kd5 60.Bc7 Rg7 61.Bxe5 Kxe5  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"5","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"0-1","WhiteElo":"2785","BlackElo":"2560","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.Nbd2 Bb7 12.Bc2 Re8 13.Nf1 Bf8 14.Ng3 g6 15.Bg5 h6 16.Bd2 exd4 17.cxd4 c5 18.d5 Nb6 19.Ba5 Nfd7 20.b3 Bg7 21.Rc1 Qf6 22.Rb1 b4 23.Ne2 Qe7 24.a3 bxa3 25.Bc3 f5 26.Bxg7 Qxg7 27.Nf4 fxe4 28.Nh4 g5 29.Ne6 Qf6 30.Qg4 Nxd5 31.Nxg5 hxg5 32.Qxd7 Nb4 33.Qxb7 Nxc2 34.Rxe4 a2 35.Rf1 Nb4 36.Rg4 a1=Q 37.Rxa1 Qxa1+ 38.Kh2 Qg7 39.Qf3 Qe5+ 40.g3 Rf8 41.Qg2 Qf6 42.f4 Ra7 43.Rxg5+ Rg7 44.Rh5 Qe6 45.g4 Rxf4  0-1"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"4","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2560","BlackElo":"2785","ECO":"D27"},"moveText":"1.d4 d5 2.c4 dxc4 3.Nf3 Nf6 4.e3 e6 5.Bxc4 c5 6.O-O a6 7.dxc5 Qxd1 8.Rxd1 Bxc5 9.b3 Nbd7 10.Bb2 b6 11.Nc3 Bb7 12.Rac1 Be7 13.Nd4 Rc8 14.f3 b5 15.Be2 Bc5 16.Kf1 Ke7 17.e4 g5 18.Nb1 g4 19.Ba3 b4 20.Rxc5 Nxc5 21.Bxb4 Rhd8 22.Na3 gxf3 23.gxf3 Nd7 24.Nc4 Ba8 25.Kf2 Rg8 26.h4 Rc7 27.Nc2 Rb8 28.Ba3 h5 29.Rg1 Kf6 30.Ke3 a5 31.Rg5 a4 32.b4 Nb7 33.b5 Nbc5 34.Nd4 e5 35.Nxe5 Nxe5 36.Rf5+ Kg7 37.Rxe5 Nxe4 38.Bd3 Rc3 39.Bb4 Rxd3+ 40.Kxd3 Nf6 41.Bd6 Rc8 42.Rg5+ Kh7 43.Be5 Ne8 44.Rxh5+ Kg6 45.Rg5+ Kh7 46.Bf4 f6 47.Rf5 Kg6 48.b6 Rd8 49.Ra5 Bxf3 50.h5+  1-0"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"3","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2560","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.Nbd2 Bb7 12.Bc2 Re8 13.Nf1 Bf8 14.Ng3 g6 15.Bg5 h6 16.Bd2 exd4 17.cxd4 c5 18.Bf4 cxd4 19.Nxd4 Ne5 20.b3 d5 21.Qd2 dxe4 22.Nxe4 Nd5 23.Bg3 Rc8 24.Re2 f5 25.Bxe5 Rxe5 26.Ng3 Rxe2 27.Ngxe2 Nb4 28.Rd1 Nxc2 29.Nxc2 Qxd2 30.Rxd2 Rc7 31.Ne3 Kf7 32.h4 Bc8 33.Nf4 g5 34.hxg5 hxg5 35.Nd3 Bg7 36.Nd5 Rc6 37.N5b4 Rc7 38.Nd5 Rc6 39.N5b4 Rc7  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"2","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2560","BlackElo":"2785","ECO":"E80"},"moveText":"1.d4 Nf6 2.c4 g6 3.Nc3 Bg7 4.e4 d6 5.f3 c5 6.dxc5 dxc5 7.Qxd8+ Kxd8 8.Be3 Nfd7 9.Nge2 b6 10.O-O-O Na6 11.g3 Nc7 12.f4 e6 13.Bh3 Ke7 14.Rhf1 h6 15.e5 Bb7 16.g4 Rad8 17.Ng3 f6 18.Nce4 fxe5 19.f5 Bxe4 20.Nxe4 gxf5 21.gxf5 Nf6 22.Rg1 Rxd1+ 23.Kxd1 Bf8 24.Nxf6 Kxf6 25.Rf1 exf5 26.Rxf5+ Kg7 27.Rxe5 Bd6 28.Re4 Bxh2 29.Ke2 h5 30.Re7+ Kf6 31.Rd7 Be5 32.b3 h4 33.Kf3 Rg8 34.Bg4 h3 35.Rh7 h2 36.Bf4 Rf8 37.Bxe5+ Kg6+ 38.Ke4 Kxh7 39.Bxh2 Re8+ 40.Kf5 Ne6 41.Kf6 Nd4 42.Bd6 Re4 43.Bd7 Re2 44.a4 Rb2 45.Bb8 a5 46.Ba7 Rxb3 47.Ke5 Nf3+ 48.Kd6 Nd2 49.Be6 Rb4 50.Kc6 Nb3 51.Bd5 Rxa4 52.Bxb6 Ra1 53.Bxc5 a4 54.Bb4 a3 55.c5 Nd4+ 56.Kd7 Rd1 57.Bxa3 Nc2 58.c6 Rxd5+ 59.Bd6  1/2-1/2"},{"tags":{"Event":"St Stefan/Belgrade m","Site":"Belgrade","Date":"1992.??.??","Round":"1","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2560","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.Nbd2 Bb7 12.Bc2 Re8 13.Nf1 Bf8 14.Ng3 g6 15.Bg5 h6 16.Bd2 Bg7 17.a4 c5 18.d5 c4 19.b4 Nh7 20.Be3 h5 21.Qd2 Rf8 22.Ra3 Ndf6 23.Rea1 Qd7 24.R1a2 Rfc8 25.Qc1 Bf8 26.Qa1 Qe8 27.Nf1 Be7 28.N1d2 Kg7 29.Nb1 Nxe4 30.Bxe4 f5 31.Bc2 Bxd5 32.axb5 axb5 33.Ra7 Kf6 34.Nbd2 Rxa7 35.Rxa7 Ra8 36.g4 hxg4 37.hxg4 Rxa7 38.Qxa7 f4 39.Bxf4 exf4 40.Nh4 Bf7 41.Qd4+ Ke6 42.Nf5 Bf8 43.Qxf4 Kd7 44.Nd4 Qe1+ 45.Kg2 Bd5+ 46.Be4 Bxe4+ 47.Nxe4 Be7 48.Nxb5 Nf8 49.Nbxd6 Ne6 50.Qe5  1-0"},{"tags":{"Event":"Cambridge","Site":"Cambridge","Date":"1977.??.??","Round":"?","White":"Fischer, Robert James","Black":"Greenblatt Programm","Result":"1-0","WhiteElo":"","BlackElo":"","ECO":"C33"},"moveText":"1.e4 e5 2.f4 exf4 3.Bc4 d5 4.Bxd5 Nf6 5.Nc3 Bb4 6.Nf3 O-O 7.O-O Nxd5 8.Nxd5 Bd6 9.d4 g5 10.Nxg5 Qxg5 11.e5 Bh3 12.Rf2 Bxe5 13.dxe5 c6 14.Bxf4 Qg7 15.Nf6+ Kh8 16.Qh5 Rd8 17.Qxh3 Na6 18.Rf3 Qg6 19.Rc1 Kg7 20.Rg3 Rh8 21.Qh6+  1-0"},{"tags":{"Event":"Cambridge","Site":"Cambridge","Date":"1977.??.??","Round":"?","White":"Greenblatt Programm","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"","BlackElo":"","ECO":"B34"},"moveText":"1.e4 c5 2.Nf3 g6 3.d4 Bg7 4.Nc3 cxd4 5.Nxd4 Nc6 6.Be3 Nf6 7.Nxc6 bxc6 8.e5 Ng8 9.f4 f6 10.exf6 Nxf6 11.Bc4 d5 12.Be2 Rb8 13.b3 Ng4 14.Bd4 e5 15.fxe5 O-O 16.Bxg4 Qh4+ 17.g3 Qxg4 18.Qxg4 Bxg4 19.Rf1 Rxf1+ 20.Kxf1 c5 21.Bf2 Bxe5 22.Be1 Rf8+ 23.Kg2 Rf3 24.h3 Rxc3 25.Bxc3 Bxc3 26.Rf1 Bf5 27.Rf2 h5 28.Re2 Kf7 29.Re3 Bd4 30.Rf3 Ke6 31.c3 Be5 32.Re3 d4 33.cxd4 cxd4 34.Re1 d3 35.h4 d2 36.Rd1 Bc3 37.Kf2 Bg4 38.Rh1 Bd4+ 39.Kg2 Kd5 40.a3 Ke4 41.Rf1 Kd3 42.Kh2 Ke2 43.Kg2 Bh3+ 44.Kxh3 Kxf1 45.b4 d1=Q 46.Kh2 Qe2+ 47.Kh3 Qg2+  0-1"},{"tags":{"Event":"Cambridge","Site":"Cambridge","Date":"1977.??.??","Round":"?","White":"Greenblatt Programm","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"","BlackElo":"","ECO":"B92"},"moveText":"1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6 6.Be2 e5 7.Nb3 Be7 8.Be3 O-O 9.Qd3 Be6 10.O-O Nbd7 11.Nd5 Rc8 12.Nxe7+ Qxe7 13.f3 d5 14.Nd2 Qb4 15.Nb3 dxe4 16.Qd1 Nd5 17.Ba7 b6 18.c3 Qe7 19.fxe4 Ne3 20.Qd3 Nxf1 21.Qxa6 Ne3 22.Bxb6 Qg5 23.g3 Ra8 24.Ba7 h5 25.Qb7 h4 26.Kf2 hxg3+ 27.hxg3 f5 28.exf5 Rxf5+ 29.Ke1 Raf8 30.Kd2 Nc4+ 31.Kc2 Qg6 32.Qe4 Nd6 33.Qc6 Rf2+ 34.Kd1 Bg4 35.Bxf2 Qd3+ 36.Kc1 Bxe2 37.Nd2 Rxf2 38.Qxd7 Rf1+ 39.Nxf1 Qd1+  0-1"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"21","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2660","BlackElo":"2785","ECO":"B46"},"moveText":"1.e4 c5 2.Nf3 e6 3.d4 cxd4 4.Nxd4 a6 5.Nc3 Nc6 6.Be3 Nf6 7.Bd3 d5 8.exd5 exd5 9.O-O Bd6 10.Nxc6 bxc6 11.Bd4 O-O 12.Qf3 Be6 13.Rfe1 c5 14.Bxf6 Qxf6 15.Qxf6 gxf6 16.Rad1 Rfd8 17.Be2 Rab8 18.b3 c4 19.Nxd5 Bxd5 20.Rxd5 Bxh2+ 21.Kxh2 Rxd5 22.Bxc4 Rd2 23.Bxa6 Rxc2 24.Re2 Rxe2 25.Bxe2 Rd8 26.a4 Rd2 27.Bc4 Ra2 28.Kg3 Kf8 29.Kf3 Ke7 30.g4 f5 31.gxf5 f6 32.Bg8 h6 33.Kg3 Kd6 34.Kf3 Ra1 35.Kg2 Ke5 36.Be6 Kf4 37.Bd7 Rb1 38.Be6 Rb2 39.Bc4 Ra2 40.Be6 h5 41.Bd7  0-1"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"20","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"B68"},"moveText":"1.e4 c5 2.Nf3 Nc6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 d6 6.Bg5 e6 7.Qd2 a6 8.O-O-O Bd7 9.f4 Be7 10.Be2 O-O 11.Bf3 h6 12.Bh4 Nxe4 13.Bxe7 Nxd2 14.Bxd8 Nxf3 15.Nxf3 Rfxd8 16.Rxd6 Kf8 17.Rhd1 Ke7 18.Na4 Be8 19.Rxd8 Rxd8 20.Nc5 Rb8 21.Rd3 a5 22.Rb3 b5 23.a3 a4 24.Rc3 Rd8 25.Nd3 f6 26.Rc5 Rb8 27.Rc3 g5 28.g3 Kd6 29.Nc5 g4 30.Ne4+ Ke7 31.Ne1 Rd8 32.Nd3 Rd4 33.Nef2 h5 34.Rc5 Rd5 35.Rc3 Nd4 36.Rc7+ Rd7 37.Rxd7+ Bxd7 38.Ne1 e5 39.fxe5 fxe5 40.Kd2 Bf5 41.Nd1 Kd6 42.Ne3 Be6 43.Kd3 Bf7 44.Kc3 Kc6 45.Kd3 Kc5 46.Ke4 Kd6 47.Kd3 Bg6+ 48.Kc3 Kc5 49.Nd3+ Kd6 50.Ne1 Kc6 51.Kd2 Kc5 52.Nd3+ Kd6 53.Ne1 Ne6 54.Kc3 Nd4  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"19","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"B05"},"moveText":"1.e4 Nf6 2.e5 Nd5 3.d4 d6 4.Nf3 Bg4 5.Be2 e6 6.O-O Be7 7.h3 Bh5 8.c4 Nb6 9.Nc3 O-O 10.Be3 d5 11.c5 Bxf3 12.Bxf3 Nc4 13.b3 Nxe3 14.fxe3 b6 15.e4 c6 16.b4 bxc5 17.bxc5 Qa5 18.Nxd5 Bg5 19.Bh5 cxd5 20.Bxf7+ Rxf7 21.Rxf7 Qd2 22.Qxd2 Bxd2 23.Raf1 Nc6 24.exd5 exd5 25.Rd7 Be3+ 26.Kh1 Bxd4 27.e6 Be5 28.Rxd5 Re8 29.Re1 Rxe6 30.Rd6 Kf7 31.Rxc6 Rxc6 32.Rxe5 Kf6 33.Rd5 Ke6 34.Rh5 h6 35.Kh2 Ra6 36.c6 Rxc6 37.Ra5 a6 38.Kg3 Kf6 39.Kf3 Rc3+ 40.Kf2 Rc2+  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"18","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"B69"},"moveText":"1.e4 c5 2.Nf3 d6 3.Nc3 Nc6 4.d4 cxd4 5.Nxd4 Nf6 6.Bg5 e6 7.Qd2 a6 8.O-O-O Bd7 9.f4 Be7 10.Nf3 b5 11.Bxf6 gxf6 12.Bd3 Qa5 13.Kb1 b4 14.Ne2 Qc5 15.f5 a5 16.Nf4 a4 17.Rc1 Rb8 18.c3 b3 19.a3 Ne5 20.Rhf1 Nc4 21.Bxc4 Qxc4 22.Rce1 Kd8 23.Ka1 Rb5 24.Nd4 Ra5 25.Nd3 Kc7 26.Nb4 h5 27.g3 Re5 28.Nd3 Rb8 29.Qe2 Ra5 30.fxe6 fxe6 31.Rf2 e5 32.Nf5 Bxf5 33.Rxf5 d5 34.exd5 Qxd5 35.Nb4 Qd7 36.Rxh5 Bxb4 37.cxb4 Rd5 38.Rc1+ Kb7 39.Qe4 Rc8 40.Rb1 Kb6 41.Rh7 Rd4 42.Qg6 Qc6 43.Rf7 Rd6 44.Qh6 Qf3 45.Qh7 Qc6 46.Qh6 Qf3 47.Qh7 Qc6  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"17","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"B09"},"moveText":"1.e4 d6 2.d4 g6 3.Nc3 Nf6 4.f4 Bg7 5.Nf3 c5 6.dxc5 Qa5 7.Bd3 Qxc5 8.Qe2 O-O 9.Be3 Qa5 10.O-O Bg4 11.Rad1 Nc6 12.Bc4 Nh5 13.Bb3 Bxc3 14.bxc3 Qxc3 15.f5 Nf6 16.h3 Bxf3 17.Qxf3 Na5 18.Rd3 Qc7 19.Bh6 Nxb3 20.cxb3 Qc5+ 21.Kh1 Qe5 22.Bxf8 Rxf8 23.Re3 Rc8 24.fxg6 hxg6 25.Qf4 Qxf4 26.Rxf4 Nd7 27.Rf2 Ne5 28.Kh2 Rc1 29.Ree2 Nc6 30.Rc2 Re1 31.Rfe2 Ra1 32.Kg3 Kg7 33.Rcd2 Rf1 34.Rf2 Re1 35.Rfe2 Rf1 36.Re3 a6 37.Rc3 Re1 38.Rc4 Rf1 39.Rdc2 Ra1 40.Rf2 Re1 41.Rfc2 g5 42.Rc1 Re2 43.R1c2 Re1 44.Rc1 Re2 45.R1c2  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"16","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"C69"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Bxc6 dxc6 5.O-O f6 6.d4 Bg4 7.dxe5 Qxd1 8.Rxd1 fxe5 9.Rd3 Bd6 10.Nbd2 Nf6 11.Nc4 Nxe4 12.Ncxe5 Bxf3 13.Nxf3 O-O 14.Be3 b5 15.c4 Rab8 16.Rc1 bxc4 17.Rd4 Rfe8 18.Nd2 Nxd2 19.Rxd2 Re4 20.g3 Be5 21.Rcc2 Kf7 22.Kg2 Rxb2 23.Kf3 c3 24.Kxe4 cxd2 25.Rxd2 Rb5 26.Rc2 Bd6 27.Rxc6 Ra5 28.Bf4 Ra4+ 29.Kf3 Ra3+ 30.Ke4 Rxa2 31.Bxd6 cxd6 32.Rxd6 Rxf2 33.Rxa6 Rxh2 34.Kf3 Rd2 35.Ra7+ Kf6 36.Ra6+ Ke7 37.Ra7+ Rd7 38.Ra2 Ke6 39.Kg2 Re7 40.Kh3 Kf6 41.Ra6+ Re6 42.Ra5 h6 43.Ra2 Kf5 44.Rf2+ Kg5 45.Rf7 g6 46.Rf4 h5 47.Rf3 Rf6 48.Ra3 Re6 49.Rf3 Re4 50.Ra3 Kh6 51.Ra6 Re5 52.Kh4 Re4+ 53.Kh3 Re7 54.Kh4 Re5 55.Rb6 Kg7 56.Rb4 Kh6 57.Rb6 Re1 58.Kh3 Rh1+ 59.Kg2 Ra1 60.Kh3 Ra4  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"15","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"B99"},"moveText":"1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6 6.Bg5 e6 7.f4 Be7 8.Qf3 Qc7 9.O-O-O Nbd7 10.Bd3 b5 11.Rhe1 Bb7 12.Qg3 O-O-O 13.Bxf6 Nxf6 14.Qxg7 Rdf8 15.Qg3 b4 16.Na4 Rhg8 17.Qf2 Nd7 18.Kb1 Kb8 19.c3 Nc5 20.Bc2 bxc3 21.Nxc3 Bf6 22.g3 h5 23.e5 dxe5 24.fxe5 Bh8 25.Nf3 Rd8 26.Rxd8+ Rxd8 27.Ng5 Bxe5 28.Qxf7 Rd7 29.Qxh5 Bxc3 30.bxc3 Qb6+ 31.Kc1 Qa5 32.Qh8+ Ka7 33.a4 Nd3+ 34.Bxd3 Rxd3 35.Kc2 Rd5 36.Re4 Rd8 37.Qg7 Qf5 38.Kb3 Qd5+ 39.Ka3 Qd2 40.Rb4 Qc1+ 41.Rb2 Qa1+ 42.Ra2 Qc1+ 43.Rb2 Qa1+  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"14","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"D37"},"moveText":"1.c4 e6 2.Nf3 d5 3.d4 Nf6 4.Nc3 Be7 5.Bf4 O-O 6.e3 c5 7.dxc5 Nc6 8.cxd5 exd5 9.Be2 Bxc5 10.O-O Be6 11.Rc1 Rc8 12.a3 h6 13.Bg3 Bb6 14.Ne5 Ne7 15.Na4 Ne4 16.Rxc8 Bxc8 17.Nf3 Bd7 18.Be5 Bxa4 19.Qxa4 Nc6 20.Bf4 Qf6 21.Bb5 Qxb2 22.Bxc6 Nc3 23.Qb4 Qxb4 24.axb4 bxc6 25.Be5 Nb5 26.Rc1 Rc8 27.Nd4 f6 28.Bxf6 Bxd4 29.Bxd4 Nxd4 30.exd4 Rb8 31.Rxc6 Rxb4 32.Kf1 Rxd4 33.Ra6 Kf7 34.Rxa7+ Kf6 35.Rd7 h5 36.Ke2 g5 37.Ke3 Re4+ 38.Kd3 Ke6 39.Rg7 Kf6 40.Rd7 Ke6  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"13","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2660","BlackElo":"2785","ECO":"B04"},"moveText":"1.e4 Nf6 2.e5 Nd5 3.d4 d6 4.Nf3 g6 5.Bc4 Nb6 6.Bb3 Bg7 7.Nbd2 O-O 8.h3 a5 9.a4 dxe5 10.dxe5 Na6 11.O-O Nc5 12.Qe2 Qe8 13.Ne4 Nbxa4 14.Bxa4 Nxa4 15.Re1 Nb6 16.Bd2 a4 17.Bg5 h6 18.Bh4 Bf5 19.g4 Be6 20.Nd4 Bc4 21.Qd2 Qd7 22.Rad1 Rfe8 23.f4 Bd5 24.Nc5 Qc8 25.Qc3 e6 26.Kh2 Nd7 27.Nd3 c5 28.Nb5 Qc6 29.Nd6 Qxd6 30.exd6 Bxc3 31.bxc3 f6 32.g5 hxg5 33.fxg5 f5 34.Bg3 Kf7 35.Ne5+ Nxe5 36.Bxe5 b5 37.Rf1 Rh8 38.Bf6 a3 39.Rf4 a2 40.c4 Bxc4 41.d7 Bd5 42.Kg3 Ra3+ 43.c3 Rha8 44.Rh4 e5 45.Rh7+ Ke6 46.Re7+ Kd6 47.Rxe5 Rxc3+ 48.Kf2 Rc2+ 49.Ke1 Kxd7 50.Rexd5+ Kc6 51.Rd6+ Kb7 52.Rd7+ Ka6 53.R7d2 Rxd2 54.Kxd2 b4 55.h4 Kb5 56.h5 c4 57.Ra1 gxh5 58.g6 h4 59.g7 h3 60.Be7 Rg8 61.Bf8 h2 62.Kc2 Kc6 63.Rd1 b3+ 64.Kc3 h1=Q 65.Rxh1 Kd5 66.Kb2 f4 67.Rd1+ Ke4 68.Rc1 Kd3 69.Rd1+ Ke2 70.Rc1 f3 71.Bc5 Rxg7 72.Rxc4 Rd7 73.Re4+ Kf1 74.Bd4 f2  0-1"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"12","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1/2-1/2","WhiteElo":"2785","BlackElo":"2660","ECO":"D66"},"moveText":"1.c4 e6 2.Nf3 d5 3.d4 Nf6 4.Nc3 Be7 5.Bg5 h6 6.Bh4 O-O 7.e3 Nbd7 8.Rc1 c6 9.Bd3 dxc4 10.Bxc4 b5 11.Bd3 a6 12.a4 bxa4 13.Nxa4 Qa5+ 14.Nd2 Bb4 15.Nc3 c5 16.Nb3 Qd8 17.O-O cxd4 18.Nxd4 Bb7 19.Be4 Qb8 20.Bg3 Qa7 21.Nc6 Bxc6 22.Bxc6 Rac8 23.Na4 Rfd8 24.Bf3 a5 25.Rc6 Rxc6 26.Bxc6 Rc8 27.Bf3 Qa6 28.h3 Qb5 29.Be2 Qc6 30.Bf3 Qb5 31.b3 Be7 32.Be2 Qb4 33.Ba6 Rc6 34.Bd3 Nc5 35.Qf3 Rc8 36.Nxc5 Bxc5 37.Rc1 Rd8 38.Bc4 Qd2 39.Rf1 Bb4 40.Bc7 Rd7 41.Qc6 Qc2 42.Be5 Rd2 43.Qa8+ Kh7 44.Bxf6 gxf6 45.Qf3 f5 46.g4 Qe4 47.Kg2 Kg6 48.Rc1 Ba3 49.Ra1 Bb4 50.Rc1 Be7 51.gxf5+ exf5 52.Re1 Rxf2+ 53.Kxf2 Bh4+ 54.Ke2 Qxf3+ 55.Kxf3 Bxe1  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"11","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1-0","WhiteElo":"2660","BlackElo":"2785","ECO":"B97"},"moveText":"1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6 6.Bg5 e6 7.f4 Qb6 8.Qd2 Qxb2 9.Nb3 Qa3 10.Bxf6 gxf6 11.Be2 h5 12.O-O Nc6 13.Kh1 Bd7 14.Nb1 Qb4 15.Qe3 d5 16.exd5 Ne7 17.c4 Nf5 18.Qd3 h4 19.Bg4 Nd6 20.N1d2 f5 21.a3 Qb6 22.c5 Qb5 23.Qc3 fxg4 24.a4 h3 25.axb5 hxg2+ 26.Kxg2 Rh3 27.Qf6 Nf5 28.c6 Bc8 29.dxe6 fxe6 30.Rfe1 Be7 31.Rxe6  1-0"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"10","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2660","ECO":"C95"},"moveText":"1.e4 e5 2.Nf3 Nc6 3.Bb5 a6 4.Ba4 Nf6 5.O-O Be7 6.Re1 b5 7.Bb3 d6 8.c3 O-O 9.h3 Nb8 10.d4 Nbd7 11.Nbd2 Bb7 12.Bc2 Re8 13.b4 Bf8 14.a4 Nb6 15.a5 Nbd7 16.Bb2 Qb8 17.Rb1 c5 18.bxc5 dxc5 19.dxe5 Nxe5 20.Nxe5 Qxe5 21.c4 Qf4 22.Bxf6 Qxf6 23.cxb5 Red8 24.Qc1 Qc3 25.Nf3 Qxa5 26.Bb3 axb5 27.Qf4 Rd7 28.Ne5 Qc7 29.Rbd1 Re7 30.Bxf7+ Rxf7 31.Qxf7+ Qxf7 32.Nxf7 Bxe4 33.Rxe4 Kxf7 34.Rd7+ Kf6 35.Rb7 Ra1+ 36.Kh2 Bd6+ 37.g3 b4 38.Kg2 h5 39.Rb6 Rd1 40.Kf3 Kf7 41.Ke2 Rd5 42.f4 g6 43.g4 hxg4 44.hxg4 g5 45.f5 Be5 46.Rb5 Kf6 47.Rexb4 Bd4 48.Rb6+ Ke5 49.Kf3 Rd8 50.Rb8 Rd7 51.R4b7 Rd6 52.Rb6 Rd7 53.Rg6 Kd5 54.Rxg5 Be5 55.f6 Kd4 56.Rb1  1-0"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"9","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"D41"},"moveText":"1.d4 Nf6 2.c4 e6 3.Nf3 d5 4.Nc3 c5 5.cxd5 Nxd5 6.e4 Nxc3 7.bxc3 cxd4 8.cxd4 Nc6 9.Bc4 b5 10.Bd3 Bb4+ 11.Bd2 Bxd2+ 12.Qxd2 a6 13.a4 O-O 14.Qc3 Bb7 15.axb5 axb5 16.O-O Qb6 17.Rab1 b4 18.Qd2 Nxd4 19.Nxd4 Qxd4 20.Rxb4 Qd7 21.Qe3 Rfd8 22.Rfb1 Qxd3 23.Qxd3 Rxd3 24.Rxb7 g5 25.Rb8+ Rxb8 26.Rxb8+ Kg7 27.f3 Rd2 28.h4 h6 29.hxg5 hxg5  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"8","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2660","ECO":"A39"},"moveText":"1.c4 c5 2.Nc3 Nc6 3.Nf3 Nf6 4.g3 g6 5.Bg2 Bg7 6.O-O O-O 7.d4 cxd4 8.Nxd4 Nxd4 9.Qxd4 d6 10.Bg5 Be6 11.Qf4 Qa5 12.Rac1 Rab8 13.b3 Rfc8 14.Qd2 a6 15.Be3 b5 16.Ba7 bxc4 17.Bxb8 Rxb8 18.bxc4 Bxc4 19.Rfd1 Nd7 20.Nd5 Qxd2 21.Nxe7+ Kf8 22.Rxd2 Kxe7 23.Rxc4 Rb1+ 24.Bf1 Nc5 25.Kg2 a5 26.e4 Ba1 27.f4 f6 28.Re2 Ke6 29.Rec2 Bb2 30.Be2 h5 31.Rd2 Ba3 32.f5+ gxf5 33.exf5+ Ke5 34.Rcd4 Kxf5 35.Rd5+ Ke6 36.Rxd6+ Ke7 37.Rc6  1-0"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"7","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"1/2-1/2","WhiteElo":"2660","BlackElo":"2785","ECO":"B97"},"moveText":"1.e4 c5 2.Nf3 d6 3.d4 cxd4 4.Nxd4 Nf6 5.Nc3 a6 6.Bg5 e6 7.f4 Qb6 8.Qd2 Qxb2 9.Nb3 Qa3 10.Bd3 Be7 11.O-O h6 12.Bh4 Nxe4 13.Nxe4 Bxh4 14.f5 exf5 15.Bb5+ axb5 16.Nxd6+ Kf8 17.Nxc8 Nc6 18.Nd6 Rd8 19.Nxb5 Qe7 20.Qf4 g6 21.a4 Bg5 22.Qc4 Be3+ 23.Kh1 f4 24.g3 g5 25.Rae1 Qb4 26.Qxb4+ Nxb4 27.Re2 Kg7 28.Na5 b6 29.Nc4 Nd5 30.Ncd6 Bc5 31.Nb7 Rc8 32.c4 Ne3 33.Rf3 Nxc4 34.gxf4 g4 35.Rd3 h5 36.h3 Na5 37.N7d6 Bxd6 38.Nxd6 Rc1+ 39.Kg2 Nc4 40.Ne8+ Kg6 41.h4 f6 42.Re6 Rc2+ 43.Kg1 Kf5 44.Ng7+ Kxf4 45.Rd4+ Kg3 46.Nf5+ Kf3 47.Ree4 Rc1+ 48.Kh2 Rc2+ 49.Kg1  1/2-1/2"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"6","White":"Fischer, Robert James","Black":"Spassky, Boris V","Result":"1-0","WhiteElo":"2785","BlackElo":"2660","ECO":"D59"},"moveText":"1.c4 e6 2.Nf3 d5 3.d4 Nf6 4.Nc3 Be7 5.Bg5 O-O 6.e3 h6 7.Bh4 b6 8.cxd5 Nxd5 9.Bxe7 Qxe7 10.Nxd5 exd5 11.Rc1 Be6 12.Qa4 c5 13.Qa3 Rc8 14.Bb5 a6 15.dxc5 bxc5 16.O-O Ra7 17.Be2 Nd7 18.Nd4 Qf8 19.Nxe6 fxe6 20.e4 d4 21.f4 Qe7 22.e5 Rb8 23.Bc4 Kh8 24.Qh3 Nf8 25.b3 a5 26.f5 exf5 27.Rxf5 Nh7 28.Rcf1 Qd8 29.Qg3 Re7 30.h4 Rbb7 31.e6 Rbc7 32.Qe5 Qe8 33.a4 Qd8 34.R1f2 Qe8 35.R2f3 Qd8 36.Bd3 Qe8 37.Qe4 Nf6 38.Rxf6 gxf6 39.Rxf6 Kg8 40.Bc4 Kh8 41.Qf4  1-0"},{"tags":{"Event":"World Championship 28th","Site":"Reykjavik","Date":"1972.??.??","Round":"5","White":"Spassky, Boris V","Black":"Fischer, Robert James","Result":"0-1","WhiteElo":"2660","BlackElo":"2785","ECO":"E41"},"moveText":"1.d4 Nf6 2.c4 e6 3.Nc3 Bb4 4.Nf3 c5 5.e3 Nc6 6.Bd3 Bxc3+ 7.bxc3 d6 8.e4 e5 9.d5 Ne7 10.Nh4 h6 11.f4 Ng6 12.Nxg6 fxg6 13.fxe5 dxe5 14.Be3 b6 15.O-O O-O 16.a4 a5 17.Rb1 Bd7 18.Rb2 Rb8 19.Rbf2 Qe7 20.Bc2 g5 21.Bd2 Qe8 22.Be1 Qg6 23.Qd3 Nh5 24.Rxf8+ Rxf8 25.Rxf8+ Kxf8 26.Bd1 Nf4 27.Qc2 Bxa4  0-1"}]}');

/***/ }),

/***/ "./src/components/v2/chessboard/assets/pieces/b.json":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/assets/pieces/b.json ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"g":{"g":{"transform":"scale(2) translate(2,3.6)","g":{"style":["fill:#000000; stroke:#000000; stroke-linecap:butt;","fill:#ffffff; stroke:#000000; stroke-linecap:butt;"],"path":[{"d":"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"},{"d":"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"},{"d":"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"}],"g":{"path":[{"d":"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18","style":["fill:none; stroke:#ffffff; stroke-linejoin:miter;","fill:none; stroke:#000000; stroke-linejoin:miter;"]}],"style":["opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(4,4.6)","opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(4,4.6)"]}}}}}');

/***/ }),

/***/ "./src/components/v2/chessboard/assets/pieces/k.json":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/assets/pieces/k.json ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"g":{"g":{"transform":"scale(2.15) translate(0.7,-0.4)","style":["fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;","fill:none; fill-rule:evenodd;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5;transform:translate(2.5,1.5)"],"path":[{"colorIndex":0,"d":"M 22.5,11.63 L 22.5,6","style":["fill:none; stroke:#000000; stroke-linejoin:miter;","stroke-linejoin:miter"]},{"colorIndex":1,"d":"M22.5 11.63V6M20 8h5","style":["","stroke-linejoin:miter"]},{"colorIndex":0,"d":"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25","style":["fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;","fill:#fff; stroke-linecap:butt; stroke-linejoin:miter"]},{"colorIndex":1,"d":"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5","style":["","fill:#fff;stroke-linecap:butt;stroke-linejoin:miter"]},{"colorIndex":0,"d":"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37","style":["fill:#000000; stroke:#000000;","fill:#fff"]},{"colorIndex":1,"d":"M12.5 37c5.5 3.5 14.5 3.5 20 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-2.5-7.5-12-10.5-16-4-3 6 6 10.5 6 10.5v7","style":["","fill:#fff"]},{"colorIndex":0,"d":"M 20,8 L 25,8","style":["fill:none; stroke:#000000; stroke-linejoin:miter;",""]},{"colorIndex":0,"d":"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5","style":["fill:none; stroke:#ffffff;",""]},{"colorIndex":0,"d":"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37","style":["fill:none; stroke:#ffffff;",""]},{"colorIndex":1,"d":"M12.5 30c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0"}]}}}');

/***/ }),

/***/ "./src/components/v2/chessboard/assets/pieces/n.json":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/assets/pieces/n.json ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"g":{"g":{"transform":"scale(2) translate(2,3)","style":["opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;transform:translate(6,6.3)","opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(6,6.3)"],"path":[{"d":"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18","style":["fill:#000000;stroke:#000000;","fill:#ffffff; stroke:#000000;"]},{"d":"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10","style":["fill:#000000;stroke:#000000;","fill:#ffffff; stroke:#000000;"]},{"d":"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z","style":["fill:#ffffff;stroke:#ffffff;","fill:#000000; stroke:#000000;"]},{"d":"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z","style":["fill:#ffffff;stroke:#ffffff;transform:matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)","fill:#000000; stroke:#000000;transform:matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"]},{"d":"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z","style":["fill:#ffffff; stroke:none;",""]}]}}}');

/***/ }),

/***/ "./src/components/v2/chessboard/assets/pieces/p.json":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/assets/pieces/p.json ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"g":{"g":{"transform":"scale(2.2) translate(0,0)","path":[{"d":"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z","style":["","fill:#ffffff;stroke:#000000;stroke-width:1.5;"]}]}}}');

/***/ }),

/***/ "./src/components/v2/chessboard/assets/pieces/q.json":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/assets/pieces/q.json ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"g":{"g":{"transform":"scale(1.89) translate(4.1,5.6)","style":["fill:#000000;stroke:#000000;stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;transform:translate(5,7)","fill:#ffffff;stroke:#000000;stroke-width:1.5;stroke-linejoin:round;transform:translate(5,7)"],"path":[{"d":"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z","style":["stroke-linecap:butt;fill:#000000",""]},{"colorIndex":1,"d":"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"},{"colorIndex":0,"d":"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z","style":["",""]},{"d":"M 11.5,30 C 15,29 30,29 33.5,30","style":["fill:none","fill:none"]},{"colorIndex":1,"d":"M 12,33.5 C 18,32.5 27,32.5 33,33.5","style":["","fill:none"]},{"colorIndex":0,"d":"m 12,33.5 c 6,-1 15,-1 21,0","style":["fill:none",""]},{"colorIndex":0,"d":"M 11,38.5 A 35,35 1 0 0 34,38.5","style":["fill:none; stroke:#000000;stroke-linecap:butt;",""]}],"circle":[{"cx":"6","cy":"12","r":"2"},{"cx":"14","cy":"9","r":"2"},{"cx":"22.5","cy":"8","r":"2"},{"cx":"31","cy":"9","r":"2"},{"cx":"39","cy":"12","r":"2"}],"g":{"style":["fill:none; stroke:#ffffff;",""],"path":[{"colorIndex":0,"d":"M 11,29 A 35,35 1 0 1 34,29"},{"colorIndex":0,"d":"M 12.5,31.5 L 32.5,31.5"},{"colorIndex":0,"d":"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"},{"colorIndex":0,"d":"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"}]}}}}');

/***/ }),

/***/ "./src/components/v2/chessboard/assets/pieces/r.json":
/*!***********************************************************!*\
  !*** ./src/components/v2/chessboard/assets/pieces/r.json ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"g":{"g":{"transform":"scale(2) translate(2,3)","style":["opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(6,6.3)","opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;transform:translate(6,6.3)"],"path":[{"d":"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z","style":["stroke-linecap:butt;","stroke-linecap:butt;"]},{"d":"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z","colorIndex":0,"style":["stroke-linecap:butt;",""]},{"d":"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z","style":["stroke-linecap:butt;","stroke-linecap:butt;"]},{"d":"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z","colorIndex":0,"style":["stroke-linecap:butt;stroke-linejoin:miter;",""]},{"d":"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z","colorIndex":0,"style":["stroke-linecap:butt;",""]},{"d":"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z","style":["stroke-linecap:butt;","stroke-linecap:butt;"]},{"d":"M 12,35.5 L 33,35.5 L 33,35.5","colorIndex":0,"style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;",""]},{"d":"M 13,31.5 L 32,31.5","colorIndex":0,"style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;",""]},{"d":"M 14,29.5 L 31,29.5","colorIndex":0,"style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;",""]},{"d":"M 14,16.5 L 31,16.5","colorIndex":0,"style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;",""]},{"d":"M 11,14 L 34,14","style":["fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;","fill:none; stroke:#000000; stroke-linejoin:miter;"]},{"d":"M 34,14 L 31,17 L 14,17 L 11,14","colorIndex":1},{"d":"M 31,17 L 31,29.5 L 14,29.5 L 14,17","colorIndex":1,"style":["stroke-linecap:butt; stroke-linejoin:miter;"]},{"d":"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5","colorIndex":1,"style":[]}]}}}');

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("./src/pages/openings/Openings.ts"));
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlbmluZ3MuMDkyYTE1YTM0N2E1ZGJhOWM0Y2YuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrQkFBK0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsYUFBYTtBQUN2Qix3QkFBd0IsYUFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixjQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQSw0REFBNEQsZ0JBQWdCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsK0JBQStCO0FBQ2pFO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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SUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzdCLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzlCLENBQUM7UUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDO1lBQ2QsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUM7WUFDckIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztZQUMxQyxJQUFJLENBQUMsVUFBVSxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN0RCxJQUFJLENBQUMsVUFBVSxDQUFDLDhCQUE4QixFQUFFLENBQUM7UUFDckQsQ0FBQzthQUNHLENBQUM7WUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxVQUFVLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3JELElBQUksQ0FBQyxVQUFVLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDN0QsSUFBSSxRQUFRLEdBQUcsMEJBQVcsRUFBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUN4RCxJQUFJLFFBQVEsRUFBQyxDQUFDO2dCQUNWLElBQUksQ0FBQyxV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QyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDNUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsS0FBSyxNQUFNLElBQUksSUFBSSxHQUFHLEVBQUMsQ0FBQztZQUNwQixJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxDQUFDO2dCQUN2QixLQUFLLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9CLENBQUM7UUFDTCxDQUFDO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBQ08sUUFBUSxDQUFDLEtBQVk7UUFDekIsSUFBSSxXQUFXLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDN0QsSUFBSSxXQUFXLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDL0UsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFD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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNaMUIsMEtBQTRFO0FBQzVFLHdKQUFnRTtBQUNoRSx3SkFBZ0U7QUFDaEUsb0dBQWlDO0FBQ2pDLHFKQUFzRTtBQUN0RSxtRUFBdUI7QUFDdkIsK0VBQXdCO0FBRXhCLElBQUksc0JBQXNCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQWdCLENBQUM7QUFDckYsSUFBSSxhQUFhLEdBQUcsSUFBSSx1QkFBYSxDQUFDLHNCQUFzQixFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUV6RSxJQUFJLGlCQUFPLENBQUMsc0JBQXNCLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFFbkQsSUFBSSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBRSxDQUFDO0FBQzNELElBQUksaUJBQU8sQ0FBQyxnQkFBZ0IsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUU3QyxJQUFJLEtBQUssR0FBRyxJQUFJLGdCQUFLLEVBQUUsQ0FBQztBQUN4QixLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDdEMsZ0hBQWdIO0FBQ2hILElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztBQUMxQyxhQUFhLENBQUMsUUFBUSxDQUFDLEVBQUMsV0FBVyxFQUFDLGNBQWMsRUFBRSxXQUFXLEVBQUMsY0FBYyxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vbm9kZV9tb2R1bGVzL2NoZXNzLmpzL2Rpc3QvZXNtL2NoZXNzLmpzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL2J1dHRvbnMuY3NzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL2dhbWVOYXZpZ2F0b3IuY3NzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL2hpc3RvcnkuY3NzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvcGFnZXMvbWFzdGVyLmNzcyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL3BhZ2VzL29wZW5pbmdzL29wZW5pbmdzLmNzcyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2dhbWVOYXZpZ2F0b3IvYnV0dG9ucy5jc3M/NzJiNSIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvdjIvZ2FtZU5hdmlnYXRvci9nYW1lTmF2aWdhdG9yLmNzcz9kMTY5Iiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL2hpc3RvcnkuY3NzPzQ2NzgiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9wYWdlcy9tYXN0ZXIuY3NzPzJlYWEiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9wYWdlcy9vcGVuaW5ncy9vcGVuaW5ncy5jc3M/YTgyZSIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9jaGVzc2JvYXJkL0NoZXNzYm9hcmQudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2NoZXNzYm9hcmQvTGF5ZXJzL0Fycm93TGF5ZXIudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2NoZXNzYm9hcmQvTGF5ZXJzL0JvYXJkTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2NoZXNzYm9hcmQvTGF5ZXJzL0NvcmRzTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2NoZXNzYm9hcmQvTGF5ZXJzL1BpZWNlTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2NoZXNzYm9hcmQvTGF5ZXJzL1Jlc3VsdHNMYXllci50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvdjIvY2hlc3Nib2FyZC9Nb3VzZUV2ZW50cy50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvdjIvY2hlc3Nib2FyZC9QaWVjZUVsZW1lbnRGYWN0b3J5LnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9jaGVzc2JvYXJkL1BpZWNlRmFjdG9yeS50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvdjIvY2hlc3Nib2FyZC9TVkcudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2NoZXNzYm9hcmQvU2NyZWVuc2hvdC50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvdjIvY2hlc3Nib2FyZC9TaGFyZWQudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2NoZXNzYm9hcmQvYXNzZXRzL0ljb25zLnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL0J1dHRvbnMudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2dhbWVOYXZpZ2F0b3IvQ2FsbGJhY2tzLnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL0NhcHR1cmVQaWVjZUZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2dhbWVOYXZpZ2F0b3IvQ2FzdGxpbmcudHMiLCJ3ZWJwYWNrOi8vYmVzdC1jaGVzcy1nYW1lcy8uL3NyYy9jb21wb25lbnRzL3YyL2dhbWVOYXZpZ2F0b3IvR2FtZU5hdmlnYXRvci50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvdjIvZ2FtZU5hdmlnYXRvci9IaXN0b3J5LnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL1BpZWNlc1VURi50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL2NvbXBvbmVudHMvdjIvZ2FtZU5hdmlnYXRvci9QbGF5ZXJJbmZvLnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL1RyYW5zaXRpb25zLnRzIiwid2VicGFjazovL2Jlc3QtY2hlc3MtZ2FtZXMvLi9zcmMvY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL2ltZy9JY29ucy50cyIsIndlYnBhY2s6Ly9iZXN0LWNoZXNzLWdhbWVzLy4vc3JjL3BhZ2VzL29wZW5pbmdzL09wZW5pbmdzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAyMywgSmVmZiBIbHl3YSAoamhseXdhQGdtYWlsLmNvbSlcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqXG4gKiAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogICAgYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbiAqIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAqIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4gKiBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBPV05FUiBPUiBDT05UUklCVVRPUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1JcbiAqIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GXG4gKiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1NcbiAqIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOXG4gKiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICogQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5leHBvcnQgY29uc3QgV0hJVEUgPSAndyc7XG5leHBvcnQgY29uc3QgQkxBQ0sgPSAnYic7XG5leHBvcnQgY29uc3QgUEFXTiA9ICdwJztcbmV4cG9ydCBjb25zdCBLTklHSFQgPSAnbic7XG5leHBvcnQgY29uc3QgQklTSE9QID0gJ2InO1xuZXhwb3J0IGNvbnN0IFJPT0sgPSAncic7XG5leHBvcnQgY29uc3QgUVVFRU4gPSAncSc7XG5leHBvcnQgY29uc3QgS0lORyA9ICdrJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1BPU0lUSU9OID0gJ3JuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0gMCAxJztcbmNvbnN0IEVNUFRZID0gLTE7XG5jb25zdCBGTEFHUyA9IHtcbiAgICBOT1JNQUw6ICduJyxcbiAgICBDQVBUVVJFOiAnYycsXG4gICAgQklHX1BBV046ICdiJyxcbiAgICBFUF9DQVBUVVJFOiAnZScsXG4gICAgUFJPTU9USU9OOiAncCcsXG4gICAgS1NJREVfQ0FTVExFOiAnaycsXG4gICAgUVNJREVfQ0FTVExFOiAncScsXG59O1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgY29uc3QgU1FVQVJFUyA9IFtcbiAgICAnYTgnLCAnYjgnLCAnYzgnLCAnZDgnLCAnZTgnLCAnZjgnLCAnZzgnLCAnaDgnLFxuICAgICdhNycsICdiNycsICdjNycsICdkNycsICdlNycsICdmNycsICdnNycsICdoNycsXG4gICAgJ2E2JywgJ2I2JywgJ2M2JywgJ2Q2JywgJ2U2JywgJ2Y2JywgJ2c2JywgJ2g2JyxcbiAgICAnYTUnLCAnYjUnLCAnYzUnLCAnZDUnLCAnZTUnLCAnZjUnLCAnZzUnLCAnaDUnLFxuICAgICdhNCcsICdiNCcsICdjNCcsICdkNCcsICdlNCcsICdmNCcsICdnNCcsICdoNCcsXG4gICAgJ2EzJywgJ2IzJywgJ2MzJywgJ2QzJywgJ2UzJywgJ2YzJywgJ2czJywgJ2gzJyxcbiAgICAnYTInLCAnYjInLCAnYzInLCAnZDInLCAnZTInLCAnZjInLCAnZzInLCAnaDInLFxuICAgICdhMScsICdiMScsICdjMScsICdkMScsICdlMScsICdmMScsICdnMScsICdoMSdcbl07XG5jb25zdCBCSVRTID0ge1xuICAgIE5PUk1BTDogMSxcbiAgICBDQVBUVVJFOiAyLFxuICAgIEJJR19QQVdOOiA0LFxuICAgIEVQX0NBUFRVUkU6IDgsXG4gICAgUFJPTU9USU9OOiAxNixcbiAgICBLU0lERV9DQVNUTEU6IDMyLFxuICAgIFFTSURFX0NBU1RMRTogNjQsXG59O1xuLypcbiAqIE5PVEVTIEFCT1VUIDB4ODggTU9WRSBHRU5FUkFUSU9OIEFMR09SSVRITVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRnJvbSBodHRwczovL2dpdGh1Yi5jb20vamhseXdhL2NoZXNzLmpzL2lzc3Vlcy8yMzBcbiAqXG4gKiBBIGxvdCBvZiBwZW9wbGUgYXJlIGNvbmZ1c2VkIHdoZW4gdGhleSBmaXJzdCBzZWUgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uXG4gKiBvZiBjaGVzcy5qcy4gSXQgdXNlcyB0aGUgMHg4OCBNb3ZlIEdlbmVyYXRpb24gQWxnb3JpdGhtIHdoaWNoIGludGVybmFsbHlcbiAqIHN0b3JlcyB0aGUgYm9hcmQgYXMgYW4gOHgxNiBhcnJheS4gVGhpcyBpcyBwdXJlbHkgZm9yIGVmZmljaWVuY3kgYnV0IGhhcyBhXG4gKiBjb3VwbGUgb2YgaW50ZXJlc3RpbmcgYmVuZWZpdHM6XG4gKlxuICogMS4gMHg4OCBvZmZlcnMgYSB2ZXJ5IGluZXhwZW5zaXZlIFwib2ZmIHRoZSBib2FyZFwiIGNoZWNrLiBCaXR3aXNlIEFORCAoJikgYW55XG4gKiAgICBzcXVhcmUgd2l0aCAweDg4LCBpZiB0aGUgcmVzdWx0IGlzIG5vbi16ZXJvIHRoZW4gdGhlIHNxdWFyZSBpcyBvZmYgdGhlXG4gKiAgICBib2FyZC4gRm9yIGV4YW1wbGUsIGFzc3VtaW5nIGEga25pZ2h0IHNxdWFyZSBBOCAoMCBpbiAweDg4IG5vdGF0aW9uKSxcbiAqICAgIHRoZXJlIGFyZSA4IHBvc3NpYmxlIGRpcmVjdGlvbnMgaW4gd2hpY2ggdGhlIGtuaWdodCBjYW4gbW92ZS4gVGhlc2VcbiAqICAgIGRpcmVjdGlvbnMgYXJlIHJlbGF0aXZlIHRvIHRoZSA4eDE2IGJvYXJkIGFuZCBhcmUgc3RvcmVkIGluIHRoZVxuICogICAgUElFQ0VfT0ZGU0VUUyBtYXAuIE9uZSBwb3NzaWJsZSBtb3ZlIGlzIEE4IC0gMTggKHVwIG9uZSBzcXVhcmUsIGFuZCB0d29cbiAqICAgIHNxdWFyZXMgdG8gdGhlIGxlZnQgLSB3aGljaCBpcyBvZmYgdGhlIGJvYXJkKS4gMCAtIDE4ID0gLTE4ICYgMHg4OCA9IDB4ODhcbiAqICAgIChiZWNhdXNlIG9mIHR3by1jb21wbGVtZW50IHJlcHJlc2VudGF0aW9uIG9mIC0xOCkuIFRoZSBub24temVybyByZXN1bHRcbiAqICAgIG1lYW5zIHRoZSBzcXVhcmUgaXMgb2ZmIHRoZSBib2FyZCBhbmQgdGhlIG1vdmUgaXMgaWxsZWdhbC4gVGFrZSB0aGVcbiAqICAgIG9wcG9zaXRlIG1vdmUgKGZyb20gQTggdG8gQzcpLCAwICsgMTggPSAxOCAmIDB4ODggPSAwLiBBIHJlc3VsdCBvZiB6ZXJvXG4gKiAgICBtZWFucyB0aGUgc3F1YXJlIGlzIG9uIHRoZSBib2FyZC5cbiAqXG4gKiAyLiBUaGUgcmVsYXRpdmUgZGlzdGFuY2UgKG9yIGRpZmZlcmVuY2UpIGJldHdlZW4gdHdvIHNxdWFyZXMgb24gYSA4eDE2IGJvYXJkXG4gKiAgICBpcyB1bmlxdWUgYW5kIGNhbiBiZSB1c2VkIHRvIGluZXhwZW5zaXZlbHkgZGV0ZXJtaW5lIGlmIGEgcGllY2Ugb24gYVxuICogICAgc3F1YXJlIGNhbiBhdHRhY2sgYW55IG90aGVyIGFyYml0cmFyeSBzcXVhcmUuIEZvciBleGFtcGxlLCBsZXQncyBzZWUgaWYgYVxuICogICAgcGF3biBvbiBFNyBjYW4gYXR0YWNrIEUyLiBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIEU3ICgyMCkgLSBFMiAoMTAwKSBpc1xuICogICAgLTgwLiBXZSBhZGQgMTE5IHRvIG1ha2UgdGhlIEFUVEFDS1MgYXJyYXkgaW5kZXggbm9uLW5lZ2F0aXZlIChiZWNhdXNlIHRoZVxuICogICAgd29yc3QgY2FzZSBkaWZmZXJlbmNlIGlzIEE4IC0gSDEgPSAtMTE5KS4gVGhlIEFUVEFDS1MgYXJyYXkgY29udGFpbnMgYVxuICogICAgYml0bWFzayBvZiBwaWVjZXMgdGhhdCBjYW4gYXR0YWNrIGZyb20gdGhhdCBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uLlxuICogICAgQVRUQUNLU1stODAgKyAxMTk9MzldIGdpdmVzIHVzIDI0IG9yIDBiMTEwMDAgaW4gYmluYXJ5LiBMb29rIGF0IHRoZVxuICogICAgUElFQ0VfTUFTS1MgbWFwIHRvIGRldGVybWluZSB0aGUgbWFzayBmb3IgYSBnaXZlbiBwaWVjZSB0eXBlLiBJbiBvdXIgcGF3blxuICogICAgZXhhbXBsZSwgd2Ugd291bGQgY2hlY2sgdG8gc2VlIGlmIDI0ICYgMHgxIGlzIG5vbi16ZXJvLCB3aGljaCBpdCBpc1xuICogICAgbm90LiBTbywgbmF0dXJhbGx5LCBhIHBhd24gb24gRTcgY2FuJ3QgYXR0YWNrIGEgcGllY2Ugb24gRTIuIEhvd2V2ZXIsIGFcbiAqICAgIHJvb2sgY2FuIHNpbmNlIDI0ICYgMHg4IGlzIG5vbi16ZXJvLiBUaGUgb25seSB0aGluZyBsZWZ0IHRvIGNoZWNrIGlzIHRoYXRcbiAqICAgIHRoZXJlIGFyZSBubyBibG9ja2luZyBwaWVjZXMgYmV0d2VlbiBFNyBhbmQgRTIuIFRoYXQncyB3aGVyZSB0aGUgUkFZU1xuICogICAgYXJyYXkgY29tZXMgaW4uIEl0IHByb3ZpZGVzIGFuIG9mZnNldCAoaW4gdGhpcyBjYXNlIDE2KSB0byBhZGQgdG8gRTcgKDIwKVxuICogICAgdG8gY2hlY2sgZm9yIGJsb2NraW5nIHBpZWNlcy4gRTcgKDIwKSArIDE2ID0gRTYgKDM2KSArIDE2ID0gRTUgKDUyKSBldGMuXG4gKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5jb25zdCBPeDg4ID0ge1xuICAgIGE4OiAwLCBiODogMSwgYzg6IDIsIGQ4OiAzLCBlODogNCwgZjg6IDUsIGc4OiA2LCBoODogNyxcbiAgICBhNzogMTYsIGI3OiAxNywgYzc6IDE4LCBkNzogMTksIGU3OiAyMCwgZjc6IDIxLCBnNzogMjIsIGg3OiAyMyxcbiAgICBhNjogMzIsIGI2OiAzMywgYzY6IDM0LCBkNjogMzUsIGU2OiAzNiwgZjY6IDM3LCBnNjogMzgsIGg2OiAzOSxcbiAgICBhNTogNDgsIGI1OiA0OSwgYzU6IDUwLCBkNTogNTEsIGU1OiA1MiwgZjU6IDUzLCBnNTogNTQsIGg1OiA1NSxcbiAgICBhNDogNjQsIGI0OiA2NSwgYzQ6IDY2LCBkNDogNjcsIGU0OiA2OCwgZjQ6IDY5LCBnNDogNzAsIGg0OiA3MSxcbiAgICBhMzogODAsIGIzOiA4MSwgYzM6IDgyLCBkMzogODMsIGUzOiA4NCwgZjM6IDg1LCBnMzogODYsIGgzOiA4NyxcbiAgICBhMjogOTYsIGIyOiA5NywgYzI6IDk4LCBkMjogOTksIGUyOiAxMDAsIGYyOiAxMDEsIGcyOiAxMDIsIGgyOiAxMDMsXG4gICAgYTE6IDExMiwgYjE6IDExMywgYzE6IDExNCwgZDE6IDExNSwgZTE6IDExNiwgZjE6IDExNywgZzE6IDExOCwgaDE6IDExOVxufTtcbmNvbnN0IFBBV05fT0ZGU0VUUyA9IHtcbiAgICBiOiBbMTYsIDMyLCAxNywgMTVdLFxuICAgIHc6IFstMTYsIC0zMiwgLTE3LCAtMTVdLFxufTtcbmNvbnN0IFBJRUNFX09GRlNFVFMgPSB7XG4gICAgbjogWy0xOCwgLTMzLCAtMzEsIC0xNCwgMTgsIDMzLCAzMSwgMTRdLFxuICAgIGI6IFstMTcsIC0xNSwgMTcsIDE1XSxcbiAgICByOiBbLTE2LCAxLCAxNiwgLTFdLFxuICAgIHE6IFstMTcsIC0xNiwgLTE1LCAxLCAxNywgMTYsIDE1LCAtMV0sXG4gICAgazogWy0xNywgLTE2LCAtMTUsIDEsIDE3LCAxNiwgMTUsIC0xXSxcbn07XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IEFUVEFDS1MgPSBbXG4gICAgMjAsIDAsIDAsIDAsIDAsIDAsIDAsIDI0LCAwLCAwLCAwLCAwLCAwLCAwLCAyMCwgMCxcbiAgICAwLCAyMCwgMCwgMCwgMCwgMCwgMCwgMjQsIDAsIDAsIDAsIDAsIDAsIDIwLCAwLCAwLFxuICAgIDAsIDAsIDIwLCAwLCAwLCAwLCAwLCAyNCwgMCwgMCwgMCwgMCwgMjAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMjAsIDAsIDAsIDAsIDI0LCAwLCAwLCAwLCAyMCwgMCwgMCwgMCwgMCxcbiAgICAwLCAwLCAwLCAwLCAyMCwgMCwgMCwgMjQsIDAsIDAsIDIwLCAwLCAwLCAwLCAwLCAwLFxuICAgIDAsIDAsIDAsIDAsIDAsIDIwLCAyLCAyNCwgMiwgMjAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMCwgMCwgMiwgNTMsIDU2LCA1MywgMiwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAyNCwgMjQsIDI0LCAyNCwgMjQsIDI0LCA1NiwgMCwgNTYsIDI0LCAyNCwgMjQsIDI0LCAyNCwgMjQsIDAsXG4gICAgMCwgMCwgMCwgMCwgMCwgMiwgNTMsIDU2LCA1MywgMiwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAwLCAwLCAwLCAwLCAwLCAyMCwgMiwgMjQsIDIsIDIwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgIDAsIDAsIDAsIDAsIDIwLCAwLCAwLCAyNCwgMCwgMCwgMjAsIDAsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMjAsIDAsIDAsIDAsIDI0LCAwLCAwLCAwLCAyMCwgMCwgMCwgMCwgMCxcbiAgICAwLCAwLCAyMCwgMCwgMCwgMCwgMCwgMjQsIDAsIDAsIDAsIDAsIDIwLCAwLCAwLCAwLFxuICAgIDAsIDIwLCAwLCAwLCAwLCAwLCAwLCAyNCwgMCwgMCwgMCwgMCwgMCwgMjAsIDAsIDAsXG4gICAgMjAsIDAsIDAsIDAsIDAsIDAsIDAsIDI0LCAwLCAwLCAwLCAwLCAwLCAwLCAyMFxuXTtcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgUkFZUyA9IFtcbiAgICAxNywgMCwgMCwgMCwgMCwgMCwgMCwgMTYsIDAsIDAsIDAsIDAsIDAsIDAsIDE1LCAwLFxuICAgIDAsIDE3LCAwLCAwLCAwLCAwLCAwLCAxNiwgMCwgMCwgMCwgMCwgMCwgMTUsIDAsIDAsXG4gICAgMCwgMCwgMTcsIDAsIDAsIDAsIDAsIDE2LCAwLCAwLCAwLCAwLCAxNSwgMCwgMCwgMCxcbiAgICAwLCAwLCAwLCAxNywgMCwgMCwgMCwgMTYsIDAsIDAsIDAsIDE1LCAwLCAwLCAwLCAwLFxuICAgIDAsIDAsIDAsIDAsIDE3LCAwLCAwLCAxNiwgMCwgMCwgMTUsIDAsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMCwgMCwgMTcsIDAsIDE2LCAwLCAxNSwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAwLCAwLCAwLCAwLCAwLCAwLCAxNywgMTYsIDE1LCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAgIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAwLFxuICAgIDAsIDAsIDAsIDAsIDAsIDAsIC0xNSwgLTE2LCAtMTcsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgMCwgMCwgMCwgLTE1LCAwLCAtMTYsIDAsIC0xNywgMCwgMCwgMCwgMCwgMCwgMCxcbiAgICAwLCAwLCAwLCAwLCAtMTUsIDAsIDAsIC0xNiwgMCwgMCwgLTE3LCAwLCAwLCAwLCAwLCAwLFxuICAgIDAsIDAsIDAsIC0xNSwgMCwgMCwgMCwgLTE2LCAwLCAwLCAwLCAtMTcsIDAsIDAsIDAsIDAsXG4gICAgMCwgMCwgLTE1LCAwLCAwLCAwLCAwLCAtMTYsIDAsIDAsIDAsIDAsIC0xNywgMCwgMCwgMCxcbiAgICAwLCAtMTUsIDAsIDAsIDAsIDAsIDAsIC0xNiwgMCwgMCwgMCwgMCwgMCwgLTE3LCAwLCAwLFxuICAgIC0xNSwgMCwgMCwgMCwgMCwgMCwgMCwgLTE2LCAwLCAwLCAwLCAwLCAwLCAwLCAtMTdcbl07XG5jb25zdCBQSUVDRV9NQVNLUyA9IHsgcDogMHgxLCBuOiAweDIsIGI6IDB4NCwgcjogMHg4LCBxOiAweDEwLCBrOiAweDIwIH07XG5jb25zdCBTWU1CT0xTID0gJ3BuYnJxa1BOQlJRSyc7XG5jb25zdCBQUk9NT1RJT05TID0gW0tOSUdIVCwgQklTSE9QLCBST09LLCBRVUVFTl07XG5jb25zdCBSQU5LXzEgPSA3O1xuY29uc3QgUkFOS18yID0gNjtcbi8qXG4gKiBjb25zdCBSQU5LXzMgPSA1XG4gKiBjb25zdCBSQU5LXzQgPSA0XG4gKiBjb25zdCBSQU5LXzUgPSAzXG4gKiBjb25zdCBSQU5LXzYgPSAyXG4gKi9cbmNvbnN0IFJBTktfNyA9IDE7XG5jb25zdCBSQU5LXzggPSAwO1xuY29uc3QgU0lERVMgPSB7XG4gICAgW0tJTkddOiBCSVRTLktTSURFX0NBU1RMRSxcbiAgICBbUVVFRU5dOiBCSVRTLlFTSURFX0NBU1RMRSxcbn07XG5jb25zdCBST09LUyA9IHtcbiAgICB3OiBbXG4gICAgICAgIHsgc3F1YXJlOiBPeDg4LmExLCBmbGFnOiBCSVRTLlFTSURFX0NBU1RMRSB9LFxuICAgICAgICB7IHNxdWFyZTogT3g4OC5oMSwgZmxhZzogQklUUy5LU0lERV9DQVNUTEUgfSxcbiAgICBdLFxuICAgIGI6IFtcbiAgICAgICAgeyBzcXVhcmU6IE94ODguYTgsIGZsYWc6IEJJVFMuUVNJREVfQ0FTVExFIH0sXG4gICAgICAgIHsgc3F1YXJlOiBPeDg4Lmg4LCBmbGFnOiBCSVRTLktTSURFX0NBU1RMRSB9LFxuICAgIF0sXG59O1xuY29uc3QgU0VDT05EX1JBTksgPSB7IGI6IFJBTktfNywgdzogUkFOS18yIH07XG5jb25zdCBURVJNSU5BVElPTl9NQVJLRVJTID0gWycxLTAnLCAnMC0xJywgJzEvMi0xLzInLCAnKiddO1xuLy8gRXh0cmFjdHMgdGhlIHplcm8tYmFzZWQgcmFuayBvZiBhbiAweDg4IHNxdWFyZS5cbmZ1bmN0aW9uIHJhbmsoc3F1YXJlKSB7XG4gICAgcmV0dXJuIHNxdWFyZSA+PiA0O1xufVxuLy8gRXh0cmFjdHMgdGhlIHplcm8tYmFzZWQgZmlsZSBvZiBhbiAweDg4IHNxdWFyZS5cbmZ1bmN0aW9uIGZpbGUoc3F1YXJlKSB7XG4gICAgcmV0dXJuIHNxdWFyZSAmIDB4Zjtcbn1cbmZ1bmN0aW9uIGlzRGlnaXQoYykge1xuICAgIHJldHVybiAnMDEyMzQ1Njc4OScuaW5kZXhPZihjKSAhPT0gLTE7XG59XG4vLyBDb252ZXJ0cyBhIDB4ODggc3F1YXJlIHRvIGFsZ2VicmFpYyBub3RhdGlvbi5cbmZ1bmN0aW9uIGFsZ2VicmFpYyhzcXVhcmUpIHtcbiAgICBjb25zdCBmID0gZmlsZShzcXVhcmUpO1xuICAgIGNvbnN0IHIgPSByYW5rKHNxdWFyZSk7XG4gICAgcmV0dXJuICgnYWJjZGVmZ2gnLnN1YnN0cmluZyhmLCBmICsgMSkgK1xuICAgICAgICAnODc2NTQzMjEnLnN1YnN0cmluZyhyLCByICsgMSkpO1xufVxuZnVuY3Rpb24gc3dhcENvbG9yKGNvbG9yKSB7XG4gICAgcmV0dXJuIGNvbG9yID09PSBXSElURSA/IEJMQUNLIDogV0hJVEU7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVGZW4oZmVuKSB7XG4gICAgLy8gMXN0IGNyaXRlcmlvbjogNiBzcGFjZS1zZXBlcmF0ZWQgZmllbGRzP1xuICAgIGNvbnN0IHRva2VucyA9IGZlbi5zcGxpdCgvXFxzKy8pO1xuICAgIGlmICh0b2tlbnMubGVuZ3RoICE9PSA2KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogJ0ludmFsaWQgRkVOOiBtdXN0IGNvbnRhaW4gc2l4IHNwYWNlLWRlbGltaXRlZCBmaWVsZHMnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyAybmQgY3JpdGVyaW9uOiBtb3ZlIG51bWJlciBmaWVsZCBpcyBhIGludGVnZXIgdmFsdWUgPiAwP1xuICAgIGNvbnN0IG1vdmVOdW1iZXIgPSBwYXJzZUludCh0b2tlbnNbNV0sIDEwKTtcbiAgICBpZiAoaXNOYU4obW92ZU51bWJlcikgfHwgbW92ZU51bWJlciA8PSAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogJ0ludmFsaWQgRkVOOiBtb3ZlIG51bWJlciBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlcicsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIDNyZCBjcml0ZXJpb246IGhhbGYgbW92ZSBjb3VudGVyIGlzIGFuIGludGVnZXIgPj0gMD9cbiAgICBjb25zdCBoYWxmTW92ZXMgPSBwYXJzZUludCh0b2tlbnNbNF0sIDEwKTtcbiAgICBpZiAoaXNOYU4oaGFsZk1vdmVzKSB8fCBoYWxmTW92ZXMgPCAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogJ0ludmFsaWQgRkVOOiBoYWxmIG1vdmUgY291bnRlciBudW1iZXIgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gNHRoIGNyaXRlcmlvbjogNHRoIGZpZWxkIGlzIGEgdmFsaWQgZS5wLi1zdHJpbmc/XG4gICAgaWYgKCEvXigtfFthYmNkZWZnaF1bMzZdKSQvLnRlc3QodG9rZW5zWzNdKSkge1xuICAgICAgICByZXR1cm4geyBvazogZmFsc2UsIGVycm9yOiAnSW52YWxpZCBGRU46IGVuLXBhc3NhbnQgc3F1YXJlIGlzIGludmFsaWQnIH07XG4gICAgfVxuICAgIC8vIDV0aCBjcml0ZXJpb246IDN0aCBmaWVsZCBpcyBhIHZhbGlkIGNhc3RsZS1zdHJpbmc/XG4gICAgaWYgKC9bXmtLcVEtXS8udGVzdCh0b2tlbnNbMl0pKSB7XG4gICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIEZFTjogY2FzdGxpbmcgYXZhaWxhYmlsaXR5IGlzIGludmFsaWQnIH07XG4gICAgfVxuICAgIC8vIDZ0aCBjcml0ZXJpb246IDJuZCBmaWVsZCBpcyBcIndcIiAod2hpdGUpIG9yIFwiYlwiIChibGFjayk/XG4gICAgaWYgKCEvXih3fGIpJC8udGVzdCh0b2tlbnNbMV0pKSB7XG4gICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIEZFTjogc2lkZS10by1tb3ZlIGlzIGludmFsaWQnIH07XG4gICAgfVxuICAgIC8vIDd0aCBjcml0ZXJpb246IDFzdCBmaWVsZCBjb250YWlucyA4IHJvd3M/XG4gICAgY29uc3Qgcm93cyA9IHRva2Vuc1swXS5zcGxpdCgnLycpO1xuICAgIGlmIChyb3dzLmxlbmd0aCAhPT0gOCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IFwiSW52YWxpZCBGRU46IHBpZWNlIGRhdGEgZG9lcyBub3QgY29udGFpbiA4ICcvJy1kZWxpbWl0ZWQgcm93c1wiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyA4dGggY3JpdGVyaW9uOiBldmVyeSByb3cgaXMgdmFsaWQ/XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGNoZWNrIGZvciByaWdodCBzdW0gb2YgZmllbGRzIEFORCBub3QgdHdvIG51bWJlcnMgaW4gc3VjY2Vzc2lvblxuICAgICAgICBsZXQgc3VtRmllbGRzID0gMDtcbiAgICAgICAgbGV0IHByZXZpb3VzV2FzTnVtYmVyID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcm93c1tpXS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgaWYgKGlzRGlnaXQocm93c1tpXVtrXSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNXYXNOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBGRU46IHBpZWNlIGRhdGEgaXMgaW52YWxpZCAoY29uc2VjdXRpdmUgbnVtYmVyKScsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1bUZpZWxkcyArPSBwYXJzZUludChyb3dzW2ldW2tdLCAxMCk7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNXYXNOdW1iZXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCEvXltwcm5icWtQUk5CUUtdJC8udGVzdChyb3dzW2ldW2tdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIEZFTjogcGllY2UgZGF0YSBpcyBpbnZhbGlkIChpbnZhbGlkIHBpZWNlKScsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1bUZpZWxkcyArPSAxO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzV2FzTnVtYmVyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1bUZpZWxkcyAhPT0gOCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIEZFTjogcGllY2UgZGF0YSBpcyBpbnZhbGlkICh0b28gbWFueSBzcXVhcmVzIGluIHJhbmspJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gOXRoIGNyaXRlcmlvbjogaXMgZW4tcGFzc2FudCBzcXVhcmUgbGVnYWw/XG4gICAgaWYgKCh0b2tlbnNbM11bMV0gPT0gJzMnICYmIHRva2Vuc1sxXSA9PSAndycpIHx8XG4gICAgICAgICh0b2tlbnNbM11bMV0gPT0gJzYnICYmIHRva2Vuc1sxXSA9PSAnYicpKSB7XG4gICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIEZFTjogaWxsZWdhbCBlbi1wYXNzYW50IHNxdWFyZScgfTtcbiAgICB9XG4gICAgLy8gMTB0aCBjcml0ZXJpb246IGRvZXMgY2hlc3MgcG9zaXRpb24gY29udGFpbiBleGFjdCB0d28ga2luZ3M/XG4gICAgY29uc3Qga2luZ3MgPSBbXG4gICAgICAgIHsgY29sb3I6ICd3aGl0ZScsIHJlZ2V4OiAvSy9nIH0sXG4gICAgICAgIHsgY29sb3I6ICdibGFjaycsIHJlZ2V4OiAvay9nIH0sXG4gICAgXTtcbiAgICBmb3IgKGNvbnN0IHsgY29sb3IsIHJlZ2V4IH0gb2Yga2luZ3MpIHtcbiAgICAgICAgaWYgKCFyZWdleC50ZXN0KHRva2Vuc1swXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG9rOiBmYWxzZSwgZXJyb3I6IGBJbnZhbGlkIEZFTjogbWlzc2luZyAke2NvbG9yfSBraW5nYCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICgodG9rZW5zWzBdLm1hdGNoKHJlZ2V4KSB8fCBbXSkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgb2s6IGZhbHNlLCBlcnJvcjogYEludmFsaWQgRkVOOiB0b28gbWFueSAke2NvbG9yfSBraW5nc2AgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAxMXRoIGNyaXRlcmlvbjogYXJlIGFueSBwYXducyBvbiB0aGUgZmlyc3Qgb3IgZWlnaHRoIHJvd3M/XG4gICAgaWYgKEFycmF5LmZyb20ocm93c1swXSArIHJvd3NbN10pLnNvbWUoKGNoYXIpID0+IGNoYXIudG9VcHBlckNhc2UoKSA9PT0gJ1AnKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIEZFTjogc29tZSBwYXducyBhcmUgb24gdGhlIGVkZ2Ugcm93cycsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IG9rOiB0cnVlIH07XG59XG4vLyB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gdW5pcXVlbHkgaWRlbnRpZnkgYW1iaWd1b3VzIG1vdmVzXG5mdW5jdGlvbiBnZXREaXNhbWJpZ3VhdG9yKG1vdmUsIG1vdmVzKSB7XG4gICAgY29uc3QgZnJvbSA9IG1vdmUuZnJvbTtcbiAgICBjb25zdCB0byA9IG1vdmUudG87XG4gICAgY29uc3QgcGllY2UgPSBtb3ZlLnBpZWNlO1xuICAgIGxldCBhbWJpZ3VpdGllcyA9IDA7XG4gICAgbGV0IHNhbWVSYW5rID0gMDtcbiAgICBsZXQgc2FtZUZpbGUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBtb3Zlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBhbWJpZ0Zyb20gPSBtb3Zlc1tpXS5mcm9tO1xuICAgICAgICBjb25zdCBhbWJpZ1RvID0gbW92ZXNbaV0udG87XG4gICAgICAgIGNvbnN0IGFtYmlnUGllY2UgPSBtb3Zlc1tpXS5waWVjZTtcbiAgICAgICAgLypcbiAgICAgICAgICogaWYgYSBtb3ZlIG9mIHRoZSBzYW1lIHBpZWNlIHR5cGUgZW5kcyBvbiB0aGUgc2FtZSB0byBzcXVhcmUsIHdlJ2xsIG5lZWRcbiAgICAgICAgICogdG8gYWRkIGEgZGlzYW1iaWd1YXRvciB0byB0aGUgYWxnZWJyYWljIG5vdGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocGllY2UgPT09IGFtYmlnUGllY2UgJiYgZnJvbSAhPT0gYW1iaWdGcm9tICYmIHRvID09PSBhbWJpZ1RvKSB7XG4gICAgICAgICAgICBhbWJpZ3VpdGllcysrO1xuICAgICAgICAgICAgaWYgKHJhbmsoZnJvbSkgPT09IHJhbmsoYW1iaWdGcm9tKSkge1xuICAgICAgICAgICAgICAgIHNhbWVSYW5rKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsZShmcm9tKSA9PT0gZmlsZShhbWJpZ0Zyb20pKSB7XG4gICAgICAgICAgICAgICAgc2FtZUZpbGUrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYW1iaWd1aXRpZXMgPiAwKSB7XG4gICAgICAgIGlmIChzYW1lUmFuayA+IDAgJiYgc2FtZUZpbGUgPiAwKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogaWYgdGhlcmUgZXhpc3RzIGEgc2ltaWxhciBtb3ZpbmcgcGllY2Ugb24gdGhlIHNhbWUgcmFuayBhbmQgZmlsZSBhc1xuICAgICAgICAgICAgICogdGhlIG1vdmUgaW4gcXVlc3Rpb24sIHVzZSB0aGUgc3F1YXJlIGFzIHRoZSBkaXNhbWJpZ3VhdG9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBhbGdlYnJhaWMoZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2FtZUZpbGUgPiAwKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogaWYgdGhlIG1vdmluZyBwaWVjZSByZXN0cyBvbiB0aGUgc2FtZSBmaWxlLCB1c2UgdGhlIHJhbmsgc3ltYm9sIGFzIHRoZVxuICAgICAgICAgICAgICogZGlzYW1iaWd1YXRvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXR1cm4gYWxnZWJyYWljKGZyb20pLmNoYXJBdCgxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVsc2UgdXNlIHRoZSBmaWxlIHN5bWJvbFxuICAgICAgICAgICAgcmV0dXJuIGFsZ2VicmFpYyhmcm9tKS5jaGFyQXQoMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuZnVuY3Rpb24gYWRkTW92ZShtb3ZlcywgY29sb3IsIGZyb20sIHRvLCBwaWVjZSwgY2FwdHVyZWQgPSB1bmRlZmluZWQsIGZsYWdzID0gQklUUy5OT1JNQUwpIHtcbiAgICBjb25zdCByID0gcmFuayh0byk7XG4gICAgaWYgKHBpZWNlID09PSBQQVdOICYmIChyID09PSBSQU5LXzEgfHwgciA9PT0gUkFOS184KSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFBST01PVElPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21vdGlvbiA9IFBST01PVElPTlNbaV07XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgIHBpZWNlLFxuICAgICAgICAgICAgICAgIGNhcHR1cmVkLFxuICAgICAgICAgICAgICAgIHByb21vdGlvbixcbiAgICAgICAgICAgICAgICBmbGFnczogZmxhZ3MgfCBCSVRTLlBST01PVElPTixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtb3Zlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgcGllY2UsXG4gICAgICAgICAgICBjYXB0dXJlZCxcbiAgICAgICAgICAgIGZsYWdzLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbmZlclBpZWNlVHlwZShzYW4pIHtcbiAgICBsZXQgcGllY2VUeXBlID0gc2FuLmNoYXJBdCgwKTtcbiAgICBpZiAocGllY2VUeXBlID49ICdhJyAmJiBwaWVjZVR5cGUgPD0gJ2gnKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBzYW4ubWF0Y2goL1thLWhdXFxkLipbYS1oXVxcZC8pO1xuICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUEFXTjtcbiAgICB9XG4gICAgcGllY2VUeXBlID0gcGllY2VUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHBpZWNlVHlwZSA9PT0gJ28nKSB7XG4gICAgICAgIHJldHVybiBLSU5HO1xuICAgIH1cbiAgICByZXR1cm4gcGllY2VUeXBlO1xufVxuLy8gcGFyc2VzIGFsbCBvZiB0aGUgZGVjb3JhdG9ycyBvdXQgb2YgYSBTQU4gc3RyaW5nXG5mdW5jdGlvbiBzdHJpcHBlZFNhbihtb3ZlKSB7XG4gICAgcmV0dXJuIG1vdmUucmVwbGFjZSgvPS8sICcnKS5yZXBsYWNlKC9bKyNdP1s/IV0qJC8sICcnKTtcbn1cbmZ1bmN0aW9uIHRyaW1GZW4oZmVuKSB7XG4gICAgLypcbiAgICAgKiByZW1vdmUgbGFzdCB0d28gZmllbGRzIGluIEZFTiBzdHJpbmcgYXMgdGhleSdyZSBub3QgbmVlZGVkIHdoZW4gY2hlY2tpbmdcbiAgICAgKiBmb3IgcmVwZXRpdGlvblxuICAgICAqL1xuICAgIHJldHVybiBmZW4uc3BsaXQoJyAnKS5zbGljZSgwLCA0KS5qb2luKCcgJyk7XG59XG5leHBvcnQgY2xhc3MgQ2hlc3Mge1xuICAgIF9ib2FyZCA9IG5ldyBBcnJheSgxMjgpO1xuICAgIF90dXJuID0gV0hJVEU7XG4gICAgX2hlYWRlciA9IHt9O1xuICAgIF9raW5ncyA9IHsgdzogRU1QVFksIGI6IEVNUFRZIH07XG4gICAgX2VwU3F1YXJlID0gLTE7XG4gICAgX2hhbGZNb3ZlcyA9IDA7XG4gICAgX21vdmVOdW1iZXIgPSAwO1xuICAgIF9oaXN0b3J5ID0gW107XG4gICAgX2NvbW1lbnRzID0ge307XG4gICAgX2Nhc3RsaW5nID0geyB3OiAwLCBiOiAwIH07XG4gICAgX3Bvc2l0aW9uQ291bnRzID0ge307XG4gICAgY29uc3RydWN0b3IoZmVuID0gREVGQVVMVF9QT1NJVElPTikge1xuICAgICAgICB0aGlzLmxvYWQoZmVuKTtcbiAgICB9XG4gICAgY2xlYXIoeyBwcmVzZXJ2ZUhlYWRlcnMgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5fYm9hcmQgPSBuZXcgQXJyYXkoMTI4KTtcbiAgICAgICAgdGhpcy5fa2luZ3MgPSB7IHc6IEVNUFRZLCBiOiBFTVBUWSB9O1xuICAgICAgICB0aGlzLl90dXJuID0gV0hJVEU7XG4gICAgICAgIHRoaXMuX2Nhc3RsaW5nID0geyB3OiAwLCBiOiAwIH07XG4gICAgICAgIHRoaXMuX2VwU3F1YXJlID0gRU1QVFk7XG4gICAgICAgIHRoaXMuX2hhbGZNb3ZlcyA9IDA7XG4gICAgICAgIHRoaXMuX21vdmVOdW1iZXIgPSAxO1xuICAgICAgICB0aGlzLl9oaXN0b3J5ID0gW107XG4gICAgICAgIHRoaXMuX2NvbW1lbnRzID0ge307XG4gICAgICAgIHRoaXMuX2hlYWRlciA9IHByZXNlcnZlSGVhZGVycyA/IHRoaXMuX2hlYWRlciA6IHt9O1xuICAgICAgICAvKlxuICAgICAgICAgKiBEZWxldGUgdGhlIFNldFVwIGFuZCBGRU4gaGVhZGVycyAoaWYgcHJlc2VydmVkKSwgdGhlIGJvYXJkIGlzIGVtcHR5IGFuZFxuICAgICAgICAgKiB0aGVzZSBoZWFkZXJzIGRvbid0IG1ha2Ugc2Vuc2UgaW4gdGhpcyBzdGF0ZS4gVGhleSdsbCBnZXQgYWRkZWQgbGF0ZXJcbiAgICAgICAgICogdmlhIC5sb2FkKCkgb3IgLnB1dCgpXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGUgdGhpcy5faGVhZGVyWydTZXRVcCddO1xuICAgICAgICBkZWxldGUgdGhpcy5faGVhZGVyWydGRU4nXTtcbiAgICAgICAgLypcbiAgICAgICAgICogSW5zdGFudGlhdGUgYSBwcm94eSB0aGF0IGtlZXBzIHRyYWNrIG9mIHBvc2l0aW9uIG9jY3VycmVuY2UgY291bnRzIGZvciB0aGUgcHVycG9zZVxuICAgICAgICAgKiBvZiByZXBldGl0aW9uIGNoZWNraW5nLiBUaGUgZ2V0dGVyIGFuZCBzZXR0ZXIgbWV0aG9kcyBhdXRvbWF0aWNhbGx5IGhhbmRsZSB0cmltbWluZ1xuICAgICAgICAgKiBpcnJlbGV2ZW50IGluZm9ybWF0aW9uIGZyb20gdGhlIGZlbiwgaW5pdGlhbGlzaW5nIG5ldyBwb3NpdGlvbnMsIGFuZCByZW1vdmluZyBvbGRcbiAgICAgICAgICogcG9zaXRpb25zIGZyb20gdGhlIHJlY29yZCBpZiB0aGVpciBjb3VudHMgYXJlIHJlZHVjZWQgdG8gMC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uQ291bnRzID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgICAgICBnZXQ6ICh0YXJnZXQsIHBvc2l0aW9uKSA9PiBwb3NpdGlvbiA9PT0gJ2xlbmd0aCdcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5rZXlzKHRhcmdldCkubGVuZ3RoIC8vIGxlbmd0aCBmb3IgdW5pdCB0ZXN0aW5nXG4gICAgICAgICAgICAgICAgOiB0YXJnZXQ/Llt0cmltRmVuKHBvc2l0aW9uKV0gfHwgMCxcbiAgICAgICAgICAgIHNldDogKHRhcmdldCwgcG9zaXRpb24sIGNvdW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZEZlbiA9IHRyaW1GZW4ocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldFt0cmltbWVkRmVuXTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFt0cmltbWVkRmVuXSA9IGNvdW50O1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZUhlYWRlcihrZXkpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9oZWFkZXIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9oZWFkZXJba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2FkKGZlbiwgeyBza2lwVmFsaWRhdGlvbiA9IGZhbHNlLCBwcmVzZXJ2ZUhlYWRlcnMgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgbGV0IHRva2VucyA9IGZlbi5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAvLyBhcHBlbmQgY29tbW9ubHkgb21pdHRlZCBmZW4gdG9rZW5zXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID49IDIgJiYgdG9rZW5zLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgICAgIGNvbnN0IGFkanVzdG1lbnRzID0gWyctJywgJy0nLCAnMCcsICcxJ107XG4gICAgICAgICAgICBmZW4gPSB0b2tlbnMuY29uY2F0KGFkanVzdG1lbnRzLnNsaWNlKC0oNiAtIHRva2Vucy5sZW5ndGgpKSkuam9pbignICcpO1xuICAgICAgICB9XG4gICAgICAgIHRva2VucyA9IGZlbi5zcGxpdCgvXFxzKy8pO1xuICAgICAgICBpZiAoIXNraXBWYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9rLCBlcnJvciB9ID0gdmFsaWRhdGVGZW4oZmVuKTtcbiAgICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdG9rZW5zWzBdO1xuICAgICAgICBsZXQgc3F1YXJlID0gMDtcbiAgICAgICAgdGhpcy5jbGVhcih7IHByZXNlcnZlSGVhZGVycyB9KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NpdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGllY2UgPSBwb3NpdGlvbi5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpZiAocGllY2UgPT09ICcvJykge1xuICAgICAgICAgICAgICAgIHNxdWFyZSArPSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEaWdpdChwaWVjZSkpIHtcbiAgICAgICAgICAgICAgICBzcXVhcmUgKz0gcGFyc2VJbnQocGllY2UsIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gcGllY2UgPCAnYScgPyBXSElURSA6IEJMQUNLO1xuICAgICAgICAgICAgICAgIHRoaXMuX3B1dCh7IHR5cGU6IHBpZWNlLnRvTG93ZXJDYXNlKCksIGNvbG9yIH0sIGFsZ2VicmFpYyhzcXVhcmUpKTtcbiAgICAgICAgICAgICAgICBzcXVhcmUrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90dXJuID0gdG9rZW5zWzFdO1xuICAgICAgICBpZiAodG9rZW5zWzJdLmluZGV4T2YoJ0snKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXN0bGluZy53IHw9IEJJVFMuS1NJREVfQ0FTVExFO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbnNbMl0uaW5kZXhPZignUScpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nhc3RsaW5nLncgfD0gQklUUy5RU0lERV9DQVNUTEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2Vuc1syXS5pbmRleE9mKCdrJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmcuYiB8PSBCSVRTLktTSURFX0NBU1RMRTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW5zWzJdLmluZGV4T2YoJ3EnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXN0bGluZy5iIHw9IEJJVFMuUVNJREVfQ0FTVExFO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VwU3F1YXJlID0gdG9rZW5zWzNdID09PSAnLScgPyBFTVBUWSA6IE94ODhbdG9rZW5zWzNdXTtcbiAgICAgICAgdGhpcy5faGFsZk1vdmVzID0gcGFyc2VJbnQodG9rZW5zWzRdLCAxMCk7XG4gICAgICAgIHRoaXMuX21vdmVOdW1iZXIgPSBwYXJzZUludCh0b2tlbnNbNV0sIDEwKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2V0dXAoZmVuKTtcbiAgICAgICAgdGhpcy5fcG9zaXRpb25Db3VudHNbZmVuXSsrO1xuICAgIH1cbiAgICBmZW4oKSB7XG4gICAgICAgIGxldCBlbXB0eSA9IDA7XG4gICAgICAgIGxldCBmZW4gPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IE94ODguYTg7IGkgPD0gT3g4OC5oMTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYm9hcmRbaV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1wdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlbiArPSBlbXB0eTtcbiAgICAgICAgICAgICAgICAgICAgZW1wdHkgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvbG9yLCB0eXBlOiBwaWVjZSB9ID0gdGhpcy5fYm9hcmRbaV07XG4gICAgICAgICAgICAgICAgZmVuICs9IGNvbG9yID09PSBXSElURSA/IHBpZWNlLnRvVXBwZXJDYXNlKCkgOiBwaWVjZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW1wdHkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoaSArIDEpICYgMHg4OCkge1xuICAgICAgICAgICAgICAgIGlmIChlbXB0eSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmVuICs9IGVtcHR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gT3g4OC5oMSkge1xuICAgICAgICAgICAgICAgICAgICBmZW4gKz0gJy8nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbXB0eSA9IDA7XG4gICAgICAgICAgICAgICAgaSArPSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBjYXN0bGluZyA9ICcnO1xuICAgICAgICBpZiAodGhpcy5fY2FzdGxpbmdbV0hJVEVdICYgQklUUy5LU0lERV9DQVNUTEUpIHtcbiAgICAgICAgICAgIGNhc3RsaW5nICs9ICdLJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY2FzdGxpbmdbV0hJVEVdICYgQklUUy5RU0lERV9DQVNUTEUpIHtcbiAgICAgICAgICAgIGNhc3RsaW5nICs9ICdRJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY2FzdGxpbmdbQkxBQ0tdICYgQklUUy5LU0lERV9DQVNUTEUpIHtcbiAgICAgICAgICAgIGNhc3RsaW5nICs9ICdrJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY2FzdGxpbmdbQkxBQ0tdICYgQklUUy5RU0lERV9DQVNUTEUpIHtcbiAgICAgICAgICAgIGNhc3RsaW5nICs9ICdxJztcbiAgICAgICAgfVxuICAgICAgICAvLyBkbyB3ZSBoYXZlIGFuIGVtcHR5IGNhc3RsaW5nIGZsYWc/XG4gICAgICAgIGNhc3RsaW5nID0gY2FzdGxpbmcgfHwgJy0nO1xuICAgICAgICBsZXQgZXBTcXVhcmUgPSAnLSc7XG4gICAgICAgIC8qXG4gICAgICAgICAqIG9ubHkgcHJpbnQgdGhlIGVwIHNxdWFyZSBpZiBlbiBwYXNzYW50IGlzIGEgdmFsaWQgbW92ZSAocGF3biBpcyBwcmVzZW50XG4gICAgICAgICAqIGFuZCBlcCBjYXB0dXJlIGlzIG5vdCBwaW5uZWQpXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5fZXBTcXVhcmUgIT09IEVNUFRZKSB7XG4gICAgICAgICAgICBjb25zdCBiaWdQYXduU3F1YXJlID0gdGhpcy5fZXBTcXVhcmUgKyAodGhpcy5fdHVybiA9PT0gV0hJVEUgPyAxNiA6IC0xNik7XG4gICAgICAgICAgICBjb25zdCBzcXVhcmVzID0gW2JpZ1Bhd25TcXVhcmUgKyAxLCBiaWdQYXduU3F1YXJlIC0gMV07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNxdWFyZSBvZiBzcXVhcmVzKSB7XG4gICAgICAgICAgICAgICAgLy8gaXMgdGhlIHNxdWFyZSBvZmYgdGhlIGJvYXJkP1xuICAgICAgICAgICAgICAgIGlmIChzcXVhcmUgJiAweDg4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuX3R1cm47XG4gICAgICAgICAgICAgICAgLy8gaXMgdGhlcmUgYSBwYXduIHRoYXQgY2FuIGNhcHR1cmUgdGhlIGVwU3F1YXJlP1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ib2FyZFtzcXVhcmVdPy5jb2xvciA9PT0gY29sb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYm9hcmRbc3F1YXJlXT8udHlwZSA9PT0gUEFXTikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcGF3biBtYWtlcyBhbiBlcCBjYXB0dXJlLCBkb2VzIGl0IGxlYXZlIGl0J3Mga2luZyBpbiBjaGVjaz9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFrZU1vdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBzcXVhcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogdGhpcy5fZXBTcXVhcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWVjZTogUEFXTixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVkOiBQQVdOLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IEJJVFMuRVBfQ0FQVFVSRSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTGVnYWwgPSAhdGhpcy5faXNLaW5nQXR0YWNrZWQoY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91bmRvTW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBlcCBpcyBsZWdhbCwgYnJlYWsgYW5kIHNldCB0aGUgZXAgc3F1YXJlIGluIHRoZSBGRU4gb3V0cHV0XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0xlZ2FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcFNxdWFyZSA9IGFsZ2VicmFpYyh0aGlzLl9lcFNxdWFyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZmVuLFxuICAgICAgICAgICAgdGhpcy5fdHVybixcbiAgICAgICAgICAgIGNhc3RsaW5nLFxuICAgICAgICAgICAgZXBTcXVhcmUsXG4gICAgICAgICAgICB0aGlzLl9oYWxmTW92ZXMsXG4gICAgICAgICAgICB0aGlzLl9tb3ZlTnVtYmVyLFxuICAgICAgICBdLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgLypcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgaW5pdGlhbCBib2FyZCBzZXR1cCBpcyBjaGFuZ2VkIHdpdGggcHV0KCkgb3IgcmVtb3ZlKCkuXG4gICAgICogbW9kaWZpZXMgdGhlIFNldFVwIGFuZCBGRU4gcHJvcGVydGllcyBvZiB0aGUgaGVhZGVyIG9iamVjdC4gSWYgdGhlIEZFTlxuICAgICAqIGlzIGVxdWFsIHRvIHRoZSBkZWZhdWx0IHBvc2l0aW9uLCB0aGUgU2V0VXAgYW5kIEZFTiBhcmUgZGVsZXRlZCB0aGUgc2V0dXBcbiAgICAgKiBpcyBvbmx5IHVwZGF0ZWQgaWYgaGlzdG9yeS5sZW5ndGggaXMgemVybywgaWUgbW92ZXMgaGF2ZW4ndCBiZWVuIG1hZGUuXG4gICAgICovXG4gICAgX3VwZGF0ZVNldHVwKGZlbikge1xuICAgICAgICBpZiAodGhpcy5faGlzdG9yeS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZmVuICE9PSBERUZBVUxUX1BPU0lUSU9OKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJbJ1NldFVwJ10gPSAnMSc7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJbJ0ZFTiddID0gZmVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2hlYWRlclsnU2V0VXAnXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9oZWFkZXJbJ0ZFTiddO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmxvYWQoREVGQVVMVF9QT1NJVElPTik7XG4gICAgfVxuICAgIGdldChzcXVhcmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvYXJkW094ODhbc3F1YXJlXV0gfHwgZmFsc2U7XG4gICAgfVxuICAgIHB1dCh7IHR5cGUsIGNvbG9yIH0sIHNxdWFyZSkge1xuICAgICAgICBpZiAodGhpcy5fcHV0KHsgdHlwZSwgY29sb3IgfSwgc3F1YXJlKSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2FzdGxpbmdSaWdodHMoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVuUGFzc2FudFNxdWFyZSgpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU2V0dXAodGhpcy5mZW4oKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF9wdXQoeyB0eXBlLCBjb2xvciB9LCBzcXVhcmUpIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIHBpZWNlXG4gICAgICAgIGlmIChTWU1CT0xTLmluZGV4T2YodHlwZS50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBmb3IgdmFsaWQgc3F1YXJlXG4gICAgICAgIGlmICghKHNxdWFyZSBpbiBPeDg4KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNxID0gT3g4OFtzcXVhcmVdO1xuICAgICAgICAvLyBkb24ndCBsZXQgdGhlIHVzZXIgcGxhY2UgbW9yZSB0aGFuIG9uZSBraW5nXG4gICAgICAgIGlmICh0eXBlID09IEtJTkcgJiZcbiAgICAgICAgICAgICEodGhpcy5fa2luZ3NbY29sb3JdID09IEVNUFRZIHx8IHRoaXMuX2tpbmdzW2NvbG9yXSA9PSBzcSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50UGllY2VPblNxdWFyZSA9IHRoaXMuX2JvYXJkW3NxXTtcbiAgICAgICAgLy8gaWYgb25lIG9mIHRoZSBraW5ncyB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBwaWVjZSBmcm9tIGFyZ3MsIHNldCB0aGUgYF9raW5nc2AgcmVzcGVjdGl2ZSBlbnRyeSB0byBgRU1QVFlgXG4gICAgICAgIGlmIChjdXJyZW50UGllY2VPblNxdWFyZSAmJiBjdXJyZW50UGllY2VPblNxdWFyZS50eXBlID09PSBLSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl9raW5nc1tjdXJyZW50UGllY2VPblNxdWFyZS5jb2xvcl0gPSBFTVBUWTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ib2FyZFtzcV0gPSB7IHR5cGU6IHR5cGUsIGNvbG9yOiBjb2xvciB9O1xuICAgICAgICBpZiAodHlwZSA9PT0gS0lORykge1xuICAgICAgICAgICAgdGhpcy5fa2luZ3NbY29sb3JdID0gc3E7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJlbW92ZShzcXVhcmUpIHtcbiAgICAgICAgY29uc3QgcGllY2UgPSB0aGlzLmdldChzcXVhcmUpO1xuICAgICAgICBkZWxldGUgdGhpcy5fYm9hcmRbT3g4OFtzcXVhcmVdXTtcbiAgICAgICAgaWYgKHBpZWNlICYmIHBpZWNlLnR5cGUgPT09IEtJTkcpIHtcbiAgICAgICAgICAgIHRoaXMuX2tpbmdzW3BpZWNlLmNvbG9yXSA9IEVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNhc3RsaW5nUmlnaHRzKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUVuUGFzc2FudFNxdWFyZSgpO1xuICAgICAgICB0aGlzLl91cGRhdGVTZXR1cCh0aGlzLmZlbigpKTtcbiAgICAgICAgcmV0dXJuIHBpZWNlO1xuICAgIH1cbiAgICBfdXBkYXRlQ2FzdGxpbmdSaWdodHMoKSB7XG4gICAgICAgIGNvbnN0IHdoaXRlS2luZ0luUGxhY2UgPSB0aGlzLl9ib2FyZFtPeDg4LmUxXT8udHlwZSA9PT0gS0lORyAmJlxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbT3g4OC5lMV0/LmNvbG9yID09PSBXSElURTtcbiAgICAgICAgY29uc3QgYmxhY2tLaW5nSW5QbGFjZSA9IHRoaXMuX2JvYXJkW094ODguZThdPy50eXBlID09PSBLSU5HICYmXG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtPeDg4LmU4XT8uY29sb3IgPT09IEJMQUNLO1xuICAgICAgICBpZiAoIXdoaXRlS2luZ0luUGxhY2UgfHxcbiAgICAgICAgICAgIHRoaXMuX2JvYXJkW094ODguYTFdPy50eXBlICE9PSBST09LIHx8XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtPeDg4LmExXT8uY29sb3IgIT09IFdISVRFKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXN0bGluZy53ICY9IH5CSVRTLlFTSURFX0NBU1RMRTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXdoaXRlS2luZ0luUGxhY2UgfHxcbiAgICAgICAgICAgIHRoaXMuX2JvYXJkW094ODguaDFdPy50eXBlICE9PSBST09LIHx8XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtPeDg4LmgxXT8uY29sb3IgIT09IFdISVRFKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXN0bGluZy53ICY9IH5CSVRTLktTSURFX0NBU1RMRTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJsYWNrS2luZ0luUGxhY2UgfHxcbiAgICAgICAgICAgIHRoaXMuX2JvYXJkW094ODguYThdPy50eXBlICE9PSBST09LIHx8XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtPeDg4LmE4XT8uY29sb3IgIT09IEJMQUNLKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXN0bGluZy5iICY9IH5CSVRTLlFTSURFX0NBU1RMRTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJsYWNrS2luZ0luUGxhY2UgfHxcbiAgICAgICAgICAgIHRoaXMuX2JvYXJkW094ODguaDhdPy50eXBlICE9PSBST09LIHx8XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtPeDg4Lmg4XT8uY29sb3IgIT09IEJMQUNLKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXN0bGluZy5iICY9IH5CSVRTLktTSURFX0NBU1RMRTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfdXBkYXRlRW5QYXNzYW50U3F1YXJlKCkge1xuICAgICAgICBpZiAodGhpcy5fZXBTcXVhcmUgPT09IEVNUFRZKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnRTcXVhcmUgPSB0aGlzLl9lcFNxdWFyZSArICh0aGlzLl90dXJuID09PSBXSElURSA/IC0xNiA6IDE2KTtcbiAgICAgICAgY29uc3QgY3VycmVudFNxdWFyZSA9IHRoaXMuX2VwU3F1YXJlICsgKHRoaXMuX3R1cm4gPT09IFdISVRFID8gMTYgOiAtMTYpO1xuICAgICAgICBjb25zdCBhdHRhY2tlcnMgPSBbY3VycmVudFNxdWFyZSArIDEsIGN1cnJlbnRTcXVhcmUgLSAxXTtcbiAgICAgICAgaWYgKHRoaXMuX2JvYXJkW3N0YXJ0U3F1YXJlXSAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbdGhpcy5fZXBTcXVhcmVdICE9PSBudWxsIHx8XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtjdXJyZW50U3F1YXJlXT8uY29sb3IgIT09IHN3YXBDb2xvcih0aGlzLl90dXJuKSB8fFxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbY3VycmVudFNxdWFyZV0/LnR5cGUgIT09IFBBV04pIHtcbiAgICAgICAgICAgIHRoaXMuX2VwU3F1YXJlID0gRU1QVFk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FuQ2FwdHVyZSA9IChzcXVhcmUpID0+ICEoc3F1YXJlICYgMHg4OCkgJiZcbiAgICAgICAgICAgIHRoaXMuX2JvYXJkW3NxdWFyZV0/LmNvbG9yID09PSB0aGlzLl90dXJuICYmXG4gICAgICAgICAgICB0aGlzLl9ib2FyZFtzcXVhcmVdPy50eXBlID09PSBQQVdOO1xuICAgICAgICBpZiAoIWF0dGFja2Vycy5zb21lKGNhbkNhcHR1cmUpKSB7XG4gICAgICAgICAgICB0aGlzLl9lcFNxdWFyZSA9IEVNUFRZO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hdHRhY2tlZChjb2xvciwgc3F1YXJlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBPeDg4LmE4OyBpIDw9IE94ODguaDE7IGkrKykge1xuICAgICAgICAgICAgLy8gZGlkIHdlIHJ1biBvZmYgdGhlIGVuZCBvZiB0aGUgYm9hcmRcbiAgICAgICAgICAgIGlmIChpICYgMHg4OCkge1xuICAgICAgICAgICAgICAgIGkgKz0gNztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGVtcHR5IHNxdWFyZSBvciB3cm9uZyBjb2xvclxuICAgICAgICAgICAgaWYgKHRoaXMuX2JvYXJkW2ldID09PSB1bmRlZmluZWQgfHwgdGhpcy5fYm9hcmRbaV0uY29sb3IgIT09IGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwaWVjZSA9IHRoaXMuX2JvYXJkW2ldO1xuICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IGkgLSBzcXVhcmU7XG4gICAgICAgICAgICAvLyBza2lwIC0gdG8vZnJvbSBzcXVhcmUgYXJlIHRoZSBzYW1lXG4gICAgICAgICAgICBpZiAoZGlmZmVyZW5jZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBkaWZmZXJlbmNlICsgMTE5O1xuICAgICAgICAgICAgaWYgKEFUVEFDS1NbaW5kZXhdICYgUElFQ0VfTUFTS1NbcGllY2UudHlwZV0pIHtcbiAgICAgICAgICAgICAgICBpZiAocGllY2UudHlwZSA9PT0gUEFXTikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZmVyZW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZS5jb2xvciA9PT0gV0hJVEUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT09IEJMQUNLKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcGllY2UgaXMgYSBrbmlnaHQgb3IgYSBraW5nXG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlLnR5cGUgPT09ICduJyB8fCBwaWVjZS50eXBlID09PSAnaycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IFJBWVNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGxldCBqID0gaSArIG9mZnNldDtcbiAgICAgICAgICAgICAgICBsZXQgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChqICE9PSBzcXVhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2JvYXJkW2pdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaiArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYmxvY2tlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfaXNLaW5nQXR0YWNrZWQoY29sb3IpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlID0gdGhpcy5fa2luZ3NbY29sb3JdO1xuICAgICAgICByZXR1cm4gc3F1YXJlID09PSAtMSA/IGZhbHNlIDogdGhpcy5fYXR0YWNrZWQoc3dhcENvbG9yKGNvbG9yKSwgc3F1YXJlKTtcbiAgICB9XG4gICAgaXNBdHRhY2tlZChzcXVhcmUsIGF0dGFja2VkQnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFja2VkKGF0dGFja2VkQnksIE94ODhbc3F1YXJlXSk7XG4gICAgfVxuICAgIGlzQ2hlY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0tpbmdBdHRhY2tlZCh0aGlzLl90dXJuKTtcbiAgICB9XG4gICAgaW5DaGVjaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDaGVjaygpO1xuICAgIH1cbiAgICBpc0NoZWNrbWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDaGVjaygpICYmIHRoaXMuX21vdmVzKCkubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBpc1N0YWxlbWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzQ2hlY2soKSAmJiB0aGlzLl9tb3ZlcygpLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgaXNJbnN1ZmZpY2llbnRNYXRlcmlhbCgpIHtcbiAgICAgICAgLypcbiAgICAgICAgICogay5iLiB2cyBrLmIuIChvZiBvcHBvc2l0ZSBjb2xvcnMpIHdpdGggbWF0ZSBpbiAxOlxuICAgICAgICAgKiA4LzgvOC84LzFiNi84L0IxazUvSzcgYiAtIC0gMCAxXG4gICAgICAgICAqXG4gICAgICAgICAqIGsuYi4gdnMgay5uLiB3aXRoIG1hdGUgaW4gMTpcbiAgICAgICAgICogOC84LzgvOC8xbjYvOC9CNy9LMWs1IGIgLSAtIDIgMVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcGllY2VzID0ge1xuICAgICAgICAgICAgYjogMCxcbiAgICAgICAgICAgIG46IDAsXG4gICAgICAgICAgICByOiAwLFxuICAgICAgICAgICAgcTogMCxcbiAgICAgICAgICAgIGs6IDAsXG4gICAgICAgICAgICBwOiAwLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBiaXNob3BzID0gW107XG4gICAgICAgIGxldCBudW1QaWVjZXMgPSAwO1xuICAgICAgICBsZXQgc3F1YXJlQ29sb3IgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gT3g4OC5hODsgaSA8PSBPeDg4LmgxOyBpKyspIHtcbiAgICAgICAgICAgIHNxdWFyZUNvbG9yID0gKHNxdWFyZUNvbG9yICsgMSkgJSAyO1xuICAgICAgICAgICAgaWYgKGkgJiAweDg4KSB7XG4gICAgICAgICAgICAgICAgaSArPSA3O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGllY2UgPSB0aGlzLl9ib2FyZFtpXTtcbiAgICAgICAgICAgIGlmIChwaWVjZSkge1xuICAgICAgICAgICAgICAgIHBpZWNlc1twaWVjZS50eXBlXSA9IHBpZWNlLnR5cGUgaW4gcGllY2VzID8gcGllY2VzW3BpZWNlLnR5cGVdICsgMSA6IDE7XG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlLnR5cGUgPT09IEJJU0hPUCkge1xuICAgICAgICAgICAgICAgICAgICBiaXNob3BzLnB1c2goc3F1YXJlQ29sb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBudW1QaWVjZXMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBrIHZzLiBrXG4gICAgICAgIGlmIChudW1QaWVjZXMgPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAvLyBrIHZzLiBrbiAuLi4uIG9yIC4uLi4gayB2cy4ga2JcbiAgICAgICAgbnVtUGllY2VzID09PSAzICYmXG4gICAgICAgICAgICAocGllY2VzW0JJU0hPUF0gPT09IDEgfHwgcGllY2VzW0tOSUdIVF0gPT09IDEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChudW1QaWVjZXMgPT09IHBpZWNlc1tCSVNIT1BdICsgMikge1xuICAgICAgICAgICAgLy8ga2IgdnMuIGtiIHdoZXJlIGFueSBudW1iZXIgb2YgYmlzaG9wcyBhcmUgYWxsIG9uIHRoZSBzYW1lIGNvbG9yXG4gICAgICAgICAgICBsZXQgc3VtID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IGJpc2hvcHMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHN1bSArPSBiaXNob3BzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1bSA9PT0gMCB8fCBzdW0gPT09IGxlbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX2dldFJlcGV0aXRpb25Db3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uQ291bnRzW3RoaXMuZmVuKCldO1xuICAgIH1cbiAgICBpc1RocmVlZm9sZFJlcGV0aXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXBldGl0aW9uQ291bnQoKSA+PSAzO1xuICAgIH1cbiAgICBpc0RyYXcoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5faGFsZk1vdmVzID49IDEwMCB8fCAvLyA1MCBtb3ZlcyBwZXIgc2lkZSA9IDEwMCBoYWxmIG1vdmVzXG4gICAgICAgICAgICB0aGlzLmlzU3RhbGVtYXRlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuaXNJbnN1ZmZpY2llbnRNYXRlcmlhbCgpIHx8XG4gICAgICAgICAgICB0aGlzLmlzVGhyZWVmb2xkUmVwZXRpdGlvbigpKTtcbiAgICB9XG4gICAgaXNHYW1lT3ZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDaGVja21hdGUoKSB8fCB0aGlzLmlzU3RhbGVtYXRlKCkgfHwgdGhpcy5pc0RyYXcoKTtcbiAgICB9XG4gICAgbW92ZXMoeyB2ZXJib3NlID0gZmFsc2UsIHNxdWFyZSA9IHVuZGVmaW5lZCwgcGllY2UgPSB1bmRlZmluZWQsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBtb3ZlcyA9IHRoaXMuX21vdmVzKHsgc3F1YXJlLCBwaWVjZSB9KTtcbiAgICAgICAgaWYgKHZlcmJvc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBtb3Zlcy5tYXAoKG1vdmUpID0+IHRoaXMuX21ha2VQcmV0dHkobW92ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1vdmVzLm1hcCgobW92ZSkgPT4gdGhpcy5fbW92ZVRvU2FuKG1vdmUsIG1vdmVzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX21vdmVzKHsgbGVnYWwgPSB0cnVlLCBwaWVjZSA9IHVuZGVmaW5lZCwgc3F1YXJlID0gdW5kZWZpbmVkLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgZm9yU3F1YXJlID0gc3F1YXJlID8gc3F1YXJlLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGZvclBpZWNlID0gcGllY2U/LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IG1vdmVzID0gW107XG4gICAgICAgIGNvbnN0IHVzID0gdGhpcy5fdHVybjtcbiAgICAgICAgY29uc3QgdGhlbSA9IHN3YXBDb2xvcih1cyk7XG4gICAgICAgIGxldCBmaXJzdFNxdWFyZSA9IE94ODguYTg7XG4gICAgICAgIGxldCBsYXN0U3F1YXJlID0gT3g4OC5oMTtcbiAgICAgICAgbGV0IHNpbmdsZVNxdWFyZSA9IGZhbHNlO1xuICAgICAgICAvLyBhcmUgd2UgZ2VuZXJhdGluZyBtb3ZlcyBmb3IgYSBzaW5nbGUgc3F1YXJlP1xuICAgICAgICBpZiAoZm9yU3F1YXJlKSB7XG4gICAgICAgICAgICAvLyBpbGxlZ2FsIHNxdWFyZSwgcmV0dXJuIGVtcHR5IG1vdmVzXG4gICAgICAgICAgICBpZiAoIShmb3JTcXVhcmUgaW4gT3g4OCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaXJzdFNxdWFyZSA9IGxhc3RTcXVhcmUgPSBPeDg4W2ZvclNxdWFyZV07XG4gICAgICAgICAgICAgICAgc2luZ2xlU3F1YXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBmcm9tID0gZmlyc3RTcXVhcmU7IGZyb20gPD0gbGFzdFNxdWFyZTsgZnJvbSsrKSB7XG4gICAgICAgICAgICAvLyBkaWQgd2UgcnVuIG9mZiB0aGUgZW5kIG9mIHRoZSBib2FyZFxuICAgICAgICAgICAgaWYgKGZyb20gJiAweDg4KSB7XG4gICAgICAgICAgICAgICAgZnJvbSArPSA3O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW1wdHkgc3F1YXJlIG9yIG9wcG9uZW50LCBza2lwXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2JvYXJkW2Zyb21dIHx8IHRoaXMuX2JvYXJkW2Zyb21dLmNvbG9yID09PSB0aGVtKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHR5cGUgfSA9IHRoaXMuX2JvYXJkW2Zyb21dO1xuICAgICAgICAgICAgbGV0IHRvO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFBBV04pIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yUGllY2UgJiYgZm9yUGllY2UgIT09IHR5cGUpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBzcXVhcmUsIG5vbi1jYXB0dXJpbmdcbiAgICAgICAgICAgICAgICB0byA9IGZyb20gKyBQQVdOX09GRlNFVFNbdXNdWzBdO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYm9hcmRbdG9dKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZE1vdmUobW92ZXMsIHVzLCBmcm9tLCB0bywgUEFXTik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvdWJsZSBzcXVhcmVcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBmcm9tICsgUEFXTl9PRkZTRVRTW3VzXVsxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFNFQ09ORF9SQU5LW3VzXSA9PT0gcmFuayhmcm9tKSAmJiAhdGhpcy5fYm9hcmRbdG9dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRNb3ZlKG1vdmVzLCB1cywgZnJvbSwgdG8sIFBBV04sIHVuZGVmaW5lZCwgQklUUy5CSUdfUEFXTik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcGF3biBjYXB0dXJlc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAyOyBqIDwgNDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gZnJvbSArIFBBV05fT0ZGU0VUU1t1c11bal07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0byAmIDB4ODgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2JvYXJkW3RvXT8uY29sb3IgPT09IHRoZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZE1vdmUobW92ZXMsIHVzLCBmcm9tLCB0bywgUEFXTiwgdGhpcy5fYm9hcmRbdG9dLnR5cGUsIEJJVFMuQ0FQVFVSRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG8gPT09IHRoaXMuX2VwU3F1YXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRNb3ZlKG1vdmVzLCB1cywgZnJvbSwgdG8sIFBBV04sIFBBV04sIEJJVFMuRVBfQ0FQVFVSRSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yUGllY2UgJiYgZm9yUGllY2UgIT09IHR5cGUpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBsZW4gPSBQSUVDRV9PRkZTRVRTW3R5cGVdLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IFBJRUNFX09GRlNFVFNbdHlwZV1bal07XG4gICAgICAgICAgICAgICAgICAgIHRvID0gZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvICs9IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0byAmIDB4ODgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2JvYXJkW3RvXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZE1vdmUobW92ZXMsIHVzLCBmcm9tLCB0bywgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvd24gY29sb3IsIHN0b3AgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ib2FyZFt0b10uY29sb3IgPT09IHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRNb3ZlKG1vdmVzLCB1cywgZnJvbSwgdG8sIHR5cGUsIHRoaXMuX2JvYXJkW3RvXS50eXBlLCBCSVRTLkNBUFRVUkUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogYnJlYWssIGlmIGtuaWdodCBvciBraW5nICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gS05JR0hUIHx8IHR5cGUgPT09IEtJTkcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogY2hlY2sgZm9yIGNhc3RsaW5nIGlmIHdlJ3JlOlxuICAgICAgICAgKiAgIGEpIGdlbmVyYXRpbmcgYWxsIG1vdmVzLCBvclxuICAgICAgICAgKiAgIGIpIGRvaW5nIHNpbmdsZSBzcXVhcmUgbW92ZSBnZW5lcmF0aW9uIG9uIHRoZSBraW5nJ3Mgc3F1YXJlXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZm9yUGllY2UgPT09IHVuZGVmaW5lZCB8fCBmb3JQaWVjZSA9PT0gS0lORykge1xuICAgICAgICAgICAgaWYgKCFzaW5nbGVTcXVhcmUgfHwgbGFzdFNxdWFyZSA9PT0gdGhpcy5fa2luZ3NbdXNdKSB7XG4gICAgICAgICAgICAgICAgLy8ga2luZy1zaWRlIGNhc3RsaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Nhc3RsaW5nW3VzXSAmIEJJVFMuS1NJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc3RsaW5nRnJvbSA9IHRoaXMuX2tpbmdzW3VzXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzdGxpbmdUbyA9IGNhc3RsaW5nRnJvbSArIDI7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYm9hcmRbY2FzdGxpbmdGcm9tICsgMV0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl9ib2FyZFtjYXN0bGluZ1RvXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2F0dGFja2VkKHRoZW0sIHRoaXMuX2tpbmdzW3VzXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl9hdHRhY2tlZCh0aGVtLCBjYXN0bGluZ0Zyb20gKyAxKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2F0dGFja2VkKHRoZW0sIGNhc3RsaW5nVG8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRNb3ZlKG1vdmVzLCB1cywgdGhpcy5fa2luZ3NbdXNdLCBjYXN0bGluZ1RvLCBLSU5HLCB1bmRlZmluZWQsIEJJVFMuS1NJREVfQ0FTVExFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBxdWVlbi1zaWRlIGNhc3RsaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Nhc3RsaW5nW3VzXSAmIEJJVFMuUVNJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhc3RsaW5nRnJvbSA9IHRoaXMuX2tpbmdzW3VzXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FzdGxpbmdUbyA9IGNhc3RsaW5nRnJvbSAtIDI7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYm9hcmRbY2FzdGxpbmdGcm9tIC0gMV0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLl9ib2FyZFtjYXN0bGluZ0Zyb20gLSAyXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2JvYXJkW2Nhc3RsaW5nRnJvbSAtIDNdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5fYXR0YWNrZWQodGhlbSwgdGhpcy5fa2luZ3NbdXNdKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2F0dGFja2VkKHRoZW0sIGNhc3RsaW5nRnJvbSAtIDEpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5fYXR0YWNrZWQodGhlbSwgY2FzdGxpbmdUbykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZE1vdmUobW92ZXMsIHVzLCB0aGlzLl9raW5nc1t1c10sIGNhc3RsaW5nVG8sIEtJTkcsIHVuZGVmaW5lZCwgQklUUy5RU0lERV9DQVNUTEUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICAqIHJldHVybiBhbGwgcHNldWRvLWxlZ2FsIG1vdmVzICh0aGlzIGluY2x1ZGVzIG1vdmVzIHRoYXQgYWxsb3cgdGhlIGtpbmdcbiAgICAgICAgICogdG8gYmUgY2FwdHVyZWQpXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoIWxlZ2FsIHx8IHRoaXMuX2tpbmdzW3VzXSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBtb3ZlcztcbiAgICAgICAgfVxuICAgICAgICAvLyBmaWx0ZXIgb3V0IGlsbGVnYWwgbW92ZXNcbiAgICAgICAgY29uc3QgbGVnYWxNb3ZlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbW92ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX21ha2VNb3ZlKG1vdmVzW2ldKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNLaW5nQXR0YWNrZWQodXMpKSB7XG4gICAgICAgICAgICAgICAgbGVnYWxNb3Zlcy5wdXNoKG1vdmVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3VuZG9Nb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxlZ2FsTW92ZXM7XG4gICAgfVxuICAgIG1vdmUobW92ZSwgeyBzdHJpY3QgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgLypcbiAgICAgICAgICogVGhlIG1vdmUgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCB3aXRoIGluIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAgICAgICAgICpcbiAgICAgICAgICogLm1vdmUoJ054YjcnKSAgICAgICA8LSBhcmd1bWVudCBpcyBhIGNhc2Utc2Vuc2l0aXZlIFNBTiBzdHJpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogLm1vdmUoeyBmcm9tOiAnaDcnLCA8LSBhcmd1bWVudCBpcyBhIG1vdmUgb2JqZWN0XG4gICAgICAgICAqICAgICAgICAgdG8gOidoOCcsXG4gICAgICAgICAqICAgICAgICAgcHJvbW90aW9uOiAncScgfSlcbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgICogQW4gb3B0aW9uYWwgc3RyaWN0IGFyZ3VtZW50IG1heSBiZSBzdXBwbGllZCB0byB0ZWxsIGNoZXNzLmpzIHRvXG4gICAgICAgICAqIHN0cmljdGx5IGZvbGxvdyB0aGUgU0FOIHNwZWNpZmljYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBsZXQgbW92ZU9iaiA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgbW92ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG1vdmVPYmogPSB0aGlzLl9tb3ZlRnJvbVNhbihtb3ZlLCBzdHJpY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtb3ZlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgbW92ZXMgPSB0aGlzLl9tb3ZlcygpO1xuICAgICAgICAgICAgLy8gY29udmVydCB0aGUgcHJldHR5IG1vdmUgb2JqZWN0IHRvIGFuIHVnbHkgbW92ZSBvYmplY3RcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBtb3Zlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChtb3ZlLmZyb20gPT09IGFsZ2VicmFpYyhtb3Zlc1tpXS5mcm9tKSAmJlxuICAgICAgICAgICAgICAgICAgICBtb3ZlLnRvID09PSBhbGdlYnJhaWMobW92ZXNbaV0udG8pICYmXG4gICAgICAgICAgICAgICAgICAgICghKCdwcm9tb3Rpb24nIGluIG1vdmVzW2ldKSB8fCBtb3ZlLnByb21vdGlvbiA9PT0gbW92ZXNbaV0ucHJvbW90aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlT2JqID0gbW92ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBmYWlsZWQgdG8gZmluZCBtb3ZlXG4gICAgICAgIGlmICghbW92ZU9iaikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtb3ZlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtb3ZlOiAke21vdmV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbW92ZTogJHtKU09OLnN0cmluZ2lmeShtb3ZlKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgKiBuZWVkIHRvIG1ha2UgYSBjb3B5IG9mIG1vdmUgYmVjYXVzZSB3ZSBjYW4ndCBnZW5lcmF0ZSBTQU4gYWZ0ZXIgdGhlIG1vdmVcbiAgICAgICAgICogaXMgbWFkZVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcHJldHR5TW92ZSA9IHRoaXMuX21ha2VQcmV0dHkobW92ZU9iaik7XG4gICAgICAgIHRoaXMuX21ha2VNb3ZlKG1vdmVPYmopO1xuICAgICAgICB0aGlzLl9wb3NpdGlvbkNvdW50c1twcmV0dHlNb3ZlLmFmdGVyXSsrO1xuICAgICAgICByZXR1cm4gcHJldHR5TW92ZTtcbiAgICB9XG4gICAgX3B1c2gobW92ZSkge1xuICAgICAgICB0aGlzLl9oaXN0b3J5LnB1c2goe1xuICAgICAgICAgICAgbW92ZSxcbiAgICAgICAgICAgIGtpbmdzOiB7IGI6IHRoaXMuX2tpbmdzLmIsIHc6IHRoaXMuX2tpbmdzLncgfSxcbiAgICAgICAgICAgIHR1cm46IHRoaXMuX3R1cm4sXG4gICAgICAgICAgICBjYXN0bGluZzogeyBiOiB0aGlzLl9jYXN0bGluZy5iLCB3OiB0aGlzLl9jYXN0bGluZy53IH0sXG4gICAgICAgICAgICBlcFNxdWFyZTogdGhpcy5fZXBTcXVhcmUsXG4gICAgICAgICAgICBoYWxmTW92ZXM6IHRoaXMuX2hhbGZNb3ZlcyxcbiAgICAgICAgICAgIG1vdmVOdW1iZXI6IHRoaXMuX21vdmVOdW1iZXIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfbWFrZU1vdmUobW92ZSkge1xuICAgICAgICBjb25zdCB1cyA9IHRoaXMuX3R1cm47XG4gICAgICAgIGNvbnN0IHRoZW0gPSBzd2FwQ29sb3IodXMpO1xuICAgICAgICB0aGlzLl9wdXNoKG1vdmUpO1xuICAgICAgICB0aGlzLl9ib2FyZFttb3ZlLnRvXSA9IHRoaXMuX2JvYXJkW21vdmUuZnJvbV07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ib2FyZFttb3ZlLmZyb21dO1xuICAgICAgICAvLyBpZiBlcCBjYXB0dXJlLCByZW1vdmUgdGhlIGNhcHR1cmVkIHBhd25cbiAgICAgICAgaWYgKG1vdmUuZmxhZ3MgJiBCSVRTLkVQX0NBUFRVUkUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90dXJuID09PSBCTEFDSykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ib2FyZFttb3ZlLnRvIC0gMTZdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2JvYXJkW21vdmUudG8gKyAxNl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgcGF3biBwcm9tb3Rpb24sIHJlcGxhY2Ugd2l0aCBuZXcgcGllY2VcbiAgICAgICAgaWYgKG1vdmUucHJvbW90aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9ib2FyZFttb3ZlLnRvXSA9IHsgdHlwZTogbW92ZS5wcm9tb3Rpb24sIGNvbG9yOiB1cyB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIG1vdmVkIHRoZSBraW5nXG4gICAgICAgIGlmICh0aGlzLl9ib2FyZFttb3ZlLnRvXS50eXBlID09PSBLSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl9raW5nc1t1c10gPSBtb3ZlLnRvO1xuICAgICAgICAgICAgLy8gaWYgd2UgY2FzdGxlZCwgbW92ZSB0aGUgcm9vayBuZXh0IHRvIHRoZSBraW5nXG4gICAgICAgICAgICBpZiAobW92ZS5mbGFncyAmIEJJVFMuS1NJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FzdGxpbmdUbyA9IG1vdmUudG8gLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhc3RsaW5nRnJvbSA9IG1vdmUudG8gKyAxO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvYXJkW2Nhc3RsaW5nVG9dID0gdGhpcy5fYm9hcmRbY2FzdGxpbmdGcm9tXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fYm9hcmRbY2FzdGxpbmdGcm9tXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vdmUuZmxhZ3MgJiBCSVRTLlFTSURFX0NBU1RMRSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhc3RsaW5nVG8gPSBtb3ZlLnRvICsgMTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXN0bGluZ0Zyb20gPSBtb3ZlLnRvIC0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib2FyZFtjYXN0bGluZ1RvXSA9IHRoaXMuX2JvYXJkW2Nhc3RsaW5nRnJvbV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2JvYXJkW2Nhc3RsaW5nRnJvbV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0dXJuIG9mZiBjYXN0bGluZ1xuICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmdbdXNdID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyB0dXJuIG9mZiBjYXN0bGluZyBpZiB3ZSBtb3ZlIGEgcm9va1xuICAgICAgICBpZiAodGhpcy5fY2FzdGxpbmdbdXNdKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gUk9PS1NbdXNdLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vdmUuZnJvbSA9PT0gUk9PS1NbdXNdW2ldLnNxdWFyZSAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYXN0bGluZ1t1c10gJiBST09LU1t1c11baV0uZmxhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYXN0bGluZ1t1c10gXj0gUk9PS1NbdXNdW2ldLmZsYWc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0dXJuIG9mZiBjYXN0bGluZyBpZiB3ZSBjYXB0dXJlIGEgcm9va1xuICAgICAgICBpZiAodGhpcy5fY2FzdGxpbmdbdGhlbV0pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBST09LU1t0aGVtXS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChtb3ZlLnRvID09PSBST09LU1t0aGVtXVtpXS5zcXVhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FzdGxpbmdbdGhlbV0gJiBST09LU1t0aGVtXVtpXS5mbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nhc3RsaW5nW3RoZW1dIF49IFJPT0tTW3RoZW1dW2ldLmZsYWc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBiaWcgcGF3biBtb3ZlLCB1cGRhdGUgdGhlIGVuIHBhc3NhbnQgc3F1YXJlXG4gICAgICAgIGlmIChtb3ZlLmZsYWdzICYgQklUUy5CSUdfUEFXTikge1xuICAgICAgICAgICAgaWYgKHVzID09PSBCTEFDSykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VwU3F1YXJlID0gbW92ZS50byAtIDE2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXBTcXVhcmUgPSBtb3ZlLnRvICsgMTY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lcFNxdWFyZSA9IEVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc2V0IHRoZSA1MCBtb3ZlIGNvdW50ZXIgaWYgYSBwYXduIGlzIG1vdmVkIG9yIGEgcGllY2UgaXMgY2FwdHVyZWRcbiAgICAgICAgaWYgKG1vdmUucGllY2UgPT09IFBBV04pIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbGZNb3ZlcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW92ZS5mbGFncyAmIChCSVRTLkNBUFRVUkUgfCBCSVRTLkVQX0NBUFRVUkUpKSB7XG4gICAgICAgICAgICB0aGlzLl9oYWxmTW92ZXMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGFsZk1vdmVzKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzID09PSBCTEFDSykge1xuICAgICAgICAgICAgdGhpcy5fbW92ZU51bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3R1cm4gPSB0aGVtO1xuICAgIH1cbiAgICB1bmRvKCkge1xuICAgICAgICBjb25zdCBtb3ZlID0gdGhpcy5fdW5kb01vdmUoKTtcbiAgICAgICAgaWYgKG1vdmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXR0eU1vdmUgPSB0aGlzLl9tYWtlUHJldHR5KG1vdmUpO1xuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25Db3VudHNbcHJldHR5TW92ZS5hZnRlcl0tLTtcbiAgICAgICAgICAgIHJldHVybiBwcmV0dHlNb3ZlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfdW5kb01vdmUoKSB7XG4gICAgICAgIGNvbnN0IG9sZCA9IHRoaXMuX2hpc3RvcnkucG9wKCk7XG4gICAgICAgIGlmIChvbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW92ZSA9IG9sZC5tb3ZlO1xuICAgICAgICB0aGlzLl9raW5ncyA9IG9sZC5raW5ncztcbiAgICAgICAgdGhpcy5fdHVybiA9IG9sZC50dXJuO1xuICAgICAgICB0aGlzLl9jYXN0bGluZyA9IG9sZC5jYXN0bGluZztcbiAgICAgICAgdGhpcy5fZXBTcXVhcmUgPSBvbGQuZXBTcXVhcmU7XG4gICAgICAgIHRoaXMuX2hhbGZNb3ZlcyA9IG9sZC5oYWxmTW92ZXM7XG4gICAgICAgIHRoaXMuX21vdmVOdW1iZXIgPSBvbGQubW92ZU51bWJlcjtcbiAgICAgICAgY29uc3QgdXMgPSB0aGlzLl90dXJuO1xuICAgICAgICBjb25zdCB0aGVtID0gc3dhcENvbG9yKHVzKTtcbiAgICAgICAgdGhpcy5fYm9hcmRbbW92ZS5mcm9tXSA9IHRoaXMuX2JvYXJkW21vdmUudG9dO1xuICAgICAgICB0aGlzLl9ib2FyZFttb3ZlLmZyb21dLnR5cGUgPSBtb3ZlLnBpZWNlOyAvLyB0byB1bmRvIGFueSBwcm9tb3Rpb25zXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ib2FyZFttb3ZlLnRvXTtcbiAgICAgICAgaWYgKG1vdmUuY2FwdHVyZWQpIHtcbiAgICAgICAgICAgIGlmIChtb3ZlLmZsYWdzICYgQklUUy5FUF9DQVBUVVJFKSB7XG4gICAgICAgICAgICAgICAgLy8gZW4gcGFzc2FudCBjYXB0dXJlXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4O1xuICAgICAgICAgICAgICAgIGlmICh1cyA9PT0gQkxBQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBtb3ZlLnRvIC0gMTY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IG1vdmUudG8gKyAxNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fYm9hcmRbaW5kZXhdID0geyB0eXBlOiBQQVdOLCBjb2xvcjogdGhlbSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVndWxhciBjYXB0dXJlXG4gICAgICAgICAgICAgICAgdGhpcy5fYm9hcmRbbW92ZS50b10gPSB7IHR5cGU6IG1vdmUuY2FwdHVyZWQsIGNvbG9yOiB0aGVtIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vdmUuZmxhZ3MgJiAoQklUUy5LU0lERV9DQVNUTEUgfCBCSVRTLlFTSURFX0NBU1RMRSkpIHtcbiAgICAgICAgICAgIGxldCBjYXN0bGluZ1RvLCBjYXN0bGluZ0Zyb207XG4gICAgICAgICAgICBpZiAobW92ZS5mbGFncyAmIEJJVFMuS1NJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICAgICAgY2FzdGxpbmdUbyA9IG1vdmUudG8gKyAxO1xuICAgICAgICAgICAgICAgIGNhc3RsaW5nRnJvbSA9IG1vdmUudG8gLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FzdGxpbmdUbyA9IG1vdmUudG8gLSAyO1xuICAgICAgICAgICAgICAgIGNhc3RsaW5nRnJvbSA9IG1vdmUudG8gKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYm9hcmRbY2FzdGxpbmdUb10gPSB0aGlzLl9ib2FyZFtjYXN0bGluZ0Zyb21dO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2JvYXJkW2Nhc3RsaW5nRnJvbV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vdmU7XG4gICAgfVxuICAgIHBnbih7IG5ld2xpbmUgPSAnXFxuJywgbWF4V2lkdGggPSAwLCB9ID0ge30pIHtcbiAgICAgICAgLypcbiAgICAgICAgICogdXNpbmcgdGhlIHNwZWNpZmljYXRpb24gZnJvbSBodHRwOi8vd3d3LmNoZXNzY2x1Yi5jb20vaGVscC9QR04tc3BlY1xuICAgICAgICAgKiBleGFtcGxlIGZvciBodG1sIHVzYWdlOiAucGduKHsgbWF4X3dpZHRoOiA3MiwgbmV3bGluZV9jaGFyOiBcIjxiciAvPlwiIH0pXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGhlYWRlckV4aXN0cyA9IGZhbHNlO1xuICAgICAgICAvKiBhZGQgdGhlIFBHTiBoZWFkZXIgaW5mb3JtYXRpb24gKi9cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2hlYWRlcikge1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFRPRE86IG9yZGVyIG9mIGVudW1lcmF0ZWQgcHJvcGVydGllcyBpbiBoZWFkZXIgb2JqZWN0IGlzIG5vdFxuICAgICAgICAgICAgICogZ3VhcmFudGVlZCwgc2VlIEVDTUEtMjYyIHNwZWMgKHNlY3Rpb24gMTIuNi40KVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXN1bHQucHVzaCgnWycgKyBpICsgJyBcIicgKyB0aGlzLl9oZWFkZXJbaV0gKyAnXCJdJyArIG5ld2xpbmUpO1xuICAgICAgICAgICAgaGVhZGVyRXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVhZGVyRXhpc3RzICYmIHRoaXMuX2hpc3RvcnkubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChuZXdsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHBlbmRDb21tZW50ID0gKG1vdmVTdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSB0aGlzLl9jb21tZW50c1t0aGlzLmZlbigpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxpbWl0ZXIgPSBtb3ZlU3RyaW5nLmxlbmd0aCA+IDAgPyAnICcgOiAnJztcbiAgICAgICAgICAgICAgICBtb3ZlU3RyaW5nID0gYCR7bW92ZVN0cmluZ30ke2RlbGltaXRlcn17JHtjb21tZW50fX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1vdmVTdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHBvcCBhbGwgb2YgaGlzdG9yeSBvbnRvIHJldmVyc2VkX2hpc3RvcnlcbiAgICAgICAgY29uc3QgcmV2ZXJzZWRIaXN0b3J5ID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLl9oaXN0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldmVyc2VkSGlzdG9yeS5wdXNoKHRoaXMuX3VuZG9Nb3ZlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vdmVzID0gW107XG4gICAgICAgIGxldCBtb3ZlU3RyaW5nID0gJyc7XG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSBvZiBhIGNvbW1lbnRlZCBzdGFydGluZyBwb3NpdGlvbiB3aXRoIG5vIG1vdmVzXG4gICAgICAgIGlmIChyZXZlcnNlZEhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKGFwcGVuZENvbW1lbnQoJycpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBidWlsZCB0aGUgbGlzdCBvZiBtb3Zlcy4gIGEgbW92ZV9zdHJpbmcgbG9va3MgbGlrZTogXCIzLiBlMyBlNlwiXG4gICAgICAgIHdoaWxlIChyZXZlcnNlZEhpc3RvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbW92ZVN0cmluZyA9IGFwcGVuZENvbW1lbnQobW92ZVN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBtb3ZlID0gcmV2ZXJzZWRIaXN0b3J5LnBvcCgpO1xuICAgICAgICAgICAgLy8gbWFrZSBUeXBlU2NyaXB0IHN0b3AgY29tcGxhaW5pbmcgYWJvdXQgbW92ZSBiZWluZyB1bmRlZmluZWRcbiAgICAgICAgICAgIGlmICghbW92ZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlIHBvc2l0aW9uIHN0YXJ0ZWQgd2l0aCBibGFjayB0byBtb3ZlLCBzdGFydCBQR04gd2l0aCAjLiAuLi5cbiAgICAgICAgICAgIGlmICghdGhpcy5faGlzdG9yeS5sZW5ndGggJiYgbW92ZS5jb2xvciA9PT0gJ2InKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gYCR7dGhpcy5fbW92ZU51bWJlcn0uIC4uLmA7XG4gICAgICAgICAgICAgICAgLy8gaXMgdGhlcmUgYSBjb21tZW50IHByZWNlZGluZyB0aGUgZmlyc3QgbW92ZT9cbiAgICAgICAgICAgICAgICBtb3ZlU3RyaW5nID0gbW92ZVN0cmluZyA/IGAke21vdmVTdHJpbmd9ICR7cHJlZml4fWAgOiBwcmVmaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtb3ZlLmNvbG9yID09PSAndycpIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSB0aGUgcHJldmlvdXMgZ2VuZXJhdGVkIG1vdmVfc3RyaW5nIGlmIHdlIGhhdmUgb25lXG4gICAgICAgICAgICAgICAgaWYgKG1vdmVTdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVzLnB1c2gobW92ZVN0cmluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1vdmVTdHJpbmcgPSB0aGlzLl9tb3ZlTnVtYmVyICsgJy4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW92ZVN0cmluZyA9XG4gICAgICAgICAgICAgICAgbW92ZVN0cmluZyArICcgJyArIHRoaXMuX21vdmVUb1Nhbihtb3ZlLCB0aGlzLl9tb3Zlcyh7IGxlZ2FsOiB0cnVlIH0pKTtcbiAgICAgICAgICAgIHRoaXMuX21ha2VNb3ZlKG1vdmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFyZSB0aGVyZSBhbnkgb3RoZXIgbGVmdG92ZXIgbW92ZXM/XG4gICAgICAgIGlmIChtb3ZlU3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgbW92ZXMucHVzaChhcHBlbmRDb21tZW50KG1vdmVTdHJpbmcpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpcyB0aGVyZSBhIHJlc3VsdD9cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9oZWFkZXIuUmVzdWx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbW92ZXMucHVzaCh0aGlzLl9oZWFkZXIuUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgKiBoaXN0b3J5IHNob3VsZCBiZSBiYWNrIHRvIHdoYXQgaXQgd2FzIGJlZm9yZSB3ZSBzdGFydGVkIGdlbmVyYXRpbmcgUEdOLFxuICAgICAgICAgKiBzbyBqb2luIHRvZ2V0aGVyIG1vdmVzXG4gICAgICAgICAqL1xuICAgICAgICBpZiAobWF4V2lkdGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuam9pbignJykgKyBtb3Zlcy5qb2luKCcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAoamFoKTogaHVoP1xuICAgICAgICBjb25zdCBzdHJpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCAmJiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIC8vIE5COiB0aGlzIGRvZXMgbm90IHByZXNlcnZlIGNvbW1lbnQgd2hpdGVzcGFjZS5cbiAgICAgICAgY29uc3Qgd3JhcENvbW1lbnQgPSBmdW5jdGlvbiAod2lkdGgsIG1vdmUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgbW92ZS5zcGxpdCgnICcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoICsgdG9rZW4ubGVuZ3RoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0cmlwKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3bGluZSk7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIHdpZHRoICs9IHRva2VuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnICcpO1xuICAgICAgICAgICAgICAgIHdpZHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RyaXAoKSkge1xuICAgICAgICAgICAgICAgIHdpZHRoLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHdyYXAgdGhlIFBHTiBvdXRwdXQgYXQgbWF4X3dpZHRoXG4gICAgICAgIGxldCBjdXJyZW50V2lkdGggPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFdpZHRoICsgbW92ZXNbaV0ubGVuZ3RoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICBpZiAobW92ZXNbaV0uaW5jbHVkZXMoJ3snKSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2lkdGggPSB3cmFwQ29tbWVudChjdXJyZW50V2lkdGgsIG1vdmVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlIGN1cnJlbnQgbW92ZSB3aWxsIHB1c2ggcGFzdCBtYXhfd2lkdGhcbiAgICAgICAgICAgIGlmIChjdXJyZW50V2lkdGggKyBtb3Zlc1tpXS5sZW5ndGggPiBtYXhXaWR0aCAmJiBpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgZW5kIHRoZSBsaW5lIHdpdGggd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXdsaW5lKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50V2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCcgJyk7XG4gICAgICAgICAgICAgICAgY3VycmVudFdpZHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQucHVzaChtb3Zlc1tpXSk7XG4gICAgICAgICAgICBjdXJyZW50V2lkdGggKz0gbW92ZXNbaV0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XG4gICAgfVxuICAgIGhlYWRlciguLi5hcmdzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2ldID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgYXJnc1tpICsgMV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGVhZGVyW2FyZ3NbaV1dID0gYXJnc1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlYWRlcjtcbiAgICB9XG4gICAgbG9hZFBnbihwZ24sIHsgc3RyaWN0ID0gZmFsc2UsIG5ld2xpbmVDaGFyID0gJ1xccj9cXG4nLCB9ID0ge30pIHtcbiAgICAgICAgZnVuY3Rpb24gbWFzayhzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxcXC9nLCAnXFxcXCcpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlUGduSGVhZGVyKGhlYWRlcikge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyT2JqID0ge307XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gaGVhZGVyLnNwbGl0KG5ldyBSZWdFeHAobWFzayhuZXdsaW5lQ2hhcikpKTtcbiAgICAgICAgICAgIGxldCBrZXkgPSAnJztcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvXlxccypcXFtcXHMqKFtBLVphLXpdKylcXHMqXCIoLiopXCJcXHMqXFxdXFxzKiQvO1xuICAgICAgICAgICAgICAgIGtleSA9IGhlYWRlcnNbaV0ucmVwbGFjZShyZWdleCwgJyQxJyk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBoZWFkZXJzW2ldLnJlcGxhY2UocmVnZXgsICckMicpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyT2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyT2JqO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN0cmlwIHdoaXRlc3BhY2UgZnJvbSBoZWFkL3RhaWwgb2YgUEdOIGJsb2NrXG4gICAgICAgIHBnbiA9IHBnbi50cmltKCk7XG4gICAgICAgIC8qXG4gICAgICAgICAqIFJlZ0V4cCB0byBzcGxpdCBoZWFkZXIuIFRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IGhlYWRlciBhbmQgbW92ZXRleHRcbiAgICAgICAgICogd2lsbCBhbHdheXMgaGF2ZSBhIGJsYW5rIGxpbmUgYmV0d2VlbiB0aGVtIChpZSwgdHdvIG5ld2xpbmVfY2hhcidzKS4gSGFuZGxlc1xuICAgICAgICAgKiBjYXNlIHdoZXJlIG1vdmV0ZXh0IGlzIGVtcHR5IGJ5IG1hdGNoaW5nIG5ld2xpbmVDaGFyIHVudGlsIGVuZCBvZiBzdHJpbmcgaXNcbiAgICAgICAgICogbWF0Y2hlZCAtIGVmZmVjdGl2ZWx5IHRyaW1taW5nIGZyb20gdGhlIGVuZCBleHRyYSBuZXdsaW5lQ2hhci5cbiAgICAgICAgICpcbiAgICAgICAgICogV2l0aCBkZWZhdWx0IG5ld2xpbmVfY2hhciwgd2lsbCBlcXVhbDpcbiAgICAgICAgICogL14oXFxbKCg/Olxccj9cXG4pfC4pKlxcXSkoKD86XFxzKlxccj9cXG4pezJ9fCg/OlxccypcXHI/XFxuKSokKS9cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGhlYWRlclJlZ2V4ID0gbmV3IFJlZ0V4cCgnXihcXFxcWygoPzonICtcbiAgICAgICAgICAgIG1hc2sobmV3bGluZUNoYXIpICtcbiAgICAgICAgICAgICcpfC4pKlxcXFxdKScgK1xuICAgICAgICAgICAgJygoPzpcXFxccyonICtcbiAgICAgICAgICAgIG1hc2sobmV3bGluZUNoYXIpICtcbiAgICAgICAgICAgICcpezJ9fCg/OlxcXFxzKicgK1xuICAgICAgICAgICAgbWFzayhuZXdsaW5lQ2hhcikgK1xuICAgICAgICAgICAgJykqJCknKTtcbiAgICAgICAgLy8gSWYgbm8gaGVhZGVyIGdpdmVuLCBiZWdpbiB3aXRoIG1vdmVzLlxuICAgICAgICBjb25zdCBoZWFkZXJSZWdleFJlc3VsdHMgPSBoZWFkZXJSZWdleC5leGVjKHBnbik7XG4gICAgICAgIGNvbnN0IGhlYWRlclN0cmluZyA9IGhlYWRlclJlZ2V4UmVzdWx0c1xuICAgICAgICAgICAgPyBoZWFkZXJSZWdleFJlc3VsdHMubGVuZ3RoID49IDJcbiAgICAgICAgICAgICAgICA/IGhlYWRlclJlZ2V4UmVzdWx0c1sxXVxuICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIC8vIFB1dCB0aGUgYm9hcmQgaW4gdGhlIHN0YXJ0aW5nIHBvc2l0aW9uXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgLy8gcGFyc2UgUEdOIGhlYWRlclxuICAgICAgICBjb25zdCBoZWFkZXJzID0gcGFyc2VQZ25IZWFkZXIoaGVhZGVyU3RyaW5nKTtcbiAgICAgICAgbGV0IGZlbiA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAvLyBjaGVjayB0byBzZWUgdXNlciBpcyBpbmNsdWRpbmcgZmVuIChwb3NzaWJseSB3aXRoIHdyb25nIHRhZyBjYXNlKVxuICAgICAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSAnZmVuJykge1xuICAgICAgICAgICAgICAgIGZlbiA9IGhlYWRlcnNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGVhZGVyKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgKiB0aGUgcGVybWlzc2l2ZSBwYXJzZXIgc2hvdWxkIGF0dGVtcHQgdG8gbG9hZCBhIGZlbiB0YWcsIGV2ZW4gaWYgaXQncyB0aGVcbiAgICAgICAgICogd3JvbmcgY2FzZSBhbmQgZG9lc24ndCBpbmNsdWRlIGEgY29ycmVzcG9uZGluZyBbU2V0VXAgXCIxXCJdIHRhZ1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQoZmVuLCB7IHByZXNlcnZlSGVhZGVyczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBzdHJpY3QgcGFyc2VyIC0gbG9hZCB0aGUgc3RhcnRpbmcgcG9zaXRpb24gaW5kaWNhdGVkIGJ5IFtTZXR1cCAnMSddXG4gICAgICAgICAgICAgKiBhbmQgW0ZFTiBwb3NpdGlvbl1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGhlYWRlcnNbJ1NldFVwJ10gPT09ICcxJykge1xuICAgICAgICAgICAgICAgIGlmICghKCdGRU4nIGluIGhlYWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBQR046IEZFTiB0YWcgbXVzdCBiZSBzdXBwbGllZCB3aXRoIFNldFVwIHRhZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBjbGVhciB0aGUgaGVhZGVycyB3aGVuIGxvYWRpbmdcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQoaGVhZGVyc1snRkVOJ10sIHsgcHJlc2VydmVIZWFkZXJzOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICAqIE5COiB0aGUgcmVnZXhlcyBiZWxvdyB0aGF0IGRlbGV0ZSBtb3ZlIG51bWJlcnMsIHJlY3Vyc2l2ZSBhbm5vdGF0aW9ucyxcbiAgICAgICAgICogYW5kIG51bWVyaWMgYW5ub3RhdGlvbiBnbHlwaHMgbWF5IGFsc28gbWF0Y2ggdGV4dCBpbiBjb21tZW50cy4gVG9cbiAgICAgICAgICogcHJldmVudCB0aGlzLCB3ZSB0cmFuc2Zvcm0gY29tbWVudHMgYnkgaGV4LWVuY29kaW5nIHRoZW0gaW4gcGxhY2UgYW5kXG4gICAgICAgICAqIGRlY29kaW5nIHRoZW0gYWdhaW4gYWZ0ZXIgdGhlIG90aGVyIHRva2VucyBoYXZlIGJlZW4gZGVsZXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hpbGUgdGhlIHNwZWMgc3RhdGVzIHRoYXQgUEdOIGZpbGVzIHNob3VsZCBiZSBBU0NJSSBlbmNvZGVkLCB3ZSB1c2VcbiAgICAgICAgICoge2VuLGRlfWNvZGVVUklDb21wb25lbnQgaGVyZSB0byBzdXBwb3J0IGFyYml0cmFyeSBVVEY4IGFzIGEgY29udmVuaWVuY2VcbiAgICAgICAgICogZm9yIG1vZGVybiB1c2Vyc1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gdG9IZXgocykge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20ocylcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBlbmNvZGVVUkkgZG9lc24ndCB0cmFuc2Zvcm0gbW9zdCBBU0NJSSBjaGFyYWN0ZXJzLCBzbyB3ZSBoYW5kbGVcbiAgICAgICAgICAgICAgICAgKiB0aGVzZSBvdXJzZWx2ZXNcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gYy5jaGFyQ29kZUF0KDApIDwgMTI4XG4gICAgICAgICAgICAgICAgICAgID8gYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KVxuICAgICAgICAgICAgICAgICAgICA6IGVuY29kZVVSSUNvbXBvbmVudChjKS5yZXBsYWNlKC8lL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuam9pbignJyk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZnJvbUhleChzKSB7XG4gICAgICAgICAgICByZXR1cm4gcy5sZW5ndGggPT0gMFxuICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICA6IGRlY29kZVVSSUNvbXBvbmVudCgnJScgKyAocy5tYXRjaCgvLnsxLDJ9L2cpIHx8IFtdKS5qb2luKCclJykpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZUNvbW1lbnQgPSBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcyA9IHMucmVwbGFjZShuZXcgUmVnRXhwKG1hc2sobmV3bGluZUNoYXIpLCAnZycpLCAnICcpO1xuICAgICAgICAgICAgcmV0dXJuIGB7JHt0b0hleChzLnNsaWNlKDEsIHMubGVuZ3RoIC0gMSkpfX1gO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkZWNvZGVDb21tZW50ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoJ3snKSAmJiBzLmVuZHNXaXRoKCd9JykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUhleChzLnNsaWNlKDEsIHMubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBkZWxldGUgaGVhZGVyIHRvIGdldCB0aGUgbW92ZXNcbiAgICAgICAgbGV0IG1zID0gcGduXG4gICAgICAgICAgICAucmVwbGFjZShoZWFkZXJTdHJpbmcsICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgIC8vIGVuY29kZSBjb21tZW50cyBzbyB0aGV5IGRvbid0IGdldCBkZWxldGVkIGJlbG93XG4gICAgICAgIG5ldyBSZWdFeHAoYCh7W159XSp9KSs/fDsoW14ke21hc2sobmV3bGluZUNoYXIpfV0qKWAsICdnJyksIGZ1bmN0aW9uIChfbWF0Y2gsIGJyYWNrZXQsIHNlbWljb2xvbikge1xuICAgICAgICAgICAgcmV0dXJuIGJyYWNrZXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gZW5jb2RlQ29tbWVudChicmFja2V0KVxuICAgICAgICAgICAgICAgIDogJyAnICsgZW5jb2RlQ29tbWVudChgeyR7c2VtaWNvbG9uLnNsaWNlKDEpfX1gKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAobWFzayhuZXdsaW5lQ2hhciksICdnJyksICcgJyk7XG4gICAgICAgIC8vIGRlbGV0ZSByZWN1cnNpdmUgYW5ub3RhdGlvbiB2YXJpYXRpb25zXG4gICAgICAgIGNvbnN0IHJhdlJlZ2V4ID0gLyhcXChbXigpXStcXCkpKz8vZztcbiAgICAgICAgd2hpbGUgKHJhdlJlZ2V4LnRlc3QobXMpKSB7XG4gICAgICAgICAgICBtcyA9IG1zLnJlcGxhY2UocmF2UmVnZXgsICcnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkZWxldGUgbW92ZSBudW1iZXJzXG4gICAgICAgIG1zID0gbXMucmVwbGFjZSgvXFxkK1xcLihcXC5cXC4pPy9nLCAnJyk7XG4gICAgICAgIC8vIGRlbGV0ZSAuLi4gaW5kaWNhdGluZyBibGFjayB0byBtb3ZlXG4gICAgICAgIG1zID0gbXMucmVwbGFjZSgvXFwuXFwuXFwuL2csICcnKTtcbiAgICAgICAgLyogZGVsZXRlIG51bWVyaWMgYW5ub3RhdGlvbiBnbHlwaHMgKi9cbiAgICAgICAgbXMgPSBtcy5yZXBsYWNlKC9cXCRcXGQrL2csICcnKTtcbiAgICAgICAgLy8gdHJpbSBhbmQgZ2V0IGFycmF5IG9mIG1vdmVzXG4gICAgICAgIGxldCBtb3ZlcyA9IG1zLnRyaW0oKS5zcGxpdChuZXcgUmVnRXhwKC9cXHMrLykpO1xuICAgICAgICAvLyBkZWxldGUgZW1wdHkgZW50cmllc1xuICAgICAgICBtb3ZlcyA9IG1vdmVzLmZpbHRlcigobW92ZSkgPT4gbW92ZSAhPT0gJycpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGhhbGZNb3ZlID0gMDsgaGFsZk1vdmUgPCBtb3Zlcy5sZW5ndGg7IGhhbGZNb3ZlKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSBkZWNvZGVDb21tZW50KG1vdmVzW2hhbGZNb3ZlXSk7XG4gICAgICAgICAgICBpZiAoY29tbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tbWVudHNbdGhpcy5mZW4oKV0gPSBjb21tZW50O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbW92ZSA9IHRoaXMuX21vdmVGcm9tU2FuKG1vdmVzW2hhbGZNb3ZlXSwgc3RyaWN0KTtcbiAgICAgICAgICAgIC8vIGludmFsaWQgbW92ZVxuICAgICAgICAgICAgaWYgKG1vdmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHdhcyB0aGUgbW92ZSBhbiBlbmQgb2YgZ2FtZSBtYXJrZXJcbiAgICAgICAgICAgICAgICBpZiAoVEVSTUlOQVRJT05fTUFSS0VSUy5pbmRleE9mKG1vdmVzW2hhbGZNb3ZlXSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBtb3Zlc1toYWxmTW92ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbW92ZSBpbiBQR046ICR7bW92ZXNbaGFsZk1vdmVdfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBlbmQgb2YgZ2FtZSBtYXJrZXIgaWYgbWFraW5nIGEgdmFsaWQgbW92ZVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMuX21ha2VNb3ZlKG1vdmUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uQ291bnRzW3RoaXMuZmVuKCldKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgICogUGVyIHNlY3Rpb24gOC4yLjYgb2YgdGhlIFBHTiBzcGVjLCB0aGUgUmVzdWx0IHRhZyBwYWlyIG11c3QgbWF0Y2ggbWF0Y2hcbiAgICAgICAgICogdGhlIHRlcm1pbmF0aW9uIG1hcmtlci4gT25seSBkbyB0aGlzIHdoZW4gaGVhZGVycyBhcmUgcHJlc2VudCwgYnV0IHRoZVxuICAgICAgICAgKiByZXN1bHQgdGFnIGlzIG1pc3NpbmdcbiAgICAgICAgICovXG4gICAgICAgIGlmIChyZXN1bHQgJiYgT2JqZWN0LmtleXModGhpcy5faGVhZGVyKS5sZW5ndGggJiYgIXRoaXMuX2hlYWRlclsnUmVzdWx0J10pIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyKCdSZXN1bHQnLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qXG4gICAgICogQ29udmVydCBhIG1vdmUgZnJvbSAweDg4IGNvb3JkaW5hdGVzIHRvIFN0YW5kYXJkIEFsZ2VicmFpYyBOb3RhdGlvblxuICAgICAqIChTQU4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0cmljdCBVc2UgdGhlIHN0cmljdCBTQU4gcGFyc2VyLiBJdCB3aWxsIHRocm93IGVycm9yc1xuICAgICAqIG9uIG92ZXJseSBkaXNhbWJpZ3VhdGVkIG1vdmVzIChzZWUgYmVsb3cpOlxuICAgICAqXG4gICAgICogcjFicWtibnIvcHBwMnBwcC8ybjUvMUIxcFAzLzRQMy84L1BQUFAyUFAvUk5CUUsxTlIgYiBLUWtxIC0gMiA0XG4gICAgICogNC4gLi4uIE5nZTcgaXMgb3Zlcmx5IGRpc2FtYmlndWF0ZWQgYmVjYXVzZSB0aGUga25pZ2h0IG9uIGM2IGlzIHBpbm5lZFxuICAgICAqIDQuIC4uLiBOZTcgaXMgdGVjaG5pY2FsbHkgdGhlIHZhbGlkIFNBTlxuICAgICAqL1xuICAgIF9tb3ZlVG9TYW4obW92ZSwgbW92ZXMpIHtcbiAgICAgICAgbGV0IG91dHB1dCA9ICcnO1xuICAgICAgICBpZiAobW92ZS5mbGFncyAmIEJJVFMuS1NJREVfQ0FTVExFKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSAnTy1PJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtb3ZlLmZsYWdzICYgQklUUy5RU0lERV9DQVNUTEUpIHtcbiAgICAgICAgICAgIG91dHB1dCA9ICdPLU8tTyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobW92ZS5waWVjZSAhPT0gUEFXTikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc2FtYmlndWF0b3IgPSBnZXREaXNhbWJpZ3VhdG9yKG1vdmUsIG1vdmVzKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gbW92ZS5waWVjZS50b1VwcGVyQ2FzZSgpICsgZGlzYW1iaWd1YXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3ZlLmZsYWdzICYgKEJJVFMuQ0FQVFVSRSB8IEJJVFMuRVBfQ0FQVFVSRSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobW92ZS5waWVjZSA9PT0gUEFXTikge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgKz0gYWxnZWJyYWljKG1vdmUuZnJvbSlbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAneCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRwdXQgKz0gYWxnZWJyYWljKG1vdmUudG8pO1xuICAgICAgICAgICAgaWYgKG1vdmUucHJvbW90aW9uKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc9JyArIG1vdmUucHJvbW90aW9uLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFrZU1vdmUobW92ZSk7XG4gICAgICAgIGlmICh0aGlzLmlzQ2hlY2soKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNDaGVja21hdGUoKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnIyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJysnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VuZG9Nb3ZlKCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIC8vIGNvbnZlcnQgYSBtb3ZlIGZyb20gU3RhbmRhcmQgQWxnZWJyYWljIE5vdGF0aW9uIChTQU4pIHRvIDB4ODggY29vcmRpbmF0ZXNcbiAgICBfbW92ZUZyb21TYW4obW92ZSwgc3RyaWN0ID0gZmFsc2UpIHtcbiAgICAgICAgLy8gc3RyaXAgb2ZmIGFueSBtb3ZlIGRlY29yYXRpb25zOiBlLmcgTmYzKz8hIGJlY29tZXMgTmYzXG4gICAgICAgIGNvbnN0IGNsZWFuTW92ZSA9IHN0cmlwcGVkU2FuKG1vdmUpO1xuICAgICAgICBsZXQgcGllY2VUeXBlID0gaW5mZXJQaWVjZVR5cGUoY2xlYW5Nb3ZlKTtcbiAgICAgICAgbGV0IG1vdmVzID0gdGhpcy5fbW92ZXMoeyBsZWdhbDogdHJ1ZSwgcGllY2U6IHBpZWNlVHlwZSB9KTtcbiAgICAgICAgLy8gc3RyaWN0IHBhcnNlclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbW92ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjbGVhbk1vdmUgPT09IHN0cmlwcGVkU2FuKHRoaXMuX21vdmVUb1Nhbihtb3Zlc1tpXSwgbW92ZXMpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb3Zlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgc3RyaWN0IHBhcnNlciBmYWlsZWRcbiAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBpZWNlID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgbWF0Y2hlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGZyb20gPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCB0byA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHByb21vdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgLypcbiAgICAgICAgICogVGhlIGRlZmF1bHQgcGVybWlzc2l2ZSAobm9uLXN0cmljdCkgcGFyc2VyIGFsbG93cyB0aGUgdXNlciB0byBwYXJzZVxuICAgICAgICAgKiBub24tc3RhbmRhcmQgY2hlc3Mgbm90YXRpb25zLiBUaGlzIHBhcnNlciBpcyBvbmx5IHJ1biBhZnRlciB0aGUgc3RyaWN0XG4gICAgICAgICAqIFN0YW5kYXJkIEFsZ2VicmFpYyBOb3RhdGlvbiAoU0FOKSBwYXJzZXIgaGFzIGZhaWxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiBydW5uaW5nIHRoZSBwZXJtaXNzaXZlIHBhcnNlciwgd2UnbGwgcnVuIGEgcmVnZXggdG8gZ3JhYiB0aGUgcGllY2UsIHRoZVxuICAgICAgICAgKiB0by9mcm9tIHNxdWFyZSwgYW5kIGFuIG9wdGlvbmFsIHByb21vdGlvbiBwaWVjZS4gVGhpcyByZWdleCB3aWxsXG4gICAgICAgICAqIHBhcnNlIGNvbW1vbiBub24tc3RhbmRhcmQgbm90YXRpb24gbGlrZTogUGUyLWU0LCBSYzFjNCwgUWYzeGY3LFxuICAgICAgICAgKiBmN2Y4cSwgYjFjM1xuICAgICAgICAgKlxuICAgICAgICAgKiBOT1RFOiBTb21lIHBvc2l0aW9ucyBhbmQgbW92ZXMgbWF5IGJlIGFtYmlndW91cyB3aGVuIHVzaW5nIHRoZSBwZXJtaXNzaXZlXG4gICAgICAgICAqIHBhcnNlci4gRm9yIGV4YW1wbGUsIGluIHRoaXMgcG9zaXRpb246IDZrMS84LzgvQjcvOC84LzgvQk40SzEgdyAtIC0gMCAxLFxuICAgICAgICAgKiB0aGUgbW92ZSBiMWMzIG1heSBiZSBpbnRlcnByZXRlZCBhcyBOYzMgb3IgQjFjMyAoYSBkaXNhbWJpZ3VhdGVkIGJpc2hvcFxuICAgICAgICAgKiBtb3ZlKS4gSW4gdGhlc2UgY2FzZXMsIHRoZSBwZXJtaXNzaXZlIHBhcnNlciB3aWxsIGRlZmF1bHQgdG8gdGhlIG1vc3RcbiAgICAgICAgICogYmFzaWMgaW50ZXJwcmV0YXRpb24gKHdoaWNoIGlzIGIxYzMgcGFyc2luZyB0byBOYzMpLlxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IG92ZXJseURpc2FtYmlndWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgbWF0Y2hlcyA9IGNsZWFuTW92ZS5tYXRjaCgvKFtwbmJycWtQTkJSUUtdKT8oW2EtaF1bMS04XSl4Py0/KFthLWhdWzEtOF0pKFtxcmJuUVJCTl0pPy8pO1xuICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgcGllY2UgPSBtYXRjaGVzWzFdO1xuICAgICAgICAgICAgZnJvbSA9IG1hdGNoZXNbMl07XG4gICAgICAgICAgICB0byA9IG1hdGNoZXNbM107XG4gICAgICAgICAgICBwcm9tb3Rpb24gPSBtYXRjaGVzWzRdO1xuICAgICAgICAgICAgaWYgKGZyb20ubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBvdmVybHlEaXNhbWJpZ3VhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBUaGUgW2EtaF0/WzEtOF0/IHBvcnRpb24gb2YgdGhlIHJlZ2V4IGJlbG93IGhhbmRsZXMgbW92ZXMgdGhhdCBtYXkgYmVcbiAgICAgICAgICAgICAqIG92ZXJseSBkaXNhbWJpZ3VhdGVkIChlLmcuIE5nZTcgaXMgdW5uZWNlc3NhcnkgYW5kIG5vbi1zdGFuZGFyZCB3aGVuXG4gICAgICAgICAgICAgKiB0aGVyZSBpcyBvbmUgbGVnYWwga25pZ2h0IG1vdmUgdG8gZTcpLiBJbiB0aGlzIGNhc2UsIHRoZSB2YWx1ZSBvZlxuICAgICAgICAgICAgICogJ2Zyb20nIHZhcmlhYmxlIHdpbGwgYmUgYSByYW5rIG9yIGZpbGUsIG5vdCBhIHNxdWFyZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWF0Y2hlcyA9IGNsZWFuTW92ZS5tYXRjaCgvKFtwbmJycWtQTkJSUUtdKT8oW2EtaF0/WzEtOF0/KXg/LT8oW2EtaF1bMS04XSkoW3FyYm5RUkJOXSk/Lyk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIHBpZWNlID0gbWF0Y2hlc1sxXTtcbiAgICAgICAgICAgICAgICBmcm9tID0gbWF0Y2hlc1syXTtcbiAgICAgICAgICAgICAgICB0byA9IG1hdGNoZXNbM107XG4gICAgICAgICAgICAgICAgcHJvbW90aW9uID0gbWF0Y2hlc1s0XTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbS5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBvdmVybHlEaXNhbWJpZ3VhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcGllY2VUeXBlID0gaW5mZXJQaWVjZVR5cGUoY2xlYW5Nb3ZlKTtcbiAgICAgICAgbW92ZXMgPSB0aGlzLl9tb3Zlcyh7XG4gICAgICAgICAgICBsZWdhbDogdHJ1ZSxcbiAgICAgICAgICAgIHBpZWNlOiBwaWVjZSA/IHBpZWNlIDogcGllY2VUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0bykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG1vdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWZyb20pIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcm9tIHNxdWFyZSwgaXQgY291bGQgYmUganVzdCAneCcgbWlzc2luZyBmcm9tIGEgY2FwdHVyZVxuICAgICAgICAgICAgICAgIGlmIChjbGVhbk1vdmUgPT09XG4gICAgICAgICAgICAgICAgICAgIHN0cmlwcGVkU2FuKHRoaXMuX21vdmVUb1Nhbihtb3Zlc1tpXSwgbW92ZXMpKS5yZXBsYWNlKCd4JywgJycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3Zlc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaGFuZC1jb21wYXJlIG1vdmUgcHJvcGVydGllcyB3aXRoIHRoZSByZXN1bHRzIGZyb20gb3VyIHBlcm1pc3NpdmUgcmVnZXhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCghcGllY2UgfHwgcGllY2UudG9Mb3dlckNhc2UoKSA9PSBtb3Zlc1tpXS5waWVjZSkgJiZcbiAgICAgICAgICAgICAgICBPeDg4W2Zyb21dID09IG1vdmVzW2ldLmZyb20gJiZcbiAgICAgICAgICAgICAgICBPeDg4W3RvXSA9PSBtb3Zlc1tpXS50byAmJlxuICAgICAgICAgICAgICAgICghcHJvbW90aW9uIHx8IHByb21vdGlvbi50b0xvd2VyQ2FzZSgpID09IG1vdmVzW2ldLnByb21vdGlvbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW92ZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvdmVybHlEaXNhbWJpZ3VhdGVkKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBTUEVDSUFMIENBU0U6IHdlIHBhcnNlZCBhIG1vdmUgc3RyaW5nIHRoYXQgbWF5IGhhdmUgYW4gdW5uZWVkZWRcbiAgICAgICAgICAgICAgICAgKiByYW5rL2ZpbGUgZGlzYW1iaWd1YXRvciAoZS5nLiBOZ2U3KS4gIFRoZSAnZnJvbScgdmFyaWFibGUgd2lsbFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IHNxdWFyZSA9IGFsZ2VicmFpYyhtb3Zlc1tpXS5mcm9tKTtcbiAgICAgICAgICAgICAgICBpZiAoKCFwaWVjZSB8fCBwaWVjZS50b0xvd2VyQ2FzZSgpID09IG1vdmVzW2ldLnBpZWNlKSAmJlxuICAgICAgICAgICAgICAgICAgICBPeDg4W3RvXSA9PSBtb3Zlc1tpXS50byAmJlxuICAgICAgICAgICAgICAgICAgICAoZnJvbSA9PSBzcXVhcmVbMF0gfHwgZnJvbSA9PSBzcXVhcmVbMV0pICYmXG4gICAgICAgICAgICAgICAgICAgICghcHJvbW90aW9uIHx8IHByb21vdGlvbi50b0xvd2VyQ2FzZSgpID09IG1vdmVzW2ldLnByb21vdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vdmVzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYXNjaWkoKSB7XG4gICAgICAgIGxldCBzID0gJyAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXFxuJztcbiAgICAgICAgZm9yIChsZXQgaSA9IE94ODguYTg7IGkgPD0gT3g4OC5oMTsgaSsrKSB7XG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRoZSByYW5rXG4gICAgICAgICAgICBpZiAoZmlsZShpKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHMgKz0gJyAnICsgJzg3NjU0MzIxJ1tyYW5rKGkpXSArICcgfCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fYm9hcmRbaV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaWVjZSA9IHRoaXMuX2JvYXJkW2ldLnR5cGU7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLl9ib2FyZFtpXS5jb2xvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBzeW1ib2wgPSBjb2xvciA9PT0gV0hJVEUgPyBwaWVjZS50b1VwcGVyQ2FzZSgpIDogcGllY2UudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBzICs9ICcgJyArIHN5bWJvbCArICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHMgKz0gJyAuICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGkgKyAxKSAmIDB4ODgpIHtcbiAgICAgICAgICAgICAgICBzICs9ICd8XFxuJztcbiAgICAgICAgICAgICAgICBpICs9IDg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcyArPSAnICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcXG4nO1xuICAgICAgICBzICs9ICcgICAgIGEgIGIgIGMgIGQgIGUgIGYgIGcgIGgnO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgcGVyZnQoZGVwdGgpIHtcbiAgICAgICAgY29uc3QgbW92ZXMgPSB0aGlzLl9tb3Zlcyh7IGxlZ2FsOiBmYWxzZSB9KTtcbiAgICAgICAgbGV0IG5vZGVzID0gMDtcbiAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLl90dXJuO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbW92ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX21ha2VNb3ZlKG1vdmVzW2ldKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNLaW5nQXR0YWNrZWQoY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlcHRoIC0gMSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMgKz0gdGhpcy5wZXJmdChkZXB0aCAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91bmRvTW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlcztcbiAgICB9XG4gICAgLy8gcHJldHR5ID0gZXh0ZXJuYWwgbW92ZSBvYmplY3RcbiAgICBfbWFrZVByZXR0eSh1Z2x5TW92ZSkge1xuICAgICAgICBjb25zdCB7IGNvbG9yLCBwaWVjZSwgZnJvbSwgdG8sIGZsYWdzLCBjYXB0dXJlZCwgcHJvbW90aW9uIH0gPSB1Z2x5TW92ZTtcbiAgICAgICAgbGV0IHByZXR0eUZsYWdzID0gJyc7XG4gICAgICAgIGZvciAoY29uc3QgZmxhZyBpbiBCSVRTKSB7XG4gICAgICAgICAgICBpZiAoQklUU1tmbGFnXSAmIGZsYWdzKSB7XG4gICAgICAgICAgICAgICAgcHJldHR5RmxhZ3MgKz0gRkxBR1NbZmxhZ107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJvbUFsZ2VicmFpYyA9IGFsZ2VicmFpYyhmcm9tKTtcbiAgICAgICAgY29uc3QgdG9BbGdlYnJhaWMgPSBhbGdlYnJhaWModG8pO1xuICAgICAgICBjb25zdCBtb3ZlID0ge1xuICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICBwaWVjZSxcbiAgICAgICAgICAgIGZyb206IGZyb21BbGdlYnJhaWMsXG4gICAgICAgICAgICB0bzogdG9BbGdlYnJhaWMsXG4gICAgICAgICAgICBzYW46IHRoaXMuX21vdmVUb1Nhbih1Z2x5TW92ZSwgdGhpcy5fbW92ZXMoeyBsZWdhbDogdHJ1ZSB9KSksXG4gICAgICAgICAgICBmbGFnczogcHJldHR5RmxhZ3MsXG4gICAgICAgICAgICBsYW46IGZyb21BbGdlYnJhaWMgKyB0b0FsZ2VicmFpYyxcbiAgICAgICAgICAgIGJlZm9yZTogdGhpcy5mZW4oKSxcbiAgICAgICAgICAgIGFmdGVyOiAnJyxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZ2VuZXJhdGUgdGhlIEZFTiBmb3IgdGhlICdhZnRlcicga2V5XG4gICAgICAgIHRoaXMuX21ha2VNb3ZlKHVnbHlNb3ZlKTtcbiAgICAgICAgbW92ZS5hZnRlciA9IHRoaXMuZmVuKCk7XG4gICAgICAgIHRoaXMuX3VuZG9Nb3ZlKCk7XG4gICAgICAgIGlmIChjYXB0dXJlZCkge1xuICAgICAgICAgICAgbW92ZS5jYXB0dXJlZCA9IGNhcHR1cmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tb3Rpb24pIHtcbiAgICAgICAgICAgIG1vdmUucHJvbW90aW9uID0gcHJvbW90aW9uO1xuICAgICAgICAgICAgbW92ZS5sYW4gKz0gcHJvbW90aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb3ZlO1xuICAgIH1cbiAgICB0dXJuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHVybjtcbiAgICB9XG4gICAgYm9hcmQoKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgICAgICBsZXQgcm93ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSBPeDg4LmE4OyBpIDw9IE94ODguaDE7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JvYXJkW2ldID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByb3cucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlOiBhbGdlYnJhaWMoaSksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuX2JvYXJkW2ldLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLl9ib2FyZFtpXS5jb2xvcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoaSArIDEpICYgMHg4OCkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHJvdyk7XG4gICAgICAgICAgICAgICAgcm93ID0gW107XG4gICAgICAgICAgICAgICAgaSArPSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIHNxdWFyZUNvbG9yKHNxdWFyZSkge1xuICAgICAgICBpZiAoc3F1YXJlIGluIE94ODgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNxID0gT3g4OFtzcXVhcmVdO1xuICAgICAgICAgICAgcmV0dXJuIChyYW5rKHNxKSArIGZpbGUoc3EpKSAlIDIgPT09IDAgPyAnbGlnaHQnIDogJ2RhcmsnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBoaXN0b3J5KHsgdmVyYm9zZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICBjb25zdCByZXZlcnNlZEhpc3RvcnkgPSBbXTtcbiAgICAgICAgY29uc3QgbW92ZUhpc3RvcnkgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2hpc3RvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV2ZXJzZWRIaXN0b3J5LnB1c2godGhpcy5fdW5kb01vdmUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmUgPSByZXZlcnNlZEhpc3RvcnkucG9wKCk7XG4gICAgICAgICAgICBpZiAoIW1vdmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2ZXJib3NlKSB7XG4gICAgICAgICAgICAgICAgbW92ZUhpc3RvcnkucHVzaCh0aGlzLl9tYWtlUHJldHR5KG1vdmUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vdmVIaXN0b3J5LnB1c2godGhpcy5fbW92ZVRvU2FuKG1vdmUsIHRoaXMuX21vdmVzKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21ha2VNb3ZlKG1vdmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb3ZlSGlzdG9yeTtcbiAgICB9XG4gICAgX3BydW5lQ29tbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHJldmVyc2VkSGlzdG9yeSA9IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50Q29tbWVudHMgPSB7fTtcbiAgICAgICAgY29uc3QgY29weUNvbW1lbnQgPSAoZmVuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmVuIGluIHRoaXMuX2NvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudENvbW1lbnRzW2Zlbl0gPSB0aGlzLl9jb21tZW50c1tmZW5dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB3aGlsZSAodGhpcy5faGlzdG9yeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXZlcnNlZEhpc3RvcnkucHVzaCh0aGlzLl91bmRvTW92ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb3B5Q29tbWVudCh0aGlzLmZlbigpKTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmUgPSByZXZlcnNlZEhpc3RvcnkucG9wKCk7XG4gICAgICAgICAgICBpZiAoIW1vdmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21ha2VNb3ZlKG1vdmUpO1xuICAgICAgICAgICAgY29weUNvbW1lbnQodGhpcy5mZW4oKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29tbWVudHMgPSBjdXJyZW50Q29tbWVudHM7XG4gICAgfVxuICAgIGdldENvbW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21tZW50c1t0aGlzLmZlbigpXTtcbiAgICB9XG4gICAgc2V0Q29tbWVudChjb21tZW50KSB7XG4gICAgICAgIHRoaXMuX2NvbW1lbnRzW3RoaXMuZmVuKCldID0gY29tbWVudC5yZXBsYWNlKCd7JywgJ1snKS5yZXBsYWNlKCd9JywgJ10nKTtcbiAgICB9XG4gICAgZGVsZXRlQ29tbWVudCgpIHtcbiAgICAgICAgY29uc3QgY29tbWVudCA9IHRoaXMuX2NvbW1lbnRzW3RoaXMuZmVuKCldO1xuICAgICAgICBkZWxldGUgdGhpcy5fY29tbWVudHNbdGhpcy5mZW4oKV07XG4gICAgICAgIHJldHVybiBjb21tZW50O1xuICAgIH1cbiAgICBnZXRDb21tZW50cygpIHtcbiAgICAgICAgdGhpcy5fcHJ1bmVDb21tZW50cygpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fY29tbWVudHMpLm1hcCgoZmVuKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBmZW46IGZlbiwgY29tbWVudDogdGhpcy5fY29tbWVudHNbZmVuXSB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVsZXRlQ29tbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX3BydW5lQ29tbWVudHMoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2NvbW1lbnRzKS5tYXAoKGZlbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tbWVudCA9IHRoaXMuX2NvbW1lbnRzW2Zlbl07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY29tbWVudHNbZmVuXTtcbiAgICAgICAgICAgIHJldHVybiB7IGZlbjogZmVuLCBjb21tZW50OiBjb21tZW50IH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRDYXN0bGluZ1JpZ2h0cyhjb2xvciwgcmlnaHRzKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2lkZSBvZiBbS0lORywgUVVFRU5dKSB7XG4gICAgICAgICAgICBpZiAocmlnaHRzW3NpZGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmlnaHRzW3NpZGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nhc3RsaW5nW2NvbG9yXSB8PSBTSURFU1tzaWRlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nhc3RsaW5nW2NvbG9yXSAmPSB+U0lERVNbc2lkZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNhc3RsaW5nUmlnaHRzKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZ2V0Q2FzdGxpbmdSaWdodHMoY29sb3IpO1xuICAgICAgICByZXR1cm4gKChyaWdodHNbS0lOR10gPT09IHVuZGVmaW5lZCB8fCByaWdodHNbS0lOR10gPT09IHJlc3VsdFtLSU5HXSkgJiZcbiAgICAgICAgICAgIChyaWdodHNbUVVFRU5dID09PSB1bmRlZmluZWQgfHwgcmlnaHRzW1FVRUVOXSA9PT0gcmVzdWx0W1FVRUVOXSkpO1xuICAgIH1cbiAgICBnZXRDYXN0bGluZ1JpZ2h0cyhjb2xvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW0tJTkddOiAodGhpcy5fY2FzdGxpbmdbY29sb3JdICYgU0lERVNbS0lOR10pICE9PSAwLFxuICAgICAgICAgICAgW1FVRUVOXTogKHRoaXMuX2Nhc3RsaW5nW2NvbG9yXSAmIFNJREVTW1FVRUVOXSkgIT09IDAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIG1vdmVOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb3ZlTnVtYmVyO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZXNzLmpzLm1hcCIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuZ2FtZS1uYXYtYnV0dG9uc3tcclxuICAgIG1hcmdpbi10b3A6MnB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbi5nYW1lLW5hdi1idXR0b25zID4gaW1ne1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjp3aGl0ZTtcclxuICAgIHBhZGRpbmc6NHB4IDhweDtcclxuICAgIGJvcmRlci1yYWRpdXM6NHB4O1xyXG4gICAgY3Vyc29yOnBvaW50ZXI7XHJcbiAgICBtYXJnaW4tcmlnaHQ6M3B4O1xyXG59XHJcbi5nYW1lLW5hdi1idXR0b25zID4gaW1nOmhvdmVye1xyXG4gICAgb3V0bGluZToycHggc29saWQgI0ZDMDtcclxufVxyXG4uZ2FtZS1uYXYtYnV0dG9ucyA+IGltZy5kaXNhYmxlZHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6Z3JleTtcclxuICAgIG91dGxpbmU6bm9uZTtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NvbXBvbmVudHMvdjIvZ2FtZU5hdmlnYXRvci9idXR0b25zLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGNBQWM7SUFDZCxrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLHNCQUFzQjtJQUN0QixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGNBQWM7SUFDZCxnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLHNCQUFzQjtBQUMxQjtBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLFlBQVk7QUFDaEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmdhbWUtbmF2LWJ1dHRvbnN7XFxyXFxuICAgIG1hcmdpbi10b3A6MnB4O1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcbi5nYW1lLW5hdi1idXR0b25zID4gaW1ne1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO1xcclxcbiAgICBwYWRkaW5nOjRweCA4cHg7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6NHB4O1xcclxcbiAgICBjdXJzb3I6cG9pbnRlcjtcXHJcXG4gICAgbWFyZ2luLXJpZ2h0OjNweDtcXHJcXG59XFxyXFxuLmdhbWUtbmF2LWJ1dHRvbnMgPiBpbWc6aG92ZXJ7XFxyXFxuICAgIG91dGxpbmU6MnB4IHNvbGlkICNGQzA7XFxyXFxufVxcclxcbi5nYW1lLW5hdi1idXR0b25zID4gaW1nLmRpc2FibGVke1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOmdyZXk7XFxyXFxuICAgIG91dGxpbmU6bm9uZTtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuYWJvdmUge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogLTNweDtcclxufVxyXG4uYmVsb3d7XHJcbiAgICBtYXJnaW4tdG9wOi0xcHg7XHJcbn1cclxuLnBsYXllcntcclxuICAgIGNvbHVtbi1jb3VudDoyO1xyXG4gICAgaGVpZ2h0OjR2aDtcclxufVxyXG4ucGxheWVyIC5uYW1le1xyXG4gICAgY2xlYXI6Ym90aDtcclxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgcGFkZGluZy1yaWdodDo0cHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXN7XHJcbiAgICBmbG9hdDpsZWZ0O1xyXG4gICAgbWFyZ2luLXRvcDotNXB4O1xyXG59XHJcbi5iZWxvdyAucGxheWVyIC5jYXB0dXJlc3tcclxuICAgIG1hcmdpbi10b3A6LTRweDtcclxufVxyXG4ucGxheWVyIC5zY29yZXtcclxuICAgIGZsb2F0OmxlZnQ7XHJcbiAgICBtYXJnaW4tbGVmdDo1cHg7XHJcbiAgICBtYXJnaW4tdG9wOjJweDtcclxuICAgIGZvbnQtc2l6ZToxMHB0O1xyXG59XHJcbi5wbGF5ZXIgLmNhcHR1cmVzIHN2Z3tcclxuICAgIHBvc2l0aW9uOnN0YXRpYztcclxuICAgIGhlaWdodDo0dmg7XHJcbiAgICB3aWR0aDo0dmg7XHJcbiAgICB0cmFuc2Zvcm06bm9uZTtcclxuICAgIG1hcmdpbi10b3A6MDtcclxuICAgIG1hcmdpbi1ib3R0b206LTExcHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLnAgc3ZnOmZpcnN0LWNoaWxke1xyXG4gICAgbWFyZ2luLWxlZnQ6LTRweDtcclxufVxyXG4ucGxheWVyIC5jYXB0dXJlcyAucCBzdmd7XHJcbiAgICBtYXJnaW4tbGVmdDotOHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0Oi01cHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLm57XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxcHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLm4gc3Zne1xyXG4gICAgbWFyZ2luLWxlZnQ6IC02cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IC0zcHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLmIgc3Zne1xyXG4gICAgbWFyZ2luLWxlZnQ6IC03cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IC00cHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLnIgc3Zne1xyXG4gICAgbWFyZ2luLWxlZnQ6IC02cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IC01cHg7XHJcbn1cclxuLnBsYXllciAuY2FwdHVyZXMgLnEgc3Zne1xyXG4gICAgbWFyZ2luLWJvdHRvbTotMTBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAtMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAwcHg7XHJcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9jb21wb25lbnRzL3YyL2dhbWVOYXZpZ2F0b3IvZ2FtZU5hdmlnYXRvci5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLGVBQWU7QUFDbkI7QUFDQTtJQUNJLGNBQWM7SUFDZCxVQUFVO0FBQ2Q7QUFDQTtJQUNJLFVBQVU7SUFDVixpQkFBaUI7SUFDakIsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxVQUFVO0lBQ1YsZUFBZTtBQUNuQjtBQUNBO0lBQ0ksZUFBZTtBQUNuQjtBQUNBO0lBQ0ksVUFBVTtJQUNWLGVBQWU7SUFDZixjQUFjO0lBQ2QsY0FBYztBQUNsQjtBQUNBO0lBQ0ksZUFBZTtJQUNmLFVBQVU7SUFDVixTQUFTO0lBQ1QsY0FBYztJQUNkLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksaUJBQWlCO0lBQ2pCLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksaUJBQWlCO0lBQ2pCLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksaUJBQWlCO0lBQ2pCLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQixpQkFBaUI7QUFDckJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmFib3ZlIHtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogLTNweDtcXHJcXG59XFxyXFxuLmJlbG93e1xcclxcbiAgICBtYXJnaW4tdG9wOi0xcHg7XFxyXFxufVxcclxcbi5wbGF5ZXJ7XFxyXFxuICAgIGNvbHVtbi1jb3VudDoyO1xcclxcbiAgICBoZWlnaHQ6NHZoO1xcclxcbn1cXHJcXG4ucGxheWVyIC5uYW1le1xcclxcbiAgICBjbGVhcjpib3RoO1xcclxcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcXHJcXG4gICAgcGFkZGluZy1yaWdodDo0cHg7XFxyXFxufVxcclxcbi5wbGF5ZXIgLmNhcHR1cmVze1xcclxcbiAgICBmbG9hdDpsZWZ0O1xcclxcbiAgICBtYXJnaW4tdG9wOi01cHg7XFxyXFxufVxcclxcbi5iZWxvdyAucGxheWVyIC5jYXB0dXJlc3tcXHJcXG4gICAgbWFyZ2luLXRvcDotNHB4O1xcclxcbn1cXHJcXG4ucGxheWVyIC5zY29yZXtcXHJcXG4gICAgZmxvYXQ6bGVmdDtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6NXB4O1xcclxcbiAgICBtYXJnaW4tdG9wOjJweDtcXHJcXG4gICAgZm9udC1zaXplOjEwcHQ7XFxyXFxufVxcclxcbi5wbGF5ZXIgLmNhcHR1cmVzIHN2Z3tcXHJcXG4gICAgcG9zaXRpb246c3RhdGljO1xcclxcbiAgICBoZWlnaHQ6NHZoO1xcclxcbiAgICB3aWR0aDo0dmg7XFxyXFxuICAgIHRyYW5zZm9ybTpub25lO1xcclxcbiAgICBtYXJnaW4tdG9wOjA7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206LTExcHg7XFxyXFxufVxcclxcbi5wbGF5ZXIgLmNhcHR1cmVzIC5wIHN2ZzpmaXJzdC1jaGlsZHtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6LTRweDtcXHJcXG59XFxyXFxuLnBsYXllciAuY2FwdHVyZXMgLnAgc3Zne1xcclxcbiAgICBtYXJnaW4tbGVmdDotOHB4O1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6LTVweDtcXHJcXG59XFxyXFxuLnBsYXllciAuY2FwdHVyZXMgLm57XFxyXFxuICAgIG1hcmdpbi1sZWZ0OiAycHg7XFxyXFxuICAgIG1hcmdpbi1yaWdodDogMXB4O1xcclxcbn1cXHJcXG4ucGxheWVyIC5jYXB0dXJlcyAubiBzdmd7XFxyXFxuICAgIG1hcmdpbi1sZWZ0OiAtNnB4O1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6IC0zcHg7XFxyXFxufVxcclxcbi5wbGF5ZXIgLmNhcHR1cmVzIC5iIHN2Z3tcXHJcXG4gICAgbWFyZ2luLWxlZnQ6IC03cHg7XFxyXFxuICAgIG1hcmdpbi1yaWdodDogLTRweDtcXHJcXG59XFxyXFxuLnBsYXllciAuY2FwdHVyZXMgLnIgc3Zne1xcclxcbiAgICBtYXJnaW4tbGVmdDogLTZweDtcXHJcXG4gICAgbWFyZ2luLXJpZ2h0OiAtNXB4O1xcclxcbn1cXHJcXG4ucGxheWVyIC5jYXB0dXJlcyAucSBzdmd7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206LTEwcHg7XFxyXFxuICAgIG1hcmdpbi1sZWZ0OiAtMnB4O1xcclxcbiAgICBtYXJnaW4tcmlnaHQ6IDBweDtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuZ2FtZS1oaXN0b3J5e1xyXG4gICAgLXdlYmtpdC1jb2x1bW4td2lkdGg6IDEwMHB4O1xyXG4gICAgIC1tb3otY29sdW1uLXdpZHRoOiAxMDBweDtcclxuICAgICAgICAgIGNvbHVtbi13aWR0aDogMTAwcHg7XHJcbn1cclxuLmdhbWUtaGlzdG9yeSBkaXZ7XHJcbiAgICBmbG9hdDpsZWZ0O1xyXG59XHJcbi5nYW1lLWhpc3RvcnkgLm1vdmV7XHJcbiAgICBwYWRkaW5nOjNweDtsaW5lLWhlaWdodDoyNHB4O21hcmdpbi1sZWZ0OjJweDttYXJnaW4tcmlnaHQ6M3B4O2JvcmRlci1yYWRpdXM6NHB4O2N1cnNvcjpwb2ludGVyO1xyXG59XHJcbi5nYW1lLWhpc3RvcnkgLm1vdmU6aG92ZXJ7XHJcbiAgICBvdXRsaW5lOjJweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCA1MSwgMC45KTtcclxufVxyXG4uZ2FtZS1oaXN0b3J5IC5tb3ZlLnN0YXJ0e1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI1NSwgMjU1LCA1MSwgMC4zKTtcclxufVxyXG4uZ2FtZS1oaXN0b3J5IC5tb3ZlLmVuZHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsIDI1NSwgNTEsIDAuNCk7XHJcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9jb21wb25lbnRzL3YyL2dhbWVOYXZpZ2F0b3IvaGlzdG9yeS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSwyQkFBMkI7S0FDMUIsd0JBQXdCO1VBQ25CLG1CQUFtQjtBQUM3QjtBQUNBO0lBQ0ksVUFBVTtBQUNkO0FBQ0E7SUFDSSxXQUFXLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDLGNBQWM7QUFDbEc7QUFDQTtJQUNJLHlDQUF5QztBQUM3QztBQUNBO0lBQ0ksd0NBQXdDO0FBQzVDO0FBQ0E7SUFDSSx3Q0FBd0M7QUFDNUNcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmdhbWUtaGlzdG9yeXtcXHJcXG4gICAgLXdlYmtpdC1jb2x1bW4td2lkdGg6IDEwMHB4O1xcclxcbiAgICAgLW1vei1jb2x1bW4td2lkdGg6IDEwMHB4O1xcclxcbiAgICAgICAgICBjb2x1bW4td2lkdGg6IDEwMHB4O1xcclxcbn1cXHJcXG4uZ2FtZS1oaXN0b3J5IGRpdntcXHJcXG4gICAgZmxvYXQ6bGVmdDtcXHJcXG59XFxyXFxuLmdhbWUtaGlzdG9yeSAubW92ZXtcXHJcXG4gICAgcGFkZGluZzozcHg7bGluZS1oZWlnaHQ6MjRweDttYXJnaW4tbGVmdDoycHg7bWFyZ2luLXJpZ2h0OjNweDtib3JkZXItcmFkaXVzOjRweDtjdXJzb3I6cG9pbnRlcjtcXHJcXG59XFxyXFxuLmdhbWUtaGlzdG9yeSAubW92ZTpob3ZlcntcXHJcXG4gICAgb3V0bGluZToycHggc29saWQgcmdiYSgyNTUsIDI1NSwgNTEsIDAuOSk7XFxyXFxufVxcclxcbi5nYW1lLWhpc3RvcnkgLm1vdmUuc3RhcnR7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsIDI1NSwgNTEsIDAuMyk7XFxyXFxufVxcclxcbi5nYW1lLWhpc3RvcnkgLm1vdmUuZW5ke1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LCAyNTUsIDUxLCAwLjQpO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYGJvZHl7cGFkZGluZzowO21hcmdpbjowO2JhY2tncm91bmQtY29sb3I6cmdiKDU3LDU3LDU3KTtjb2xvcjpyZ2IoMjQ1LCAyNDUsIDI0NSk7fWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3BhZ2VzL21hc3Rlci5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsS0FBSyxTQUFTLENBQUMsUUFBUSxDQUFDLDhCQUE4QixDQUFDLHdCQUF3QixDQUFDXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImJvZHl7cGFkZGluZzowO21hcmdpbjowO2JhY2tncm91bmQtY29sb3I6cmdiKDU3LDU3LDU3KTtjb2xvcjpyZ2IoMjQ1LCAyNDUsIDI0NSk7fVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgKiB7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcbi5jb2x1bW57XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIHdpZHRoOjUwJTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG59XHJcbi5yb3c6YWZ0ZXIge1xyXG4gICAgY29udGVudDogXCJcIjtcclxuICAgIGRpc3BsYXk6IHRhYmxlO1xyXG4gICAgY2xlYXI6IGJvdGg7XHJcbn1cclxuI2dhbWVOYXZpZ2F0b3J7XHJcbiAgICB3aWR0aDo1MDBweDtcclxuICAgIG1hcmdpbjowIDIwcHg7XHJcbn1cclxuI2hpc3Rvcnl7XHJcbiAgICBtYXJnaW4tdG9wOjMwcHg7XHJcbn1cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogOTAwcHgpIHtcclxuICAgIC5jb2x1bW4ge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvcGFnZXMvb3BlbmluZ3Mvb3BlbmluZ3MuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksc0JBQXNCO0FBQzFCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsU0FBUztJQUNULGFBQWE7SUFDYixhQUFhO0FBQ2pCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsY0FBYztJQUNkLFdBQVc7QUFDZjtBQUNBO0lBQ0ksV0FBVztJQUNYLGFBQWE7QUFDakI7QUFDQTtJQUNJLGVBQWU7QUFDbkI7QUFDQTtJQUNJO1FBQ0ksV0FBVztJQUNmO0FBQ0pcIixcInNvdXJjZXNDb250ZW50XCI6W1wiKiB7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxufVxcclxcbi5jb2x1bW57XFxyXFxuICAgIGZsb2F0OiBsZWZ0O1xcclxcbiAgICB3aWR0aDo1MCU7XFxyXFxuICAgIHBhZGRpbmc6IDEwcHg7XFxyXFxuICAgIGhlaWdodDogMTAwdmg7XFxyXFxufVxcclxcbi5yb3c6YWZ0ZXIge1xcclxcbiAgICBjb250ZW50OiBcXFwiXFxcIjtcXHJcXG4gICAgZGlzcGxheTogdGFibGU7XFxyXFxuICAgIGNsZWFyOiBib3RoO1xcclxcbn1cXHJcXG4jZ2FtZU5hdmlnYXRvcntcXHJcXG4gICAgd2lkdGg6NTAwcHg7XFxyXFxuICAgIG1hcmdpbjowIDIwcHg7XFxyXFxufVxcclxcbiNoaXN0b3J5e1xcclxcbiAgICBtYXJnaW4tdG9wOjMwcHg7XFxyXFxufVxcclxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDkwMHB4KSB7XFxyXFxuICAgIC5jb2x1bW4ge1xcclxcbiAgICAgICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIH1cXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYnV0dG9ucy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2J1dHRvbnMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2dhbWVOYXZpZ2F0b3IuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9nYW1lTmF2aWdhdG9yLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9oaXN0b3J5LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaGlzdG9yeS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFzdGVyLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFzdGVyLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9vcGVuaW5ncy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL29wZW5pbmdzLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiaW1wb3J0IEJvYXJkTGF5ZXIgZnJvbSBcIi4vTGF5ZXJzL0JvYXJkTGF5ZXJcIjtcclxuaW1wb3J0IENvcmRzTGF5ZXIgZnJvbSBcIi4vTGF5ZXJzL0NvcmRzTGF5ZXJcIjtcclxuaW1wb3J0IFBpZWNlTGF5ZXIgZnJvbSBcIi4vTGF5ZXJzL1BpZWNlTGF5ZXJcIjtcclxuaW1wb3J0IEFycm93TGF5ZXIgZnJvbSBcIi4vTGF5ZXJzL0Fycm93TGF5ZXJcIjtcclxuaW1wb3J0IE1vdXNlRXZlbnRzIGZyb20gXCIuL01vdXNlRXZlbnRzXCI7XHJcbmltcG9ydCBTaGFyZWQgZnJvbSBcIi4vU2hhcmVkXCI7XHJcbmltcG9ydCBTVkcgZnJvbSBcIi4vU1ZHXCI7XHJcbmltcG9ydCBSZXN1bHRzTGF5ZXIgZnJvbSBcIi4vTGF5ZXJzL1Jlc3VsdHNMYXllclwiO1xyXG5pbXBvcnQgR2FtZVJlc3VsdCBmcm9tIFwiLi9HYW1lUmVzdWx0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGVzc2JvYXJke1xyXG4gICAgc3ZnUm9vdDpTVkdTVkdFbGVtZW50O1xyXG4gICAgcGllY2VMYXllcjpQaWVjZUxheWVyO1xyXG4gICAgcHJpdmF0ZSBib2FyZExheWVyOkJvYXJkTGF5ZXI7XHJcbiAgICBwcml2YXRlIGNvcmRzTGF5ZXI6Q29yZHNMYXllcjtcclxuICAgIHByaXZhdGUgYXJyb3dMYXllcjpBcnJvd0xheWVyO1xyXG4gICAgcHJpdmF0ZSByZXN1bHRzTGF5ZXI6UmVzdWx0c0xheWVyO1xyXG4gICAgcHJpdmF0ZSBtb3VzZUV2ZW50czpNb3VzZUV2ZW50c1xyXG4gICAgcHJpdmF0ZSBpc1JvdGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihib2FyZENvbnRhaW5lcjpIVE1MRWxlbWVudCwgZmVuOnN0cmluZywgaXNSb3RhdGVkOmJvb2xlYW4pe1xyXG4gICAgICAgIHRoaXMuaXNSb3RhdGVkID0gaXNSb3RhdGVkO1xyXG4gICAgICAgIHRoaXMuc3ZnUm9vdCA9IFNWRy5jcmVhdGVTVkcoJzAgMCA4MDAgODAwJyk7XHJcbiAgICAgICAgYm9hcmRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zdmdSb290KTtcclxuXHJcbiAgICAgICAgdGhpcy5ib2FyZExheWVyID0gbmV3IEJvYXJkTGF5ZXIodGhpcy5zdmdSb290LCBpc1JvdGF0ZWQpO1xyXG4gICAgICAgIHRoaXMuY29yZHNMYXllciA9IG5ldyBDb3Jkc0xheWVyKHRoaXMuc3ZnUm9vdCwgaXNSb3RhdGVkKTtcclxuICAgICAgICB0aGlzLnBpZWNlTGF5ZXIgPSBuZXcgUGllY2VMYXllcih0aGlzLnN2Z1Jvb3QsIGlzUm90YXRlZCk7XHJcbiAgICAgICAgdGhpcy5hcnJvd0xheWVyID0gbmV3IEFycm93TGF5ZXIodGhpcy5zdmdSb290LCBpc1JvdGF0ZWQpO1xyXG4gICAgICAgIHRoaXMucmVzdWx0c0xheWVyID0gbmV3IFJlc3VsdHNMYXllcih0aGlzLnN2Z1Jvb3QsIGlzUm90YXRlZCk7XHJcbiAgICAgICAgdGhpcy5tb3VzZUV2ZW50cyA9IG5ldyBNb3VzZUV2ZW50cyh0aGlzLnN2Z1Jvb3QsIHRoaXMuYm9hcmRMYXllciwgdGhpcy5hcnJvd0xheWVyLCB0aGlzLmlzUm90YXRlZCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0RmVuKGZlbiwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgcm90YXRlKCl7XHJcbiAgICAgICAgdGhpcy5pc1JvdGF0ZWQgPSAhdGhpcy5pc1JvdGF0ZWQ7XHJcbiAgICAgICAgdGhpcy5ib2FyZExheWVyLnJvdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuY29yZHNMYXllci5yb3RhdGUoKTtcclxuICAgICAgICB0aGlzLnBpZWNlTGF5ZXIucm90YXRlKCk7XHJcbiAgICAgICAgdGhpcy5hcnJvd0xheWVyLnJvdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMucmVzdWx0c0xheWVyLnJvdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMubW91c2VFdmVudHMucm90YXRlKCk7XHJcbiAgICB9XHJcbiAgICBzZXRGZW4oZmVuOnN0cmluZywgY2xlYXJGaXJzdDpib29sZWFuKXtcclxuICAgICAgICBpZiAoY2xlYXJGaXJzdCl7XHJcbiAgICAgICAgICAgIHRoaXMucGllY2VMYXllci5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmVuICE9PSBcIlwiKXtcclxuICAgICAgICAgICAgaWYgKGZlbi50b0xvd2VyQ2FzZSgpID09PSBcInN0YXJ0XCIpXHJcbiAgICAgICAgICAgICAgICBmZW4gPSBTaGFyZWQuc3RhcnRGRU47XHJcbiAgICAgICAgICAgIGZlbiA9IGZlbi5zcGxpdChcIiBcIilbMF0uc3BsaXQoXCIvXCIpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgIGxldCBzcXVhcmVJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmVuLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCBmZW5DaGFyID0gZmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgbGV0IG51bW1lcmljVmFsdWUgPSBwYXJzZUludChmZW5DaGFyKTtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4obnVtbWVyaWNWYWx1ZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZUluZGV4ICs9IG51bW1lcmljVmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByb3RhdGVkSW5kZXggPSB0aGlzLmlzUm90YXRlZCA/IDYzIC0gc3F1YXJlSW5kZXggOiBzcXVhcmVJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gU2hhcmVkLmdldFNxdWFyZUtleUJ5SW5kZXgocm90YXRlZEluZGV4LCB0aGlzLmlzUm90YXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waWVjZUxheWVyLmFkZFBpZWNlKGZlbkNoYXIsIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlSW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhpZ2hsaWdodFNvdXJjZShmcm9tOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5ib2FyZExheWVyLmhpZ2hsaWdodFNvdXJjZShmcm9tKTtcclxuICAgIH1cclxuICAgIGhpZ2hsaWdodFRhcmdldCh0bzpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuYm9hcmRMYXllci5oaWdobGlnaHRUYXJnZXQodG8pO1xyXG4gICAgfVxyXG4gICAgY2xlYXJTb3VyY2VBbmRUYXJnZXRIaWdobGlnaHRzKCl7XHJcbiAgICAgICAgdGhpcy5ib2FyZExheWVyLmNsZWFyU291cmNlQW5kVGFyZ2V0SGlnaGxpZ2h0cygpO1xyXG4gICAgfVxyXG4gICAgaGlnaGxpZ2h0U291cmNlQW5kVGFyZ2V0KGZyb206c3RyaW5nLCB0bzpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuYm9hcmRMYXllci5oaWdobGlnaHRTb3VyY2VBbmRUYXJnZXQoZnJvbSwgdG8pO1xyXG4gICAgfVxyXG4gICAgc2hvd0dhbWVSZXN1bHQoZ2FtZVJlc3VsdDpHYW1lUmVzdWx0KXtcclxuICAgICAgICBsZXQga2luZ3MgPSB0aGlzLnBpZWNlTGF5ZXIuZ2V0S2luZ3MoKTtcclxuICAgICAgICB0aGlzLnJlc3VsdHNMYXllci5zaG93R2FtZVJlc3VsdChnYW1lUmVzdWx0LCBraW5ncyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFNoYXJlZCBmcm9tIFwiLi4vU2hhcmVkXCI7XHJcbmltcG9ydCBTVkcgZnJvbSBcIi4uL1NWR1wiO1xyXG5cclxuaW50ZXJmYWNlIEFycm93IHtcclxuICAgIGZyb206c3RyaW5nLFxyXG4gICAgdG86c3RyaW5nXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJyb3dMYXllcntcclxuICAgIHByaXZhdGUgc3ZnUm9vdDpTVkdTVkdFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBncm91cDpTVkdHRWxlbWVudDtcclxuICAgIHByaXZhdGUgc3Ryb2tlV2lkdGggPSAyMDtcclxuICAgIHByaXZhdGUgcmlnaHRDbGlja2VkU3F1YXJlS2V5OnN0cmluZ3xudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgaXNSb3RhdGVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGN1cnJlbnRBcnJvd3M6IEFycm93W10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdmdSb290OlNWR1NWR0VsZW1lbnQsIGlzUm90YXRlZDpib29sZWFuKXtcclxuICAgICAgICB0aGlzLnN2Z1Jvb3QgPSBzdmdSb290O1xyXG4gICAgICAgIGxldCBncm91cCA9IFNWRy5jcmVhdGVHcm91cCgpO1xyXG4gICAgICAgIHN2Z1Jvb3QuYXBwZW5kQ2hpbGQoZ3JvdXApO1xyXG4gICAgICAgIHRoaXMuZ3JvdXAgPSBncm91cDtcclxuICAgICAgICB0aGlzLmlzUm90YXRlZCA9IGlzUm90YXRlZDtcclxuICAgIH1cclxuICAgIHJvdGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuaXNSb3RhdGVkID0gIXRoaXMuaXNSb3RhdGVkO1xyXG4gICAgICAgIHRoaXMuZ3JvdXAuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICB0aGlzLmN1cnJlbnRBcnJvd3MuZm9yRWFjaChhcnJvdyA9PntcclxuICAgICAgICAgICAgdGhpcy5kcmF3QXJyb3coYXJyb3cuZnJvbSwgYXJyb3cudG8pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBvblJpZ2h0QnV0dG9uRG93bihzcXVhcmVLZXk6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLnJpZ2h0Q2xpY2tlZFNxdWFyZUtleSA9IHNxdWFyZUtleTtcclxuICAgIH1cclxuICAgIG9uTGVmdEJ1dHRvbkRvd24oKXtcclxuICAgICAgICB0aGlzLmdyb3VwLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QXJyb3dzID0gW107XHJcbiAgICB9XHJcbiAgICBvblJpZ2h0QnV0dG9uVXAoc3F1YXJlS2V5OnN0cmluZyl7XHJcbiAgICAgICAgaWYgKHRoaXMucmlnaHRDbGlja2VkU3F1YXJlS2V5ICYmIHRoaXMucmlnaHRDbGlja2VkU3F1YXJlS2V5ICE9PSBzcXVhcmVLZXkpe1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdBcnJvdyh0aGlzLnJpZ2h0Q2xpY2tlZFNxdWFyZUtleSwgc3F1YXJlS2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGRyYXdBcnJvdyhmcm9tU3F1YXJlOnN0cmluZywgdG9TcXVhcmU6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLmN1cnJlbnRBcnJvd3MucHVzaCh7ZnJvbTpmcm9tU3F1YXJlLCB0bzp0b1NxdWFyZX0pO1xyXG4gICAgICAgIGNvbnN0IHBvbHlnb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BvbHlnb24nKTtcclxuICAgICAgICBsZXQgcG9pbnQxID0gdGhpcy5zdmdSb290LmNyZWF0ZVNWR1BvaW50KCk7XHJcbiAgICAgICAgbGV0IHBvaW50MiA9IHRoaXMuc3ZnUm9vdC5jcmVhdGVTVkdQb2ludCgpO1xyXG4gICAgICAgIGxldCBwb2ludDMgPSB0aGlzLnN2Z1Jvb3QuY3JlYXRlU1ZHUG9pbnQoKTtcclxuICAgICAgICBsZXQgcG9pbnQ0ID0gdGhpcy5zdmdSb290LmNyZWF0ZVNWR1BvaW50KCk7XHJcbiAgICAgICAgbGV0IHBvaW50NSA9IHRoaXMuc3ZnUm9vdC5jcmVhdGVTVkdQb2ludCgpO1xyXG4gICAgICAgIGxldCBwb2ludDYgPSB0aGlzLnN2Z1Jvb3QuY3JlYXRlU1ZHUG9pbnQoKTtcclxuICAgICAgICBsZXQgcG9pbnQ3ID0gdGhpcy5zdmdSb290LmNyZWF0ZVNWR1BvaW50KCk7XHJcblxyXG4gICAgICAgIGxldCBmcm9tID0gdGhpcy5nZXRSZWxhdGl2ZUNlbnRlcihmcm9tU3F1YXJlKTtcclxuICAgICAgICBsZXQgdG8gPSB0aGlzLmdldFJlbGF0aXZlQ2VudGVyKHRvU3F1YXJlKTtcclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLnNxcnQoTWF0aC5wb3codG8ueCAtIGZyb20ueCwgMikgKyBNYXRoLnBvdyh0by55IC1mcm9tLnksIDIpKTtcclxuICAgICAgICBsZXQgc2hvcnRlbkRpc3RhbmNlID0gMzA7XHJcbiAgICAgICAgbGV0IGNlbnRlciA9IHsgeDogKGZyb20ueCArIHRvLngpLzIsIHk6IChmcm9tLnkgKyB0by55KS8yIH07XHJcbiAgICAgICAgbGV0IHRyaWFuZ2xlU2lkZUxlbmd0aCA9IDQwO1xyXG4gICAgICAgIGxldCBhID0gdHJpYW5nbGVTaWRlTGVuZ3RoIC8gMjtcclxuICAgICAgICBsZXQgYyA9IHRyaWFuZ2xlU2lkZUxlbmd0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0T2ZUcmlhbmdsZSA9IE1hdGguc3FydChNYXRoLnBvdyhjLCAyKSAtIE1hdGgucG93KGEsMikpO1xyXG5cclxuICAgICAgICBwb2ludDEueCA9IGNlbnRlci54IC0gKGRpc3RhbmNlIC8gMikgKyBzaG9ydGVuRGlzdGFuY2U7XHJcbiAgICAgICAgcG9pbnQxLnkgPSBjZW50ZXIueSAtIHRoaXMuc3Ryb2tlV2lkdGggLyAyO1xyXG5cclxuICAgICAgICBwb2ludDIueCA9IHBvaW50MS54O1xyXG4gICAgICAgIHBvaW50Mi55ID0gcG9pbnQxLnkgKyB0aGlzLnN0cm9rZVdpZHRoO1xyXG5cclxuICAgICAgICBwb2ludDMueCA9IHBvaW50Mi54ICsgZGlzdGFuY2UgLSBoZWlnaHRPZlRyaWFuZ2xlIC0gc2hvcnRlbkRpc3RhbmNlO1xyXG4gICAgICAgIHBvaW50My55ID0gcG9pbnQyLnk7XHJcblxyXG4gICAgICAgIHBvaW50NC54ID0gcG9pbnQzLng7XHJcbiAgICAgICAgcG9pbnQ0LnkgPSBwb2ludDMueSArICgodHJpYW5nbGVTaWRlTGVuZ3RoIC8gMikgLSAodGhpcy5zdHJva2VXaWR0aCAvIDIpKTtcclxuXHJcbiAgICAgICAgcG9pbnQ1LnggPSBwb2ludDQueCArIGhlaWdodE9mVHJpYW5nbGU7XHJcbiAgICAgICAgcG9pbnQ1LnkgPSBjZW50ZXIueTtcclxuXHJcbiAgICAgICAgcG9pbnQ2LnggPSBwb2ludDQueDtcclxuICAgICAgICBwb2ludDYueSA9IHBvaW50NC55IC0gdHJpYW5nbGVTaWRlTGVuZ3RoO1xyXG5cclxuICAgICAgICBwb2ludDcueCA9IHBvaW50My54O1xyXG4gICAgICAgIHBvaW50Ny55ID0gcG9pbnQzLnkgLSB0aGlzLnN0cm9rZVdpZHRoO1xyXG5cclxuICAgICAgICBsZXQgZGVsdGFYID0gdG8ueCAtIGZyb20ueDtcclxuICAgICAgICBsZXQgZGVsdGFZID0gdG8ueSAtIGZyb20ueTtcclxuXHJcbiAgICAgICAgbGV0IHJhZGlhbiA9IE1hdGguYXRhbjIoZGVsdGFZLCBkZWx0YVgpO1xyXG4gICAgICAgIGxldCBkZWdyZWVzID0gcmFkaWFuICogMTgwIC8gTWF0aC5QSTtcclxuXHJcbiAgICAgICAgcG9seWdvbi5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIFwicm90YXRlKFwiICsgZGVncmVlcyArIFwiIFwiICsgY2VudGVyLngudG9TdHJpbmcoKSArIFwiIFwiICsgY2VudGVyLnkudG9TdHJpbmcoKSArIFwiKVwiKTtcclxuICAgICAgICBwb2x5Z29uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYXJyb3dcIik7XHJcbiAgICAgICAgcG9seWdvbi5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwicmdiYSgyNTUsIDE3MCwgMCwgMC44KVwiKTtcclxuICAgICAgICBwb2x5Z29uLnBvaW50cy5hcHBlbmRJdGVtKHBvaW50MSk7XHJcbiAgICAgICAgcG9seWdvbi5wb2ludHMuYXBwZW5kSXRlbShwb2ludDIpO1xyXG4gICAgICAgIHBvbHlnb24ucG9pbnRzLmFwcGVuZEl0ZW0ocG9pbnQzKTtcclxuICAgICAgICBwb2x5Z29uLnBvaW50cy5hcHBlbmRJdGVtKHBvaW50NCk7XHJcbiAgICAgICAgcG9seWdvbi5wb2ludHMuYXBwZW5kSXRlbShwb2ludDUpO1xyXG4gICAgICAgIHBvbHlnb24ucG9pbnRzLmFwcGVuZEl0ZW0ocG9pbnQ2KTtcclxuICAgICAgICBwb2x5Z29uLnBvaW50cy5hcHBlbmRJdGVtKHBvaW50Nyk7XHJcbiAgICAgICAgdGhpcy5ncm91cC5hcHBlbmRDaGlsZChwb2x5Z29uKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgZ2V0UmVsYXRpdmVDZW50ZXIoc3F1YXJlS2V5OnN0cmluZyl7XHJcbiAgICAgICAgbGV0IGNoYXIgPSBzcXVhcmVLZXlbMF07XHJcbiAgICAgICAgbGV0IGRpZ2l0ID0gc3F1YXJlS2V5WzFdO1xyXG4gICAgICAgIGxldCB4ID0gU2hhcmVkLmdldEhvcml6b250YWxJbmRleChjaGFyLCB0aGlzLmlzUm90YXRlZCkgKiAxMDAgKyA1MDtcclxuICAgICAgICBsZXQgeSA9IFNoYXJlZC5nZXRWZXJ0aWNhbEluZGV4KGRpZ2l0LCB0aGlzLmlzUm90YXRlZCkgKiAxMDAgKyA1MDtcclxuICAgICAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU2hhcmVkIGZyb20gXCIuLi9TaGFyZWRcIjtcclxuaW1wb3J0IFNWRyBmcm9tIFwiLi4vU1ZHXCI7XHJcblxyXG5pbnRlcmZhY2UgSGlnaGxpZ2h0e1xyXG4gICAgc3F1YXJlS2V5OnN0cmluZyxcclxuICAgIHR5cGU6c3RyaW5nO1xyXG4gICAgcmVjdDpTVkdSZWN0RWxlbWVudDtcclxufVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb2FyZExheWVye1xyXG4gICAgcHJpdmF0ZSBzdmdSb290OlNWR1NWR0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGlzUm90YXRlZDpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBzb3VyY2VIaWdobGlnaHQ6SGlnaGxpZ2h0O1xyXG4gICAgcHJpdmF0ZSB0YXJnZXRIaWdobGlnaHQ6SGlnaGxpZ2h0O1xyXG4gICAgcHJpdmF0ZSBzb3VyY2VUYXJnZXRHcm91cDpTVkdHRWxlbWVudDtcclxuICAgIHByaXZhdGUgc291cmNlQ29sb3IgPSBcInJnYmEoMjU1LCAyNTUsIDUxLCAwLjMpXCI7XHJcbiAgICBwcml2YXRlIHRhcmdldENvbG9yID0gXCJyZ2JhKDI1NSwgMjU1LCA1MSwgMC40KVwiO1xyXG4gICAgcHJpdmF0ZSByaWdodENsaWNrQ29sb3IgPSBcInJnYigyMzUsIDk3LCA4MCwgMC44KVwiO1xyXG4gICAgcHJpdmF0ZSByaWdodENsaWNrR3JvdXA6U1ZHR0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJpZ2h0Q2xpY2tzOlJlY29yZDxzdHJpbmcsIEhpZ2hsaWdodHxudWxsPiA9IHt9O1xyXG4gICAgcHJpdmF0ZSByaWdodENsaWNrZWRTcXVhcmVLZXk6c3RyaW5nfG51bGwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHN2Z1Jvb3Q6U1ZHU1ZHRWxlbWVudCwgaXNSb3RhdGVkOmJvb2xlYW4pe1xyXG4gICAgICAgIHRoaXMuc3ZnUm9vdCA9IHN2Z1Jvb3Q7XHJcbiAgICAgICAgdGhpcy5pc1JvdGF0ZWQgPSBpc1JvdGF0ZWQ7XHJcblxyXG4gICAgICAgIGxldCBncm91cCA9IFNWRy5jcmVhdGVHcm91cCgpO1xyXG4gICAgICAgIHRoaXMuc3ZnUm9vdC5hcHBlbmRDaGlsZChncm91cCk7XHJcblxyXG4gICAgICAgIGxldCBjb2xvcnMgPSBbXCJsXCIsIFwiZFwiLCBcImxcIiwgXCJkXCIsIFwibFwiLCBcImRcIiwgXCJsXCIsIFwiZFwiXTtcclxuXHJcbiAgICAgICAgWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDddLmZvckVhY2goeSA9PntcclxuICAgICAgICAgICAgWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDddLmZvckVhY2goKHgsIGluZGV4KSA9PntcclxuICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQm9hcmRSZWN0KHgsIHksIGNvbG9yc1tpbmRleF0pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IGNvbG9ycy5yZXZlcnNlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zb3VyY2VUYXJnZXRHcm91cCA9IFNWRy5jcmVhdGVHcm91cCgpO1xyXG4gICAgICAgIHRoaXMuc3ZnUm9vdC5hcHBlbmRDaGlsZCh0aGlzLnNvdXJjZVRhcmdldEdyb3VwKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNvdXJjZUhpZ2hsaWdodCA9IHtzcXVhcmVLZXk6IFwiYThcIiwgdHlwZTogXCJzb3VyY2VcIiwgcmVjdDogU1ZHLmNyZWF0ZVNxdWFyZSgwLCAwLCBcInRyYW5zcGFyZW50XCIpfTtcclxuICAgICAgICB0aGlzLnRhcmdldEhpZ2hsaWdodCA9IHtzcXVhcmVLZXk6IFwiYTdcIiwgdHlwZTogXCJ0YXJnZXRcIiwgcmVjdDogU1ZHLmNyZWF0ZVNxdWFyZSgxICwwLCBcInRyYW5zcGFyZW50XCIpfTtcclxuICAgICAgICB0aGlzLnNvdXJjZVRhcmdldEdyb3VwLmFwcGVuZENoaWxkKHRoaXMuc291cmNlSGlnaGxpZ2h0LnJlY3QpO1xyXG4gICAgICAgIHRoaXMuc291cmNlVGFyZ2V0R3JvdXAuYXBwZW5kQ2hpbGQodGhpcy50YXJnZXRIaWdobGlnaHQucmVjdCk7XHJcblxyXG4gICAgICAgIHRoaXMucmlnaHRDbGlja0dyb3VwID0gU1ZHLmNyZWF0ZUdyb3VwKCk7XHJcbiAgICAgICAgdGhpcy5zdmdSb290LmFwcGVuZENoaWxkKHRoaXMucmlnaHRDbGlja0dyb3VwKTtcclxuICAgIH1cclxuICAgIG9uTGVmdEJ1dHRvbkRvd24oKXtcclxuICAgICAgICB0aGlzLmNsZWFyQWxsSGlnaGxpZ2h0cygpO1xyXG4gICAgfVxyXG4gICAgb25SaWdodEJ1dHRvbkRvd24oc3F1YXJlS2V5OnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5yaWdodENsaWNrZWRTcXVhcmVLZXkgPSBzcXVhcmVLZXk7XHJcbiAgICB9XHJcbiAgICBvblJpZ2h0QnV0dG9uVXAoc3F1YXJlS2V5OnN0cmluZyl7XHJcbiAgICAgICAgaWYgKHRoaXMucmlnaHRDbGlja2VkU3F1YXJlS2V5ICYmIHRoaXMucmlnaHRDbGlja2VkU3F1YXJlS2V5ID09PSBzcXVhcmVLZXkpe1xyXG4gICAgICAgICAgICBsZXQgcmlnaHRDbGlja2VkID0gdGhpcy5yaWdodENsaWNrc1tzcXVhcmVLZXldO1xyXG4gICAgICAgICAgICBpZiAocmlnaHRDbGlja2VkKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRDbGlja0dyb3VwLnJlbW92ZUNoaWxkKHJpZ2h0Q2xpY2tlZC5yZWN0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRDbGlja3Nbc3F1YXJlS2V5XSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUmlnaHRDbGlja0hpZ2hsaWdodChzcXVhcmVLZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcm90YXRlKCl7XHJcbiAgICAgICAgdGhpcy5pc1JvdGF0ZWQgPSAhdGhpcy5pc1JvdGF0ZWQ7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNvdXJjZUhpZ2hsaWdodCk7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnRhcmdldEhpZ2hsaWdodCk7XHJcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLnJpZ2h0Q2xpY2tzKS5mb3JFYWNoKHJpZ2h0Q2xpY2sgPT57XHJcbiAgICAgICAgICAgIGlmIChyaWdodENsaWNrKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocmlnaHRDbGljayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGhpZ2hsaWdodFNvdXJjZUFuZFRhcmdldChmcm9tOnN0cmluZywgdG86c3RyaW5nKXtcclxuICAgICAgICB0aGlzLmNsZWFyQWxsSGlnaGxpZ2h0cygpO1xyXG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0U291cmNlKGZyb20pO1xyXG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0VGFyZ2V0KHRvKTtcclxuICAgIH1cclxuICAgIGhpZ2hsaWdodFNvdXJjZShmcm9tOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5zb3VyY2VIaWdobGlnaHQuc3F1YXJlS2V5ID0gZnJvbTtcclxuICAgICAgICB0aGlzLnNvdXJjZUhpZ2hsaWdodC5yZWN0LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgdGhpcy5zb3VyY2VDb2xvcik7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNvdXJjZUhpZ2hsaWdodCk7XHJcbiAgICB9XHJcbiAgICBoaWdobGlnaHRUYXJnZXQodG86c3RyaW5nKXtcclxuICAgICAgICB0aGlzLnRhcmdldEhpZ2hsaWdodC5zcXVhcmVLZXkgPSB0bztcclxuICAgICAgICB0aGlzLnRhcmdldEhpZ2hsaWdodC5yZWN0LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgdGhpcy50YXJnZXRDb2xvcik7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnRhcmdldEhpZ2hsaWdodCk7XHJcbiAgICB9XHJcbiAgICBjbGVhclNvdXJjZUFuZFRhcmdldEhpZ2hsaWdodHMoKXtcclxuICAgICAgICB0aGlzLnNvdXJjZUhpZ2hsaWdodC5yZWN0LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJ0cmFuc3BhcmVudFwiKTtcclxuICAgICAgICB0aGlzLnRhcmdldEhpZ2hsaWdodC5yZWN0LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJ0cmFuc3BhcmVudFwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgY2xlYXJBbGxIaWdobGlnaHRzKCl7XHJcbiAgICAgICAgdGhpcy5jbGVhclNvdXJjZUFuZFRhcmdldEhpZ2hsaWdodHMoKTtcclxuICAgICAgICB0aGlzLnJpZ2h0Q2xpY2tzID0ge307XHJcbiAgICAgICAgdGhpcy5yaWdodENsaWNrR3JvdXAuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuICAgIHByaXZhdGUgY3JlYXRlUmlnaHRDbGlja0hpZ2hsaWdodChzcXVhcmVLZXk6c3RyaW5nKXtcclxuICAgICAgICBsZXQgY29yZHMgPSBTaGFyZWQuZ2V0Q29yZGluYXRlc0J5U3F1YXJlS2V5KHNxdWFyZUtleSwgdGhpcy5pc1JvdGF0ZWQpO1xyXG4gICAgICAgIGxldCByZWN0ID0gU1ZHLmNyZWF0ZVNxdWFyZShjb3Jkcy54LCBjb3Jkcy55LCB0aGlzLnJpZ2h0Q2xpY2tDb2xvcik7XHJcbiAgICAgICAgdGhpcy5yaWdodENsaWNrR3JvdXAuYXBwZW5kQ2hpbGQocmVjdCk7XHJcbiAgICAgICAgdGhpcy5yaWdodENsaWNrc1tzcXVhcmVLZXldID0ge3NxdWFyZUtleSwgdHlwZTogXCJSaWdodENsaWNrXCIsIHJlY3R9O1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzZXRQb3NpdGlvbihoaWdobGlnaHQ6SGlnaGxpZ2h0KXtcclxuICAgICAgICBsZXQgY29yZCA9IFNoYXJlZC5nZXRDb3JkaW5hdGVzQnlTcXVhcmVLZXkoaGlnaGxpZ2h0LnNxdWFyZUtleSwgdGhpcy5pc1JvdGF0ZWQpO1xyXG4gICAgICAgIGhpZ2hsaWdodC5yZWN0LnNldEF0dHJpYnV0ZShcInhcIiwgKGNvcmQueCAqIDEwMCkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgaGlnaGxpZ2h0LnJlY3Quc2V0QXR0cmlidXRlKFwieVwiLCAoY29yZC55ICogMTAwKS50b1N0cmluZygpKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgY3JlYXRlQm9hcmRSZWN0KHg6bnVtYmVyLCB5Om51bWJlciwgY29sb3I6c3RyaW5nKXtcclxuICAgICAgICByZXR1cm4gU1ZHLmNyZWF0ZVNxdWFyZSh4LCB5LCBjb2xvciA9PT0gXCJsXCIgPyBcInJnYigyMzMsMjM3LDIwNClcIiA6IFwicmdiKDExOSwxNTMsODQpXCIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFNWRyBmcm9tIFwiLi4vU1ZHXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb3Jkc0xheWVye1xyXG4gICAgcHJpdmF0ZSBncm91cDpTVkdHRWxlbWVudDtcclxuICAgIHByaXZhdGUgaG9yaXpvbnRhbEdyb3VwOlNWR0dFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSB2ZXJ0aWNhbEdyb3VwOlNWR0dFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBpc1JvdGF0ZWQ6Ym9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdmdSb290OlNWR1NWR0VsZW1lbnQsIGlzUm90YXRlZDpib29sZWFuKXtcclxuICAgICAgICB0aGlzLmlzUm90YXRlZCA9IGlzUm90YXRlZDtcclxuICAgICAgICB0aGlzLmdyb3VwID0gU1ZHLmNyZWF0ZUdyb3VwKCk7XHJcbiAgICAgICAgdGhpcy5ncm91cC5jbGFzc0xpc3QuYWRkKFwiY29yZHNcIik7XHJcbiAgICAgICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoXCJmb250LWZhbWlseVwiLCBcIkhlbHZldGljYVwiKTtcclxuICAgICAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKTtcclxuICAgICAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJyZ2IoMzAsMzAsMzBcIik7XHJcbiAgICAgICAgc3ZnUm9vdC5hcHBlbmQodGhpcy5ncm91cCk7XHJcblxyXG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbEdyb3VwID0gU1ZHLmNyZWF0ZUdyb3VwKCk7XHJcbiAgICAgICAgdGhpcy52ZXJ0aWNhbEdyb3VwID0gU1ZHLmNyZWF0ZUdyb3VwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ3JvdXAuYXBwZW5kQ2hpbGQodGhpcy5ob3Jpem9udGFsR3JvdXApO1xyXG4gICAgICAgIHRoaXMuZ3JvdXAuYXBwZW5kQ2hpbGQodGhpcy52ZXJ0aWNhbEdyb3VwKTtcclxuXHJcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsR3JvdXAuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDg2LCA3OTUuNSlcIik7XHJcbiAgICAgICAgdGhpcy52ZXJ0aWNhbEdyb3VwLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSg1LCAxOClcIik7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0SG9yaXpvbnRhbENvcmRzKGlzUm90YXRlZCkuZm9yRWFjaCgobGV0dGVyLCBpbmRleCkgPT57XHJcbiAgICAgICAgICAgIGxldCBncm91cCA9IFNWRy5jcmVhdGVHcm91cCgpO1xyXG4gICAgICAgICAgICBncm91cC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAoaW5kZXggKiAxMDApLnRvU3RyaW5nKCkgKyBcIiwwKVwiKTtcclxuICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsR3JvdXAuYXBwZW5kQ2hpbGQoZ3JvdXApO1xyXG4gICAgICAgICAgICBsZXQgdGV4dCA9IFNWRy5jcmVhdGVUZXh0KGxldHRlciwgXCJzY2FsZSgwLjkpXCIpO1xyXG4gICAgICAgICAgICBncm91cC5hcHBlbmRDaGlsZCh0ZXh0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdldFZlcnRpY2FsQ29yZHMoaXNSb3RhdGVkKS5mb3JFYWNoKChudW1iZXIsIGluZGV4KSA9PntcclxuICAgICAgICAgICAgbGV0IGdyb3VwID0gU1ZHLmNyZWF0ZUdyb3VwKCk7XHJcbiAgICAgICAgICAgIGdyb3VwLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgKyAoaW5kZXggKiAxMDApLnRvU3RyaW5nKCkgKyBcIilcIik7XHJcbiAgICAgICAgICAgIHRoaXMudmVydGljYWxHcm91cC5hcHBlbmRDaGlsZChncm91cCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdGV4dCA9IFNWRy5jcmVhdGVUZXh0KG51bWJlciwgXCJzY2FsZSgxKVwiKTtcclxuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQodGV4dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldEhvcml6b250YWxDb3Jkcyhpc1JvdGF0ZWQ6Ym9vbGVhbil7XHJcbiAgICAgICAgbGV0IGhvcml6b250YWxDb3JkcyA9IFtcIkFcIiwgXCJCXCIsIFwiQ1wiLCBcIkRcIiwgXCJFXCIsIFwiRlwiLCBcIkdcIiwgXCJIXCJdO1xyXG4gICAgICAgIHJldHVybiBpc1JvdGF0ZWQgPyBob3Jpem9udGFsQ29yZHMucmV2ZXJzZSgpIDogaG9yaXpvbnRhbENvcmRzO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXRWZXJ0aWNhbENvcmRzKGlzUm90YXRlZDpib29sZWFuKXtcclxuICAgICAgICBsZXQgdmVydGljYWxDb3JkcyA9IFtcIjhcIiwgXCI3XCIsIFwiNlwiLCBcIjVcIiwgXCI0XCIsIFwiM1wiLCBcIjJcIiwgXCIxXCJdO1xyXG4gICAgICAgIHJldHVybiBpc1JvdGF0ZWQgPyB2ZXJ0aWNhbENvcmRzLnJldmVyc2UoKSA6IHZlcnRpY2FsQ29yZHM7XHJcbiAgICB9XHJcbiAgICByb3RhdGUoKXtcclxuICAgICAgICB0aGlzLmlzUm90YXRlZCA9ICF0aGlzLmlzUm90YXRlZDtcclxuICAgICAgICBsZXQgbGV0dGVycyA9IHRoaXMuZ2V0SG9yaXpvbnRhbENvcmRzKHRoaXMuaXNSb3RhdGVkKTtcclxuICAgICAgICBsZXQgbnVtYmVycyA9IHRoaXMuZ2V0VmVydGljYWxDb3Jkcyh0aGlzLmlzUm90YXRlZCk7XHJcbiAgICAgICAgQXJyYXkuZnJvbSh0aGlzLmhvcml6b250YWxHcm91cC5jaGlsZHJlbikuZm9yRWFjaCgoY2hpbGQsIGluZGV4KSA9PntcclxuICAgICAgICAgICAgY2hpbGQuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQgPSBsZXR0ZXJzW2luZGV4XTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBBcnJheS5mcm9tKHRoaXMudmVydGljYWxHcm91cC5jaGlsZHJlbikuZm9yRWFjaCgoY2hpbGQsIGluZGV4KSA9PntcclxuICAgICAgICAgICAgY2hpbGQuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQgPSBudW1iZXJzW2luZGV4XTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaWVjZSBmcm9tIFwiLi4vUGllY2VcIjtcclxuaW1wb3J0IFBpZWNlRmFjdG9yeSBmcm9tIFwiLi4vUGllY2VGYWN0b3J5XCI7XHJcbmltcG9ydCBTaGFyZWQgZnJvbSBcIi4uL1NoYXJlZFwiO1xyXG5pbXBvcnQgU1ZHIGZyb20gXCIuLi9TVkdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpZWNlTGF5ZXJ7XHJcbiAgICBwcml2YXRlIGlzUm90YXRlZDpib29sZWFuO1xyXG4gICAgZ3JvdXA6U1ZHR0VsZW1lbnQ7XHJcbiAgICBwb3NpdGlvbnM6UmVjb3JkPHN0cmluZywgUGllY2V8dW5kZWZpbmVkPiA9IHt9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHN2Z1Jvb3Q6U1ZHU1ZHRWxlbWVudCwgaXNSb3RhdGVkOmJvb2xlYW4pe1xyXG4gICAgICAgIHRoaXMuZ3JvdXAgPSBTVkcuY3JlYXRlR3JvdXAoKTtcclxuICAgICAgICBzdmdSb290LmFwcGVuZENoaWxkKHRoaXMuZ3JvdXApO1xyXG4gICAgICAgIHRoaXMuaXNSb3RhdGVkID0gaXNSb3RhdGVkO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKXtcclxuICAgICAgICB0aGlzLnBvc2l0aW9ucyA9IHt9O1xyXG4gICAgICAgIHRoaXMuZ3JvdXAuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuICAgIGdldFBpZWNlKHNxdWFyZUtleTpzdHJpbmcpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uc1tzcXVhcmVLZXldO1xyXG4gICAgfVxyXG4gICAgYWRkUGllY2UoZmVuQ2hhcjpzdHJpbmcsIHNxdWFyZUtleTpzdHJpbmcpe1xyXG4gICAgICAgIGxldCBwaWVjZSA9IFBpZWNlRmFjdG9yeS5nZXQoZmVuQ2hhciwgc3F1YXJlS2V5KTtcclxuICAgICAgICB0aGlzLmdyb3VwLmFwcGVuZENoaWxkKHBpZWNlLmVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocGllY2UpO1xyXG4gICAgICAgIHJldHVybiBwaWVjZTtcclxuICAgIH1cclxuICAgIHJvdGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuaXNSb3RhdGVkID0gIXRoaXMuaXNSb3RhdGVkO1xyXG4gICAgICAgIGxldCBwaWVjZXMgPSBPYmplY3QudmFsdWVzKHRoaXMucG9zaXRpb25zKTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9ucyA9IHt9O1xyXG4gICAgICAgIHBpZWNlcy5mb3JFYWNoKHBpZWNlID0+e1xyXG4gICAgICAgICAgICBpZiAocGllY2Upe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwaWVjZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNldFBvc2l0aW9uKHBpZWNlOlBpZWNlKXtcclxuICAgICAgICBsZXQgc3F1YXJlS2V5ID0gcGllY2Uuc3F1YXJlS2V5ITtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uc1tzcXVhcmVLZXldID0gcGllY2U7XHJcbiAgICAgICAgU2hhcmVkLnNldFBvc2l0aW9uKHBpZWNlLmVsZW1lbnQsIHNxdWFyZUtleSwgdGhpcy5pc1JvdGF0ZWQpO1xyXG4gICAgfVxyXG4gICAgZ2V0S2luZ3MoKXtcclxuICAgICAgICBsZXQga2luZ3M6UmVjb3JkPHN0cmluZywgUGllY2U+ID0ge307XHJcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLnBvc2l0aW9ucykuZm9yRWFjaChwaWVjZSA9PntcclxuICAgICAgICAgICAgaWYgKHBpZWNlICYmIChwaWVjZS5mZW5DaGFyID09PSBcImtcIiB8fCBwaWVjZS5mZW5DaGFyID09PSBcIktcIikpe1xyXG4gICAgICAgICAgICAgICAga2luZ3NbcGllY2UuZmVuQ2hhcl0gPSBwaWVjZTtcclxuICAgICAgICAgICAgICAgIGlmIChraW5nc1tcImtcIl0gJiYga2luZ3NbXCJLXCJdKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2luZ3M7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4ga2luZ3M7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU1ZHIGZyb20gXCIuLi9TVkdcIjtcclxuaW1wb3J0IFBpZWNlIGZyb20gXCIuLi9QaWVjZVwiO1xyXG5pbXBvcnQgSWNvbnMgZnJvbSBcIi4uL2Fzc2V0cy9JY29uc1wiO1xyXG5pbXBvcnQgU2hhcmVkIGZyb20gXCIuLi9TaGFyZWRcIjtcclxuaW1wb3J0IEdhbWVSZXN1bHQgZnJvbSBcIi4uL0dhbWVSZXN1bHRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3VsdHNMYXllcntcclxuICAgIHByaXZhdGUgc3ZnUm9vdDpTVkdTVkdFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBpc1JvdGF0ZWQ6Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgZ3JvdXA6U1ZHR0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGtpbmdzOlJlY29yZDxzdHJpbmcsUGllY2U+ID0ge307XHJcbiAgICBwcml2YXRlIGdhbWVSZXN1bHQ6R2FtZVJlc3VsdHx1bmRlZmluZWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3ZnUm9vdDpTVkdTVkdFbGVtZW50LCBpc1JvdGF0ZWQ6Ym9vbGVhbil7XHJcbiAgICAgICAgdGhpcy5zdmdSb290ID0gc3ZnUm9vdDtcclxuICAgICAgICB0aGlzLmlzUm90YXRlZCA9IGlzUm90YXRlZDtcclxuICAgICAgICB0aGlzLmdyb3VwID0gU1ZHLmNyZWF0ZUdyb3VwKCk7XHJcbiAgICAgICAgdGhpcy5zdmdSb290LmFwcGVuZENoaWxkKHRoaXMuZ3JvdXApO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKXtcclxuICAgICAgICB0aGlzLmdyb3VwLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5nYW1lUmVzdWx0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMua2luZ3MgPSB7fTtcclxuICAgIH1cclxuICAgIHJvdGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuaXNSb3RhdGVkID0gIXRoaXMuaXNSb3RhdGVkO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVSZXN1bHQpe1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0dhbWVSZXN1bHQodGhpcy5nYW1lUmVzdWx0LCB0aGlzLmtpbmdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzaG93R2FtZVJlc3VsdChnYW1lUmVzdWx0OkdhbWVSZXN1bHQsIGtpbmdzOlJlY29yZDxzdHJpbmcsUGllY2U+KXtcclxuICAgICAgICB0aGlzLmdhbWVSZXN1bHQgPSBnYW1lUmVzdWx0O1xyXG4gICAgICAgIHRoaXMua2luZ3MgPSBraW5ncztcclxuICAgICAgICBpZiAoZ2FtZVJlc3VsdCAhPT0gXCJkcmF3XCIpe1xyXG4gICAgICAgICAgICBsZXQgd2lubmVySWNvbiA9IFNWRy5jcmVhdGVJbWFnZShJY29ucy53aW4sIDAsIDAsIDMwLCAzMCk7XHJcbiAgICAgICAgICAgIGxldCBsb3Nlckljb24gPSBTVkcuY3JlYXRlSW1hZ2UoSWNvbnMubG9zZSwgMCwgMCwgNDAsIDQwKTtcclxuICAgICAgICAgICAgdGhpcy5ncm91cC5hcHBlbmRDaGlsZCh3aW5uZXJJY29uKTtcclxuICAgICAgICAgICAgdGhpcy5ncm91cC5hcHBlbmRDaGlsZChsb3Nlckljb24pO1xyXG4gICAgICAgICAgICBsZXQgd2lubmVyRmVuQ2hhciA9IGdhbWVSZXN1bHQgPT09IFwiYmxhY2tcIiA/IFwia1wiIDogXCJLXCI7XHJcbiAgICAgICAgICAgIGxldCBsb3NlckZlbkNoYXIgPSBnYW1lUmVzdWx0ID09PSBcImJsYWNrXCIgPyBcIktcIiA6IFwia1wiO1xyXG4gICAgICAgICAgICBsZXQgd2lubmVyU3F1YXJlID0ga2luZ3Nbd2lubmVyRmVuQ2hhcl0uc3F1YXJlS2V5ITtcclxuICAgICAgICAgICAgbGV0IGxvc2VyU3F1YXJlID0ga2luZ3NbbG9zZXJGZW5DaGFyXS5zcXVhcmVLZXkhO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dJbWFnZSh3aW5uZXJJY29uLCB3aW5uZXJTcXVhcmUpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dJbWFnZShsb3Nlckljb24sIGxvc2VyU3F1YXJlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzaG93SW1hZ2UoaW1hZ2U6U1ZHSW1hZ2VFbGVtZW50LCBzcXVhcmVLZXk6c3RyaW5nKXtcclxuICAgICAgICBsZXQgY29yZCA9IFNoYXJlZC5nZXRDb3JkaW5hdGVzQnlTcXVhcmVLZXkoc3F1YXJlS2V5LCB0aGlzLmlzUm90YXRlZCk7XHJcbiAgICAgICAgaW1hZ2Uuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2NvcmQueCAqIDEyLjV9JSwgJHtjb3JkLnkgKiAxMi41fSUpYDtcclxuICAgIH1cclxufSIsImltcG9ydCBCb2FyZExheWVyIGZyb20gXCIuL0xheWVycy9Cb2FyZExheWVyXCI7XHJcbmltcG9ydCBBcnJvd0xheWVyIGZyb20gXCIuL0xheWVycy9BcnJvd0xheWVyXCI7XHJcbmltcG9ydCBTaGFyZWQgZnJvbSBcIi4vU2hhcmVkXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3VzZUV2ZW50c3tcclxuICAgIHN2Z1Jvb3Q6U1ZHU1ZHRWxlbWVudDtcclxuICAgIGlzUm90YXRlZDpib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHN2Z1Jvb3Q6U1ZHU1ZHRWxlbWVudCwgYm9hcmRMYXllcjpCb2FyZExheWVyLCBhcnJvd0xheWVyOkFycm93TGF5ZXIsIGlzUm90YXRlZDpib29sZWFuKXtcclxuICAgICAgICB0aGlzLnN2Z1Jvb3QgPSBzdmdSb290O1xyXG4gICAgICAgIHRoaXMuaXNSb3RhdGVkID0gaXNSb3RhdGVkO1xyXG5cclxuICAgICAgICB0aGlzLnN2Z1Jvb3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZlbnQ6TW91c2VFdmVudCkgPT4gXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgaXNSaWdodENsaWNrID0gZXZlbnQuYnV0dG9uICYmIGV2ZW50LmJ1dHRvbiA9PSAyO1xyXG4gICAgICAgICAgICBpZiAoaXNSaWdodENsaWNrKXtcclxuICAgICAgICAgICAgICAgIGxldCBzcXVhcmVLZXkgPSBTaGFyZWQuZ2V0U3F1YXJlQnlDdXJzb3JQb3NpdGlvbih0aGlzLnN2Z1Jvb3QsIGV2ZW50LCB0aGlzLmlzUm90YXRlZCk7XHJcbiAgICAgICAgICAgICAgICBib2FyZExheWVyLm9uUmlnaHRCdXR0b25Eb3duKHNxdWFyZUtleSk7XHJcbiAgICAgICAgICAgICAgICBhcnJvd0xheWVyLm9uUmlnaHRCdXR0b25Eb3duKHNxdWFyZUtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGJvYXJkTGF5ZXIub25MZWZ0QnV0dG9uRG93bigpO1xyXG4gICAgICAgICAgICAgICAgYXJyb3dMYXllci5vbkxlZnRCdXR0b25Eb3duKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnN2Z1Jvb3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IGlzUmlnaHRDbGljayA9IGV2ZW50LmJ1dHRvbiAmJiBldmVudC5idXR0b24gPT0gMjtcclxuICAgICAgICAgICAgaWYgKGlzUmlnaHRDbGljayl7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlS2V5ID0gU2hhcmVkLmdldFNxdWFyZUJ5Q3Vyc29yUG9zaXRpb24odGhpcy5zdmdSb290LCBldmVudCwgdGhpcy5pc1JvdGF0ZWQpO1xyXG4gICAgICAgICAgICAgICAgYm9hcmRMYXllci5vblJpZ2h0QnV0dG9uVXAoc3F1YXJlS2V5KTtcclxuICAgICAgICAgICAgICAgIGFycm93TGF5ZXIub25SaWdodEJ1dHRvblVwKHNxdWFyZUtleSk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdmdSb290LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCAoZXZlbnQpID0+IGV2ZW50LnByZXZlbnREZWZhdWx0KCkgKTtcclxuICAgIH1cclxuICAgIHJvdGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuaXNSb3RhdGVkID0gIXRoaXMuaXNSb3RhdGVkO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0ICogYXMgYmlzaG9wIGZyb20gXCIuL2Fzc2V0cy9waWVjZXMvYi5qc29uXCI7XHJcbmltcG9ydCAqIGFzIGtpbmcgZnJvbSBcIi4vYXNzZXRzL3BpZWNlcy9rLmpzb25cIjtcclxuaW1wb3J0ICogYXMga25pZ2h0IGZyb20gXCIuL2Fzc2V0cy9waWVjZXMvbi5qc29uXCI7XHJcbmltcG9ydCAqIGFzIHBhd24gZnJvbSBcIi4vYXNzZXRzL3BpZWNlcy9wLmpzb25cIjtcclxuaW1wb3J0ICogYXMgcXVlZW4gZnJvbSBcIi4vYXNzZXRzL3BpZWNlcy9xLmpzb25cIjtcclxuaW1wb3J0ICogYXMgcm9vayBmcm9tIFwiLi9hc3NldHMvcGllY2VzL3IuanNvblwiO1xyXG5pbXBvcnQgU1ZHIGZyb20gXCIuL1NWR1wiO1xyXG5cclxuY29uc3QgcGllY2VTVkdEYXRhOlJlY29yZDxzdHJpbmcsIEdyb3VwPiA9IHt9O1xyXG5waWVjZVNWR0RhdGFbXCJwXCJdID0gcGF3bi5nIGFzIEdyb3VwO1xyXG5waWVjZVNWR0RhdGFbXCJyXCJdID0gcm9vay5nIGFzIEdyb3VwO1xyXG5waWVjZVNWR0RhdGFbXCJuXCJdID0ga25pZ2h0LmcgYXMgR3JvdXA7XHJcbnBpZWNlU1ZHRGF0YVtcImJcIl0gPSBiaXNob3AuZyBhcyBHcm91cDtcclxucGllY2VTVkdEYXRhW1wicVwiXSA9IHF1ZWVuLmcgYXMgR3JvdXA7XHJcbnBpZWNlU1ZHRGF0YVtcImtcIl0gPSBraW5nLmcgYXMgR3JvdXA7XHJcblxyXG5pbnRlcmZhY2UgR3JvdXB7XHJcbiAgICBnOiBHcm91cHx1bmRlZmluZWQ7XHJcbiAgICB0cmFuc2Zvcm06c3RyaW5nfHVuZGVmaW5lZDtcclxuICAgIHN0eWxlOnN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAgIHBhdGg6UGF0aFtdfHVuZGVmaW5lZHxudWxsO1xyXG4gICAgY2lyY2xlOkNpcmNsZVtdfHVuZGVmaW5lZDtcclxufVxyXG5pbnRlcmZhY2UgUGF0aHtcclxuICAgIHN0eWxlOnN0cmluZ1tdfHVuZGVmaW5lZDtcclxuICAgIGQ6c3RyaW5nO1xyXG4gICAgY29sb3JJbmRleDpudW1iZXJ8dW5kZWZpbmVkO1xyXG59XHJcbmludGVyZmFjZSBDaXJjbGV7XHJcbiAgICBjeDpzdHJpbmc7XHJcbiAgICBjeTpzdHJpbmc7XHJcbiAgICByOnN0cmluZztcclxufVxyXG5jb25zdCBwaWVjZUVsZW1lbnRUeXBlczpSZWNvcmQ8c3RyaW5nLCBTVkdHRWxlbWVudD4gPSB7fTtcclxuW1wicFwiLFwiblwiLFwiYlwiLFwiclwiLFwicVwiLFwia1wiLFwiUFwiLFwiTlwiLFwiQlwiLFwiUlwiLFwiUVwiLFwiS1wiXS5mb3JFYWNoKGZlbkNoYXIgPT57XHJcbiAgICBsZXQgZyA9IFNWRy5jcmVhdGVHcm91cCgpO1xyXG5cclxuICAgIGxldCBjaGlsZCA9IFNWRy5jcmVhdGVHcm91cCgpO1xyXG4gICAgY2hpbGQuY2xhc3NMaXN0LmFkZChcInBpZWNlXCIpO1xyXG4gICAgZy5hcHBlbmRDaGlsZChjaGlsZCk7XHJcbiAgICBsZXQgZGF0YSA9IHBpZWNlU1ZHRGF0YVtmZW5DaGFyLnRvTG93ZXJDYXNlKCldO1xyXG4gICAgbGV0IGNvbG9yID0gZmVuQ2hhciA9PT0gZmVuQ2hhci50b0xvd2VyQ2FzZSgpID8gMCA6IDE7XHJcbiAgICBsb2FkQ2hpbGRyZW4oY2hpbGQsIGRhdGEsIGNvbG9yKTtcclxuICAgIHBpZWNlRWxlbWVudFR5cGVzW2ZlbkNoYXJdID0gZztcclxufSk7XHJcbmZ1bmN0aW9uIGxvYWRDaGlsZHJlbihnOlNWR0dFbGVtZW50LCBncm91cDpHcm91cCwgY29sb3I6bnVtYmVyKXtcclxuICAgIGlmIChncm91cC50cmFuc2Zvcm0pe1xyXG4gICAgICAgIGcuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIGdyb3VwLnRyYW5zZm9ybSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZ3JvdXAuc3R5bGUgJiYgZ3JvdXAuc3R5bGVbY29sb3JdKXtcclxuICAgICAgICBnLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGdyb3VwLnN0eWxlW2NvbG9yXSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZ3JvdXAuY2lyY2xlKXtcclxuICAgICAgICBncm91cC5jaXJjbGUuZm9yRWFjaChjaXJjbGUgPT57XHJcbiAgICAgICAgICAgIGxldCBjID0gU1ZHLmNyZWF0ZUNpcmNsZShjaXJjbGUuY3gsIGNpcmNsZS5jeSwgY2lyY2xlLnIpO1xyXG4gICAgICAgICAgICBnLmFwcGVuZENoaWxkKGMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGdyb3VwLnBhdGgpe1xyXG4gICAgICAgIGdyb3VwLnBhdGguZm9yRWFjaChwYXRoID0+e1xyXG4gICAgICAgICAgICBpZiAocGF0aC5jb2xvckluZGV4ID09PSB1bmRlZmluZWQgfHwgcGF0aC5jb2xvckluZGV4ID09PSBjb2xvcil7XHJcbiAgICAgICAgICAgICAgICBsZXQgcCA9IFNWRy5jcmVhdGVQYXRoKHBhdGguZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5zdHlsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBwYXRoLnN0eWxlW2NvbG9yXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBnLmFwcGVuZENoaWxkKHApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZ3JvdXAuZyl7XHJcbiAgICAgICAgbGV0IGNoaWxkR3JvdXAgPSBTVkcuY3JlYXRlR3JvdXAoKTtcclxuICAgICAgICBnLmFwcGVuZENoaWxkKGNoaWxkR3JvdXApO1xyXG4gICAgICAgIGxvYWRDaGlsZHJlbihjaGlsZEdyb3VwLCBncm91cC5nLCBjb2xvcik7XHJcbiAgICB9XHJcbn1cclxubmFtZXNwYWNlIFBpZWNlRWxlbWVudEZhY3Rvcnl7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0KGZlbkNoYXI6c3RyaW5nKTpTVkdHRWxlbWVudHtcclxuICAgICAgICByZXR1cm4gcGllY2VFbGVtZW50VHlwZXNbZmVuQ2hhcl0uY2xvbmVOb2RlKHRydWUpIGFzIFNWR0dFbGVtZW50O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFBpZWNlRWxlbWVudEZhY3Rvcnk7XHJcbiIsImltcG9ydCBQaWVjZSBmcm9tIFwiLi9QaWVjZVwiO1xyXG5pbXBvcnQgUGllY2VFbGVtZW50RmFjdG9yeSBmcm9tIFwiLi9QaWVjZUVsZW1lbnRGYWN0b3J5XCI7XHJcblxyXG5uYW1lc3BhY2UgUGllY2VGYWN0b3J5e1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldChmZW5DaGFyOnN0cmluZywgc3F1YXJlS2V5PzpzdHJpbmcpe1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gUGllY2VFbGVtZW50RmFjdG9yeS5nZXQoZmVuQ2hhcik7XHJcbiAgICAgICAgcmV0dXJuIHsgZmVuQ2hhciwgZWxlbWVudCwgc3F1YXJlS2V5IH0gYXMgUGllY2U7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUGllY2VGYWN0b3J5OyIsIm5hbWVzcGFjZSBTVkd7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlU1ZHKHZpZXdCb3g6c3RyaW5nKXtcclxuICAgICAgICBsZXQgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcclxuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgdmlld0JveCk7XHJcbiAgICAgICAgcmV0dXJuIHN2ZztcclxuICAgIH1cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHcm91cCgpe1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiZ1wiKTtcclxuICAgIH1cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTcXVhcmUoeDpudW1iZXIsIHk6bnVtYmVyLCBmaWxsPzpzdHJpbmcpe1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVSZWN0KHggKiAxMDAsIHkgKiAxMDAsIDEwMCwgMTAwLCBmaWxsKTtcclxuICAgIH1cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWN0KHg6bnVtYmVyLCB5Om51bWJlciwgd2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyLCBmaWxsPzpzdHJpbmcpe1xyXG4gICAgICAgIGxldCByZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdyZWN0Jyk7XHJcbiAgICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoXCJ4XCIsIHgudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIHkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aC50b1N0cmluZygpKTtcclxuICAgICAgICByZWN0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBoZWlnaHQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgaWYgKGZpbGwpe1xyXG4gICAgICAgICAgICByZWN0LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgZmlsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZWN0O1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNpcmNsZShjeDpzdHJpbmcsIGN5OnN0cmluZywgcjpzdHJpbmcpe1xyXG4gICAgICAgIGxldCBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xyXG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJjeFwiLCBjeCk7XHJcbiAgICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZShcImN5XCIsIGN5KTtcclxuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKFwiclwiLCByKTtcclxuICAgICAgICByZXR1cm4gY2lyY2xlO1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUltYWdlKGhyZWY6c3RyaW5nLCB4Om51bWJlciwgeTpudW1iZXIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcil7XHJcbiAgICAgICAgbGV0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdpbWFnZScpO1xyXG4gICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgaHJlZik7XHJcbiAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwieFwiLCB4LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcInlcIiwgeS50b1N0cmluZygpKTtcclxuICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aC50b1N0cmluZygpKTtcclxuICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHJldHVybiBpbWFnZTtcclxuICAgIH1cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUZXh0KGNvbnRlbnQ6c3RyaW5nLCB0cmFuc2Zvcm06c3RyaW5nKXtcclxuICAgICAgICBsZXQgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJ0ZXh0XCIpO1xyXG4gICAgICAgIHRleHQuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIHRyYW5zZm9ybSk7XHJcbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlUGF0aChkOnN0cmluZyl7XHJcbiAgICAgICAgbGV0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcclxuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZShcImRcIiwgZCk7XHJcbiAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgU1ZHIiwibmFtZXNwYWNlIFNjcmVlbnNob3R7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gRG93bmxvYWQoc3ZnUm9vdDpTVkdTVkdFbGVtZW50KXtcclxuICAgICAgICBsZXQgd2lkdGhBbmRIZWlnaHQgPSA1MDA7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpZHRoQW5kSGVpZ2h0O1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoQW5kSGVpZ2h0O1xyXG4gICAgICAgIGxldCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgaW1hZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucHJlcGVuZChpbWFnZSk7XHJcbiAgICAgICAgaW1hZ2Uuc3JjID0gQ29udmVydFRvSW1hZ2VVcmwoc3ZnUm9vdCk7XHJcblxyXG4gICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykhLmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlRGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XHJcbiAgICAgICAgICAgIHRyaWdnZXJEb3dubG9hZChpbWFnZURhdGFVUkwsIFwibXlib2FyZC5wbmdcIik7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaW1hZ2UpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBDb252ZXJ0VG9JbWFnZVVybChzdmdSb290OlNWR1NWR0VsZW1lbnQpe1xyXG4gICAgICAgIGxldCB4bWwgPSBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2Z1Jvb3QpO1xyXG4gICAgICAgIGxldCBpbWFnZTY0ID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJyArIGJ0b2EoeG1sKTtcclxuICAgICAgICByZXR1cm4gaW1hZ2U2NDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHRyaWdnZXJEb3dubG9hZCAoaW1nVVJJOnN0cmluZywgZmlsZU5hbWU6c3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIGV2dCA9IG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIiwge1xyXG4gICAgICAgICAgdmlldzogd2luZG93LFxyXG4gICAgICAgICAgYnViYmxlczogZmFsc2UsXHJcbiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICBhLnNldEF0dHJpYnV0ZShcImRvd25sb2FkXCIsIGZpbGVOYW1lKTtcclxuICAgICAgICBhLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgaW1nVVJJKTtcclxuICAgICAgICBhLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgYS5kaXNwYXRjaEV2ZW50KGV2dCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgU2NyZWVuc2hvdCIsIm5hbWVzcGFjZSBTaGFyZWR7XHJcbiAgICBjb25zdCBzcXVhcmVLZXlzID0gW1wiYThcIiwgXCJiOFwiLCBcImM4XCIsIFwiZDhcIiwgXCJlOFwiLCBcImY4XCIsIFwiZzhcIiwgXCJoOFwiLCBcImE3XCIsIFwiYjdcIiwgXCJjN1wiLCBcImQ3XCIsIFwiZTdcIiwgXCJmN1wiLCBcImc3XCIsIFwiaDdcIiwgXCJhNlwiLCBcImI2XCIsIFwiYzZcIiwgXCJkNlwiLCBcImU2XCIsIFwiZjZcIiwgXCJnNlwiLCBcImg2XCIsIFwiYTVcIiwgXCJiNVwiLCBcImM1XCIsIFwiZDVcIiwgXCJlNVwiLCBcImY1XCIsIFwiZzVcIiwgXCJoNVwiLCBcImE0XCIsIFwiYjRcIiwgXCJjNFwiLCBcImQ0XCIsIFwiZTRcIiwgXCJmNFwiLCBcImc0XCIsIFwiaDRcIiwgXCJhM1wiLCBcImIzXCIsIFwiYzNcIiwgXCJkM1wiLCBcImUzXCIsIFwiZjNcIiwgXCJnM1wiLCBcImgzXCIsIFwiYTJcIiwgXCJiMlwiLCBcImMyXCIsIFwiZDJcIiwgXCJlMlwiLCBcImYyXCIsIFwiZzJcIiwgXCJoMlwiLCBcImExXCIsIFwiYjFcIiwgXCJjMVwiLCBcImQxXCIsIFwiZTFcIiwgXCJmMVwiLCBcImcxXCIsIFwiaDFcIl07XHJcbiAgICBjb25zdCBob3Jpem9udGFsID0gW1wiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImVcIiwgXCJmXCIsIFwiZ1wiLCBcImhcIl07XHJcbiAgICBjb25zdCB2ZXJ0aWNhbCA9IFtcIjhcIiwgXCI3XCIsIFwiNlwiLCBcIjVcIiwgXCI0XCIsIFwiM1wiLCBcIjJcIiwgXCIxXCJdO1xyXG4gICAgXHJcbiAgICBleHBvcnQgY29uc3Qgc3RhcnRGRU4gPSBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCI7XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFNxdWFyZUtleUJ5SW5kZXhlcyhob3Jpem9udGFsSW5kZXg6bnVtYmVyLCB2ZXJ0aWNhbEluZGV4Om51bWJlciwgaXNSb3RhdGVkOmJvb2xlYW4pe1xyXG4gICAgICAgIGxldCBsZXR0ZXJJbmRleCA9IGlzUm90YXRlZCA/IDcgLSBob3Jpem9udGFsSW5kZXggOiBob3Jpem9udGFsSW5kZXg7XHJcbiAgICAgICAgbGV0IGRpZ2l0SW5kZXggPSBpc1JvdGF0ZWQgPyA3IC0gdmVydGljYWxJbmRleCA6IHZlcnRpY2FsSW5kZXg7XHJcbiAgICAgICAgcmV0dXJuIGhvcml6b250YWxbbGV0dGVySW5kZXhdICsgdmVydGljYWxbZGlnaXRJbmRleF07XHJcbiAgICB9XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0U3F1YXJlS2V5QnlJbmRleChpbmRleDpudW1iZXIsIGlzUm90YXRlZDpib29sZWFuKXtcclxuICAgICAgICBsZXQgaSA9IGlzUm90YXRlZCA/IDYzIC0gaW5kZXggOiBpbmRleDtcclxuICAgICAgICByZXR1cm4gc3F1YXJlS2V5c1tpXTtcclxuICAgIH1cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50SW5kZXhPZlNxdWFyZUtleShzcXVhcmVLZXk6c3RyaW5nLCBpc1JvdGF0ZWQ6Ym9vbGVhbil7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gc3F1YXJlS2V5cy5pbmRleE9mKHNxdWFyZUtleSk7XHJcbiAgICAgICAgcmV0dXJuIGlzUm90YXRlZCA/IDYzIC0gaW5kZXggOiBpbmRleDtcclxuICAgIH1cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRIb3Jpem9udGFsSW5kZXgoc3F1YXJlTGV0dGVyOnN0cmluZywgaXNSb3RhdGVkOmJvb2xlYW4pe1xyXG4gICAgICAgIGxldCBpbmRleCA9IGhvcml6b250YWwuaW5kZXhPZihzcXVhcmVMZXR0ZXIpO1xyXG4gICAgICAgIHJldHVybiBpc1JvdGF0ZWQgPyA3IC0gaW5kZXggOiBpbmRleDtcclxuICAgIH1cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRWZXJ0aWNhbEluZGV4KHNxdWFyZU51bWJlcjpzdHJpbmcsIGlzUm90YXRlZDpib29sZWFuKXtcclxuICAgICAgICBsZXQgaW5kZXggPSB2ZXJ0aWNhbC5pbmRleE9mKHNxdWFyZU51bWJlcik7XHJcbiAgICAgICAgcmV0dXJuIGlzUm90YXRlZCA/IDcgLSBpbmRleCA6IGluZGV4O1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldENvcmRpbmF0ZXNCeVNxdWFyZUtleShzcXVhcmVLZXk6c3RyaW5nLCBpc1JvdGF0ZWQ6Ym9vbGVhbil7XHJcbiAgICAgICAgbGV0IHggPSBnZXRIb3Jpem9udGFsSW5kZXgoc3F1YXJlS2V5WzBdLCBpc1JvdGF0ZWQpO1xyXG4gICAgICAgIGxldCB5ID0gZ2V0VmVydGljYWxJbmRleChzcXVhcmVLZXlbMV0sIGlzUm90YXRlZCk7XHJcbiAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldFBvc2l0aW9uKGVsZW1lbnQ6U1ZHR0VsZW1lbnQsIHNxdWFyZUtleTpzdHJpbmcsIGlzUm90YXRlZDpib29sZWFuKXtcclxuICAgICAgICBsZXQgY29yZHMgPSBnZXRDb3JkaW5hdGVzQnlTcXVhcmVLZXkoc3F1YXJlS2V5LCBpc1JvdGF0ZWQpO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2NvcmRzLnggKiAxMi41fSUsICR7Y29yZHMueSAqIDEyLjV9JSlgO1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFNxdWFyZUJ5Q3Vyc29yUG9zaXRpb24oYm9hcmRTVkc6U1ZHU1ZHRWxlbWVudCwgZXZlbnQ6TW91c2VFdmVudCwgaXNSb3RhdGVkOmJvb2xlYW4pe1xyXG4gICAgICAgIGxldCBzdmdQYXJlbnQgPSBib2FyZFNWRy5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGxldCBib2FyZFdpZHRoQW5kSGVpZ2h0ID0gc3ZnUGFyZW50LmNsaWVudFdpZHRoO1xyXG4gICAgICAgIGxldCBzcXVhcmVXaWR0aEFuZEhlaWdodCA9IGJvYXJkV2lkdGhBbmRIZWlnaHQgLyA4O1xyXG4gICAgICAgIGxldCBib2FyZENvb3JkaW5hdGVYID0gZXZlbnQuY2xpZW50WCAtIHN2Z1BhcmVudC5vZmZzZXRMZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XHJcbiAgICAgICAgbGV0IGJvYXJkQ29vcmRpbmF0ZVkgPSBldmVudC5jbGllbnRZIC0gc3ZnUGFyZW50Lm9mZnNldFRvcCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICAgICAgbGV0IHNxdWFyZUluZGV4WD0gTWF0aC5mbG9vcihib2FyZENvb3JkaW5hdGVYIC8gc3F1YXJlV2lkdGhBbmRIZWlnaHQpO1xyXG4gICAgICAgIGxldCBzcXVhcmVJbmRleFkgPSBNYXRoLmZsb29yKGJvYXJkQ29vcmRpbmF0ZVkgLyBzcXVhcmVXaWR0aEFuZEhlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIGdldFNxdWFyZUtleUJ5SW5kZXhlcyhzcXVhcmVJbmRleFgsIHNxdWFyZUluZGV4WSwgaXNSb3RhdGVkKTtcclxuICAgIH1cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBhZGRDaGlsZChwYXJlbnQ6SFRNTEVsZW1lbnQsIHRhZzpzdHJpbmcsIGNsYXNzTmFtZTpzdHJpbmcsIHRleHQ/OnN0cmluZyl7XHJcbiAgICAgICAgbGV0IGNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xyXG4gICAgICAgIGNoaWxkLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgICAgICBpZiAodGV4dClcclxuICAgICAgICAgICAgY2hpbGQuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBTaGFyZWQ7XHJcbiIsImltcG9ydCB3aW4gZnJvbSBcIi4vaWNvbnMvd2luLnN2Z1wiO1xyXG5pbXBvcnQgbG9zZSBmcm9tIFwiLi9pY29ucy9sb3NlLnN2Z1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWNvbnN7XHJcbiAgICBzdGF0aWMgd2luID0gd2luO1xyXG4gICAgc3RhdGljIGxvc2UgPSBsb3NlO1xyXG59XHJcbiIsImltcG9ydCBJY29ucyBmcm9tIFwiLi9pbWcvSWNvbnNcIjtcclxuaW1wb3J0IEdhbWVOYXZpZ2F0b3IgZnJvbSBcIi4vR2FtZU5hdmlnYXRvclwiO1xyXG5pbXBvcnQgU2NyZWVuc2hvdHMgZnJvbSBcIi4uL2NoZXNzYm9hcmQvU2NyZWVuc2hvdFwiO1xyXG5pbXBvcnQgXCIuL2J1dHRvbnMuY3NzXCI7XHJcbmltcG9ydCBTaGFyZWQgZnJvbSBcIi4uL2NoZXNzYm9hcmQvU2hhcmVkXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b25ze1xyXG4gICAgY29udGFpbmVyOkhUTUxFbGVtZW50O1xyXG4gICAgYnV0dG9uQ29udGFpbmVyOkhUTUxFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjpIVE1MRWxlbWVudCwgZ2FtZU5hdmlnYXRvcjpHYW1lTmF2aWdhdG9yKXtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmJ1dHRvbkNvbnRhaW5lciA9IFNoYXJlZC5hZGRDaGlsZCh0aGlzLmNvbnRhaW5lciwgXCJkaXZcIiwgXCJnYW1lLW5hdi1idXR0b25zXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZEJ1dHRvbihcInN0YXJ0XCIsIEljb25zLnN0YXJ0LCAoKSA9PnsgZ2FtZU5hdmlnYXRvci5nb1RvTW92ZSgtMSkgfSk7XHJcbiAgICAgICAgdGhpcy5hZGRCdXR0b24oXCJyZXdpbmRcIiwgSWNvbnMucmV3aW5kLCAoKSA9PiBnYW1lTmF2aWdhdG9yLnJld2luZCgpKTtcclxuICAgICAgICB0aGlzLmFkZEJ1dHRvbihcInByZXZpb3VzXCIsIEljb25zLnByZXZpb3VzLCAoKSA9PiBnYW1lTmF2aWdhdG9yLnByZXZpb3VzKCkpO1xyXG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKFwicGxheVwiLCBJY29ucy5wbGF5LCAoKSA9PiBnYW1lTmF2aWdhdG9yLnBsYXkoKSk7XHJcbiAgICAgICAgdGhpcy5hZGRCdXR0b24oXCJwYXVzZVwiLCBJY29ucy5wYXVzZSwgKCkgPT4gZ2FtZU5hdmlnYXRvci5wYXVzZSgpKTtcclxuICAgICAgICB0aGlzLmFkZEJ1dHRvbihcIm5leHRcIiwgSWNvbnMubmV4dCwgKCkgPT4gZ2FtZU5hdmlnYXRvci5uZXh0KCkpO1xyXG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKFwiZm9yd2FyZFwiLCBJY29ucy5mb3J3YXJkLCAoKSA9PiBnYW1lTmF2aWdhdG9yLmZvcndhcmQoKSk7XHJcbiAgICAgICAgdGhpcy5hZGRCdXR0b24oXCJlbmRcIiwgSWNvbnMuZW5kLCAgKCkgPT57IFxyXG4gICAgICAgICAgICBnYW1lTmF2aWdhdG9yLmdvVG9Nb3ZlKGdhbWVOYXZpZ2F0b3IuZ2FtZS5tb3Zlcy5sZW5ndGggLTEpIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKFwicm90YXRlXCIsIEljb25zLnJvdGF0ZSwgKCkgPT4gZ2FtZU5hdmlnYXRvci5yb3RhdGUoKSk7XHJcbiAgICAgICAgdGhpcy5hZGRCdXR0b24oXCJzY3JlZW5zaG90XCIsIEljb25zLnNjcmVlbnNob3QsICgpID0+IHtcclxuICAgICAgICAgICAgU2NyZWVuc2hvdHMuRG93bmxvYWQoZ2FtZU5hdmlnYXRvci5jaGVzc2JvYXJkLnN2Z1Jvb3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhZGRCdXR0b24oaWQ6c3RyaW5nLCBpY29uVXJsOnN0cmluZywgZm46ICgpID0+IHZvaWQpe1xyXG4gICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgIGJ1dHRvbi5zcmMgPSBpY29uVXJsO1xyXG4gICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZm47XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ2FsbGJhY2tze1xyXG4gICAgb25HYW1lTG9hZGVkOkZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xyXG4gICAgb25Nb3ZlQWRkZWQ6RnVuY3Rpb24gfCB1bmRlZmluZWQ7XHJcbiAgICBvbk1vdmVTdGFydDpGdW5jdGlvbiB8IHVuZGVmaW5lZDtcclxuICAgIG9uTW92ZUVuZDpGdW5jdGlvbiB8IHVuZGVmaW5lZDtcclxuICAgIG9uR29Ub01vdmU6RnVuY3Rpb24gfCB1bmRlZmluZWQ7XHJcbn0iLCJpbXBvcnQgUGllY2VFbGVtZW50RmFjdG9yeSBmcm9tIFwiLi4vY2hlc3Nib2FyZC9QaWVjZUVsZW1lbnRGYWN0b3J5XCI7XHJcblxyXG5jb25zdCBwaWVjZVR5cGVzOiBSZWNvcmQ8c3RyaW5nLCBTVkdTVkdFbGVtZW50PiA9IHt9O1xyXG5cclxuW1wicFwiLFwiblwiLFwiYlwiLFwiclwiLFwicVwiLFwiUFwiLFwiTlwiLFwiQlwiLFwiUlwiLFwiUVwiXS5mb3JFYWNoKGZlbkNoYXIgPT57XHJcbiAgICBsZXQgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcInN2Z1wiKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDEwMCAxMDAnKTtcclxuICAgIGxldCBwaWVjZSA9IFBpZWNlRWxlbWVudEZhY3RvcnkuZ2V0KGZlbkNoYXIpO1xyXG4gICAgc3ZnLmFwcGVuZENoaWxkKHBpZWNlKTtcclxuICAgIHBpZWNlVHlwZXNbZmVuQ2hhcl0gPSBzdmcgYXMgU1ZHU1ZHRWxlbWVudDtcclxufSk7XHJcbmV4cG9ydCBuYW1lc3BhY2UgQ2FwdHVyZVBpZWNlRmFjdG9yeXtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXQoZmVuQ2hhcjpzdHJpbmcpe1xyXG4gICAgICAgIHJldHVybiBwaWVjZVR5cGVzW2ZlbkNoYXJdLmNsb25lTm9kZSh0cnVlKSBhcyBTVkdTVkdFbGVtZW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwiaW1wb3J0IENoZXNzYm9hcmQgZnJvbSBcIi4uL2NoZXNzYm9hcmQvQ2hlc3Nib2FyZFwiO1xyXG5pbXBvcnQgUGllY2UgZnJvbSBcIi4uL2NoZXNzYm9hcmQvUGllY2VcIjtcclxuaW1wb3J0IHsgTW92ZSB9IGZyb20gXCJjaGVzcy5qc1wiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDYXN0bGluZ3tcclxuICAgIHJvb2s6UGllY2U7XHJcbiAgICBmcm9tOnN0cmluZztcclxuICAgIHRvOnN0cmluZztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FzdGxpbmcoY2hlc3Nib2FyZDpDaGVzc2JvYXJkLCBtb3ZlOk1vdmUsIGlzRm9yd2FyZDpib29sZWFuKXtcclxuICAgIGlmIChtb3ZlLnNhblswXSA9PT0gXCJPXCIpe1xyXG4gICAgICAgIGxldCBmcm9tID0gbW92ZS5jb2xvciA9PT0gXCJ3XCIgPyAobW92ZS5zYW4gPT09IFwiTy1PXCIgPyBcImgxXCIgOiBcImExXCIpIDogKG1vdmUuc2FuID09PSBcIk8tT1wiID8gXCJoOFwiIDogXCJhOFwiKTtcclxuICAgICAgICBsZXQgdG8gPSBtb3ZlLmNvbG9yID09PSBcIndcIiA/IChtb3ZlLnNhbiA9PT0gXCJPLU9cIiA/IFwiZjFcIiA6IFwiZDFcIikgOiAobW92ZS5zYW4gPT09IFwiTy1PXCIgPyBcImY4XCI6IFwiZDhcIik7XHJcbiAgICAgICAgbGV0IHJvb2sgPSBjaGVzc2JvYXJkLnBpZWNlTGF5ZXIuZ2V0UGllY2UoaXNGb3J3YXJkID8gZnJvbSA6IHRvKSE7XHJcbiAgICAgICAgcmV0dXJuIHtyb29rLCBmcm9tLCB0b307XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG59IiwiaW1wb3J0IENoZXNzYm9hcmQgZnJvbSBcIi4uL2NoZXNzYm9hcmQvQ2hlc3Nib2FyZFwiO1xyXG5pbXBvcnQgUGllY2VMYXllciBmcm9tIFwiLi4vY2hlc3Nib2FyZC9MYXllcnMvUGllY2VMYXllclwiO1xyXG5pbXBvcnQgUGllY2VFbGVtZW50RmFjdG9yeSBmcm9tIFwiLi4vY2hlc3Nib2FyZC9QaWVjZUVsZW1lbnRGYWN0b3J5XCI7XHJcbmltcG9ydCBQaWVjZSBmcm9tIFwiLi4vY2hlc3Nib2FyZC9QaWVjZVwiO1xyXG5pbXBvcnQgU2hhcmVkIGZyb20gXCIuLi9jaGVzc2JvYXJkL1NoYXJlZFwiO1xyXG5pbXBvcnQgUGxheWVySW5mbyBmcm9tIFwiLi9QbGF5ZXJJbmZvXCI7XHJcbmltcG9ydCBHYW1lIGZyb20gXCIuL0dhbWVcIjtcclxuaW1wb3J0IHsgVHJhbnNpdGlvbnMsIFRyYW5zaXRpb25JbmZvIH0gZnJvbSBcIi4vVHJhbnNpdGlvbnNcIjtcclxuaW1wb3J0IHsgQ2FzdGxpbmcsIGdldENhc3RsaW5nIH0gZnJvbSBcIi4vQ2FzdGxpbmdcIjtcclxuaW1wb3J0IHsgQ2hlc3MsIE1vdmUgfSBmcm9tIFwiY2hlc3MuanNcIjtcclxuaW1wb3J0IHsgQ2FsbGJhY2tzIH0gZnJvbSBcIi4vQ2FsbGJhY2tzXCI7XHJcbmltcG9ydCBcIi4vZ2FtZU5hdmlnYXRvci5jc3NcIjtcclxuXHJcbnR5cGUgU3RhdGUgPSBcInN0YXJ0XCIgfCBcInJld2luZFwiIHwgXCJwbGF5XCIgfCBcInBhdXNlXCIgfCBcImZvcndhcmRcIiB8IFwiZW5kXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lTmF2aWdhdG9ye1xyXG4gICAgY2hlc3Nib2FyZDpDaGVzc2JvYXJkO1xyXG4gICAgYm9hcmRDb250YWluZXI6SFRNTEVsZW1lbnQ7XHJcbiAgICBjYWxsYmFja3MgPSBuZXcgQ2FsbGJhY2tzKCk7XHJcbiAgICBnYW1lOkdhbWU7XHJcbiAgICBwaWVjZUxheWVyOlBpZWNlTGF5ZXI7XHJcbiAgICBwcml2YXRlIGlzUm90YXRlZDpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXJJbmZvOlBsYXllckluZm87XHJcbiAgICBwcml2YXRlIHRyYW5zaXRpb25zOlRyYW5zaXRpb25zO1xyXG4gICAgcHJpdmF0ZSBzdGF0ZTpTdGF0ZSA9IFwic3RhcnRcIjtcclxuICAgIHByaXZhdGUgbW92ZUluZGV4ID0gMDtcclxuICAgIHByaXZhdGUgc2hvcnREZWxheUJldHdlZW5Nb3ZlcyA9IDEwMDtcclxuICAgIHByaXZhdGUgbG9uZ0RlbGF5QmV0d2Vlbk1vdmVzID0gMTAwMDtcclxuICAgIHByaXZhdGUgc2hvcnRUcmFuc2l0aW9uRHVyYXRpb24gPSBcIjEwMG1zXCI7XHJcbiAgICBwcml2YXRlIGxvbmdUcmFuc2l0aW9uRHVyYXRpb24gPSBcIjEwMDBtc1wiO1xyXG4gICAgcHJpdmF0ZSB0aW1lb3V0SWQ6Tm9kZUpTLlRpbWVvdXR8dW5kZWZpbmVkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjpIVE1MRWxlbWVudCwgZmVuOnN0cmluZywgaXNSb3RhdGVkOmJvb2xlYW4pe1xyXG4gICAgICAgIHRoaXMuYm9hcmRDb250YWluZXIgPSBTaGFyZWQuYWRkQ2hpbGQoY29udGFpbmVyLCBcImRpdlwiLCBcImJvYXJkXCIpO1xyXG4gICAgICAgIHRoaXMuY2hlc3Nib2FyZCA9IG5ldyBDaGVzc2JvYXJkKHRoaXMuYm9hcmRDb250YWluZXIsIGZlbiwgaXNSb3RhdGVkKTtcclxuICAgICAgICB0aGlzLnBsYXllckluZm8gPSBuZXcgUGxheWVySW5mbyhjb250YWluZXIsIGZlbiwgaXNSb3RhdGVkKTtcclxuICAgICAgICB0aGlzLnRyYW5zaXRpb25zID0gbmV3IFRyYW5zaXRpb25zKHRoaXMuY2hlc3Nib2FyZCwgaXNSb3RhdGVkKTtcclxuICAgICAgICB0aGlzLmlzUm90YXRlZCA9IGlzUm90YXRlZDtcclxuICAgICAgICB0aGlzLnBpZWNlTGF5ZXIgPSB0aGlzLmNoZXNzYm9hcmQucGllY2VMYXllcjtcclxuICAgICAgICBpZiAoZmVuID09PSBcIlwiKXtcclxuICAgICAgICAgICAgZmVuID0gU2hhcmVkLnN0YXJ0RkVOO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbW92ZXMgPSBuZXcgQ2hlc3MoZmVuKS5oaXN0b3J5KHt2ZXJib3NlOnRydWV9KTtcclxuICAgICAgICB0aGlzLmdhbWUgPSB7YmxhY2tQbGF5ZXI6IFwiQmxhY2sgcGxheWVyXCIsIHdoaXRlUGxheWVyOiBcIldoaXRlIHBsYXllclwiLCBtb3ZlczogbW92ZXN9O1xyXG4gICAgfVxyXG4gICAgYWRkTW92ZShtb3ZlOk1vdmUpe1xyXG4gICAgICAgIHRoaXMuZ2FtZS5tb3Zlcy5wdXNoKG1vdmUpO1xyXG4gICAgICAgIHRoaXMubW92ZUluZGV4ID0gdGhpcy5nYW1lLm1vdmVzLmxlbmd0aCAtMTtcclxuICAgICAgICBpZiAodGhpcy5jYWxsYmFja3Mub25Nb3ZlQWRkZWQpe1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbk1vdmVBZGRlZChtb3ZlLCB0aGlzLmdhbWUubW92ZXMubGVuZ3RoIC0xKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByb3RhdGUoKXtcclxuICAgICAgICB0aGlzLmlzUm90YXRlZCA9ICF0aGlzLmlzUm90YXRlZDtcclxuICAgICAgICBsZXQgc3RhdGVCZWZvcmUgPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBcInBhdXNlXCI7XHJcbiAgICAgICAgaWYgKHN0YXRlQmVmb3JlID09PSBcInBsYXlcIiB8fCBzdGF0ZUJlZm9yZSA9PT0gXCJmb3J3YXJkXCIpe1xyXG4gICAgICAgICAgICB0aGlzLm1vdmUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzdGF0ZUJlZm9yZSA9PT0gXCJyZXdpbmRcIil7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGVzc2JvYXJkLnJvdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMucGxheWVySW5mby5yb3RhdGUoKTtcclxuICAgICAgICB0aGlzLnRyYW5zaXRpb25zLnJvdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZUJlZm9yZTtcclxuICAgICAgICBpZiAoc3RhdGVCZWZvcmUgPT09IFwicGxheVwiIHx8IHN0YXRlQmVmb3JlID09PSBcImZvcndhcmRcIil7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc3RhdGVCZWZvcmUgPT09IFwicmV3aW5kXCIpe1xyXG4gICAgICAgICAgICB0aGlzLm1vdmUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvYWRHYW1lKGdhbWU6R2FtZSl7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgICAgICB0aGlzLmNoZXNzYm9hcmQuc2V0RmVuKFNoYXJlZC5zdGFydEZFTiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJJbmZvLnNldFBsYXllck5hbWVzKGdhbWUuYmxhY2tQbGF5ZXIsIGdhbWUud2hpdGVQbGF5ZXIpO1xyXG4gICAgICAgIHRoaXMucGxheWVySW5mby5zZXRTY29yZUFuZENhcHV0ZXJlQnlGZW4oU2hhcmVkLnN0YXJ0RkVOKTtcclxuICAgICAgICB0aGlzLm1vdmVJbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBcInN0YXJ0XCI7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLm9uR2FtZUxvYWRlZCl7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uR2FtZUxvYWRlZCh0aGlzLmdhbWUubW92ZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJld2luZCgpe1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBcInJld2luZFwiO1xyXG4gICAgICAgIHRoaXMubW92ZShmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBwcmV2aW91cygpe1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBcInBsYXlcIiB8fCB0aGlzLnN0YXRlID09PSBcImZvcndhcmRcIil7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBcInBhdXNlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubW92ZShmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBwbGF5KCl7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwicGxheVwiO1xyXG4gICAgICAgIHRoaXMubW92ZSh0cnVlKTtcclxuICAgIH1cclxuICAgIHBhdXNlKCl7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwicGF1c2VcIjtcclxuICAgIH1cclxuICAgIG5leHQoKXtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gXCJyZXdpbmRcIil7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBcInBhdXNlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubW92ZSh0cnVlKTtcclxuICAgIH1cclxuICAgIGZvcndhcmQoKXtcclxuICAgICAgICB0aGlzLnN0YXRlID0gXCJmb3J3YXJkXCI7XHJcbiAgICAgICAgdGhpcy5tb3ZlKHRydWUpO1xyXG4gICAgfVxyXG4gICAgZ29Ub01vdmUoaW5kZXg6bnVtYmVyKXtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xyXG4gICAgICAgIGlmICh0aGlzLnRyYW5zaXRpb25zLmN1cnJlbnQpe1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25zLmNhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vdmVJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpe1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gXCJzdGFydFwiO1xyXG4gICAgICAgICAgICBsZXQgbW92ZSA9IHRoaXMuZ2FtZS5tb3Zlc1swXTtcclxuICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLnNldEZlbihtb3ZlLmJlZm9yZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5mby5zZXRTY29yZUFuZENhcHV0ZXJlQnlGZW4obW92ZS5iZWZvcmUpO1xyXG4gICAgICAgICAgICB0aGlzLmNoZXNzYm9hcmQuY2xlYXJTb3VyY2VBbmRUYXJnZXRIaWdobGlnaHRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlID0gdGhpcy5nYW1lLm1vdmVzW2luZGV4XTtcclxuICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLnNldEZlbihtb3ZlLmFmdGVyLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbmZvLnNldFNjb3JlQW5kQ2FwdXRlcmVCeUZlbihtb3ZlLmFmdGVyKTtcclxuICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLmhpZ2hsaWdodFNvdXJjZUFuZFRhcmdldChtb3ZlLmZyb20sIG1vdmUudG8pO1xyXG4gICAgICAgICAgICBsZXQgY2FzdGxpbmcgPSBnZXRDYXN0bGluZyh0aGlzLmNoZXNzYm9hcmQsIG1vdmUsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoY2FzdGxpbmcpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLmhpZ2hsaWdodFNvdXJjZShjYXN0bGluZy50byk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmdhbWUubW92ZXMubGVuZ3RoIC0xKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBcImVuZFwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5yZXN1bHQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5zaG93R2FtZVJlc3VsdCh0aGlzLmdhbWUucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFwicGF1c2VcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jYWxsYmFja3Mub25Hb1RvTW92ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uR29Ub01vdmUoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgYXN5bmMgbW92ZShpc0ZvcndhcmQ6Ym9vbGVhbil7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcclxuICAgICAgICBpZiAodGhpcy50cmFuc2l0aW9ucy5jdXJyZW50KXtcclxuICAgICAgICAgICAgbGV0IHRyYW5zaXRpb24gPSB0aGlzLnRyYW5zaXRpb25zLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgIGxldCBwaWVjZSA9IHRyYW5zaXRpb24ucGllY2U7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlID0gdHJhbnNpdGlvbi5tb3ZlO1xyXG4gICAgICAgICAgICBsZXQgY2FzdGxpbmcgPSB0cmFuc2l0aW9uLmNhc3RsaW5nO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25zLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICBpZiAoaXNGb3J3YXJkID09PSB0cmFuc2l0aW9uLmlzRm9yd2FyZCl7IC8vIElmIGRpcmVjdGlvbiBoYXMgbm90IGNoYW5nZWRcclxuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoTW92ZShpc0ZvcndhcmQsIHBpZWNlLCBtb3ZlLCBjYXN0bGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGb3J3YXJkKXsvL01vdmluZyBiYWNrIHdhcyBjYW5jZWxsZWQgc28gcmVjYXB0dXJlIGFuZCByZXByb21vdGUgaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgICAgICAgICBpZiAobW92ZS5jYXB0dXJlZCl7Ly9yZWNhcHR1cmVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVBpZWNlQnlTcXVhcmVLZXkobW92ZS50byk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbmZvLmFkZENhcHR1cmUobW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waWVjZUxheWVyLnNldFBvc2l0aW9uKHBpZWNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtb3ZlLnByb21vdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb21vdGlvbkZlbkNoYXIgPSBtb3ZlLmNvbG9yID09PSBcImJcIiA/IG1vdmUucHJvbW90aW9uIDogbW92ZS5wcm9tb3Rpb24udG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb21vdGVPclVucHJvbW90ZShwaWVjZSwgcHJvbW90aW9uRmVuQ2hhcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gXCJwbGF5XCIgfHwgdGhpcy5zdGF0ZSA9PT0gXCJmb3J3YXJkXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNley8vTW92aW5nIGZvcndhcmQgd2FzIGNhbmNlbGxlZCBzbyB1bmRvIG1vdmVJbmRleCsrXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVJbmRleC0tO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFwicmV3aW5kXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgaWYgKGlzRm9yd2FyZCAmJiB0aGlzLm1vdmVJbmRleCA9PT0gdGhpcy5nYW1lLm1vdmVzLmxlbmd0aCAtMSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gXCJlbmRcIjtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaXNGb3J3YXJkICYmIHRoaXMubW92ZUluZGV4ID09PSAtMSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZXNzYm9hcmQuY2xlYXJTb3VyY2VBbmRUYXJnZXRIaWdobGlnaHRzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gXCJzdGFydFwiO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0ZvcndhcmQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlSW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFja3Mub25Nb3ZlU3RhcnQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25Nb3ZlU3RhcnQodGhpcy5tb3ZlSW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBtb3ZlID0gdGhpcy5nYW1lLm1vdmVzW3RoaXMubW92ZUluZGV4XTtcclxuICAgICAgICAgICAgbGV0IHBpZWNlID0gdGhpcy5waWVjZUxheWVyLmdldFBpZWNlKGlzRm9yd2FyZCA/IG1vdmUuZnJvbSA6IG1vdmUudG8pITtcclxuICAgICAgICAgICAgdGhpcy5wdXRPblRvcChwaWVjZSk7XHJcbiAgICAgICAgICAgIGxldCBjYXN0bGluZyA9IGdldENhc3RsaW5nKHRoaXMuY2hlc3Nib2FyZCwgbW92ZSwgaXNGb3J3YXJkKTtcclxuICAgICAgICAgICAgaWYgKGNhc3RsaW5nKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucHV0T25Ub3AoY2FzdGxpbmcucm9vayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzRm9yd2FyZCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZXNzYm9hcmQuaGlnaGxpZ2h0U291cmNlKG1vdmUuZnJvbSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FzdGxpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5oaWdobGlnaHRUYXJnZXQoY2FzdGxpbmcuZnJvbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5oaWdobGlnaHRUYXJnZXQobW92ZS50byk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FzdGxpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5oaWdobGlnaHRTb3VyY2UoY2FzdGxpbmcudG8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW92ZS5jYXB0dXJlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbVBvc2l0aW9uUmVjb3JkKG1vdmUudG8pOy8vUmVtb3ZlIHBpZWNlIGZyb20gcG9zaXRpb24gcmVjb3JkIGJlZm9yZSBhbmltYXRpb24gc28gY2FwdHVyZWQgcGllY2UgY2FuIGJlIHJlc3RvcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXB0dXJlZEZlbkNoYXIgPSBtb3ZlLmNvbG9yID09PSBcImJcIiA/IG1vdmUuY2FwdHVyZWQudG9VcHBlckNhc2UoKSA6IG1vdmUuY2FwdHVyZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGllY2VMYXllci5hZGRQaWVjZShjYXB0dXJlZEZlbkNoYXIsIG1vdmUudG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllckluZm8udW5kb0NhcHR1cmUobW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlLnByb21vdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmZW5DaGFyID0gbW92ZS5jb2xvciA9PT0gXCJiXCIgPyBtb3ZlLnBpZWNlIDogbW92ZS5waWVjZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpZWNlTGF5ZXIuZ3JvdXAucmVtb3ZlQ2hpbGQocGllY2UuZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpZWNlLmVsZW1lbnQgPSBQaWVjZUVsZW1lbnRGYWN0b3J5LmdldChmZW5DaGFyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWVjZUxheWVyLmdyb3VwLmFwcGVuZENoaWxkKHBpZWNlLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaGFyZWQuc2V0UG9zaXRpb24ocGllY2UuZWxlbWVudCwgbW92ZS50bywgdGhpcy5pc1JvdGF0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdHJhbnNpdGlvbkluZm86VHJhbnNpdGlvbkluZm8gPSB7IGlzRm9yd2FyZCwgcGllY2UsIG1vdmUsIGNhc3RsaW5nIH1cclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgZHVyYXRpb24gPSB0aGlzLnN0YXRlID09PSBcInBsYXlcIiA/IHRoaXMubG9uZ1RyYW5zaXRpb25EdXJhdGlvbiA6IHRoaXMuc2hvcnRUcmFuc2l0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudHJhbnNpdGlvbnMubW92ZSh0cmFuc2l0aW9uSW5mbywgZHVyYXRpb24sICgpID0+e1xyXG4gICAgICAgICAgICAgICAgLy9PblRyYW5zaXRpb25FbmRcclxuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoTW92ZShpc0ZvcndhcmQsIHBpZWNlLCBtb3ZlLCBjYXN0bGluZyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbmlzaE1vdmUoaXNGb3J3YXJkOmJvb2xlYW4sIHBpZWNlOlBpZWNlLCBtb3ZlOk1vdmUsIGNhc3RsaW5nOkNhc3RsaW5nfHVuZGVmaW5lZCl7XHJcbiAgICAgICAgbGV0IHNvdXJjZSA9IGlzRm9yd2FyZCA/IG1vdmUuZnJvbSA6IG1vdmUudG87XHJcbiAgICAgICAgbGV0IHRhcmdldCA9IGlzRm9yd2FyZCA/IG1vdmUudG8gOiBtb3ZlLmZyb207XHJcbiAgICAgICAgcGllY2Uuc3F1YXJlS2V5ID0gdGFyZ2V0O1xyXG4gICAgICAgIGlmIChjYXN0bGluZyl7XHJcbiAgICAgICAgICAgIGNhc3RsaW5nLnJvb2suc3F1YXJlS2V5ID0gaXNGb3J3YXJkID8gY2FzdGxpbmcudG8gOiBjYXN0bGluZy5mcm9tO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21Qb3NpdGlvblJlY29yZChzb3VyY2UpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21Qb3NpdGlvblJlY29yZChpc0ZvcndhcmQgPyBjYXN0bGluZy5mcm9tIDogY2FzdGxpbmcudG8pO1xyXG4gICAgICAgICAgICB0aGlzLnBpZWNlTGF5ZXIuc2V0UG9zaXRpb24ocGllY2UpO1xyXG4gICAgICAgICAgICB0aGlzLnBpZWNlTGF5ZXIuc2V0UG9zaXRpb24oY2FzdGxpbmcucm9vayk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5oaWdobGlnaHRTb3VyY2UoaXNGb3J3YXJkID8gY2FzdGxpbmcudG8gOiBjYXN0bGluZy5mcm9tKTtcclxuICAgICAgICAgICAgdGhpcy5jaGVzc2JvYXJkLmhpZ2hsaWdodFRhcmdldChpc0ZvcndhcmQgPyBtb3ZlLnRvIDogbW92ZS5mcm9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgaWYgKGlzRm9yd2FyZCl7XHJcbiAgICAgICAgICAgICAgICBpZiAobW92ZS5jYXB0dXJlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQaWVjZUJ5U3F1YXJlS2V5KG1vdmUudG8pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5mby5hZGRDYXB0dXJlKG1vdmUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobW92ZS5wcm9tb3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9tb3Rpb25GZW5DaGFyID0gbW92ZS5jb2xvciA9PT0gXCJiXCIgPyBtb3ZlLnByb21vdGlvbiA6IG1vdmUucHJvbW90aW9uLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9tb3RlT3JVbnByb21vdGUocGllY2UsIHByb21vdGlvbkZlbkNoYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVySW5mby5zZXRTY29yZUFuZENhcHV0ZXJlQnlGZW4obW92ZS5hZnRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21Qb3NpdGlvblJlY29yZChtb3ZlLmZyb20pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWVjZUxheWVyLnNldFBvc2l0aW9uKHBpZWNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5oaWdobGlnaHRUYXJnZXQobW92ZS50byk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXsvL0ZpbmlzaCBtb3ZlIGJhY2t3YXJkXHJcbiAgICAgICAgICAgICAgICBpZiAoIW1vdmUuY2FwdHVyZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbVBvc2l0aW9uUmVjb3JkKG1vdmUudG8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5waWVjZUxheWVyLnNldFBvc2l0aW9uKHBpZWNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlc3Nib2FyZC5oaWdobGlnaHRTb3VyY2UobW92ZS5mcm9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgaWYgKCFpc0ZvcndhcmQpe1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVJbmRleC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jYWxsYmFja3Mub25Nb3ZlRW5kKXtcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25Nb3ZlRW5kKHRoaXMubW92ZUluZGV4LCBtb3ZlLCBpc0ZvcndhcmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tb3ZlSW5kZXggPT09IHRoaXMuZ2FtZS5tb3Zlcy5sZW5ndGggLTEpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lLnJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZXNzYm9hcmQuc2hvd0dhbWVSZXN1bHQodGhpcy5nYW1lLnJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5zdGF0ZSA9PT0gXCJwbGF5XCIgfHwgdGhpcy5zdGF0ZSA9PT0gXCJmb3J3YXJkXCIgfHwgdGhpcy5zdGF0ZSA9PT0gXCJyZXdpbmRcIil7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFwicGxheVwiIHx8IHRoaXMuc3RhdGUgPT09IFwiZm9yd2FyZFwiIHx8IHRoaXMuc3RhdGUgPT09IFwicmV3aW5kXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZShpc0ZvcndhcmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzLnN0YXRlID09PSBcInBsYXlcIiA/IHRoaXMubG9uZ0RlbGF5QmV0d2Vlbk1vdmVzIDogdGhpcy5zaG9ydERlbGF5QmV0d2Vlbk1vdmVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHB1dE9uVG9wKHBpZWNlOlBpZWNlKXtcclxuICAgICAgICB0aGlzLnBpZWNlTGF5ZXIuZ3JvdXAuYXBwZW5kQ2hpbGQocGllY2UuZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHJlbW92ZUZyb21Qb3NpdGlvblJlY29yZChzcXVhcmVLZXk6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLnBpZWNlTGF5ZXIucG9zaXRpb25zW3NxdWFyZUtleV0gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHJlbW92ZVBpZWNlQnlTcXVhcmVLZXkoc3F1YXJlS2V5OnN0cmluZyl7XHJcbiAgICAgICAgbGV0IHBpZWNlID0gdGhpcy5waWVjZUxheWVyLnBvc2l0aW9uc1tzcXVhcmVLZXldITtcclxuICAgICAgICB0aGlzLnBpZWNlTGF5ZXIuZ3JvdXAucmVtb3ZlQ2hpbGQocGllY2UuZWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5waWVjZUxheWVyLnBvc2l0aW9uc1tzcXVhcmVLZXldID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHJldHVybiBwaWVjZTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcHJvbW90ZU9yVW5wcm9tb3RlKHBpZWNlOlBpZWNlLCBuZXdGZW5DaGFyOnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5waWVjZUxheWVyLmdyb3VwLnJlbW92ZUNoaWxkKHBpZWNlLmVsZW1lbnQpO1xyXG4gICAgICAgIHBpZWNlLmVsZW1lbnQgPSBQaWVjZUVsZW1lbnRGYWN0b3J5LmdldChuZXdGZW5DaGFyKTtcclxuICAgICAgICB0aGlzLnBpZWNlTGF5ZXIuZ3JvdXAuYXBwZW5kQ2hpbGQocGllY2UuZWxlbWVudCk7XHJcbiAgICAgICAgcGllY2UuZmVuQ2hhciA9IG5ld0ZlbkNoYXI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBNb3ZlIH0gZnJvbSBcImNoZXNzLmpzXCI7XHJcbmltcG9ydCBHYW1lTmF2aWdhdG9yIGZyb20gXCIuL0dhbWVOYXZpZ2F0b3JcIjtcclxuaW1wb3J0IFBpZWNlc1VURiBmcm9tIFwiLi9QaWVjZXNVVEZcIjtcclxuaW1wb3J0IFwiLi9oaXN0b3J5LmNzc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGlzdG9yeXtcclxuICAgIGNvbnRhaW5lcjpIVE1MRWxlbWVudDtcclxuICAgIGdhbWVOYXZpZ2F0b3I6R2FtZU5hdmlnYXRvcjtcclxuICAgIG1vdmVJdGVtczpIVE1MRWxlbWVudFtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyOkhUTUxFbGVtZW50LCBnYW1lTmF2aWdhdG9yOkdhbWVOYXZpZ2F0b3Ipe1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJnYW1lLWhpc3RvcnlcIik7XHJcbiAgICAgICAgdGhpcy5nYW1lTmF2aWdhdG9yID0gZ2FtZU5hdmlnYXRvcjtcclxuICAgICAgICB0aGlzLmdhbWVOYXZpZ2F0b3IuY2FsbGJhY2tzLm9uR2FtZUxvYWRlZCA9IChtb3ZlczpNb3ZlW10pID0+IHRoaXMub25HYW1lTG9hZGVkKG1vdmVzKTtcclxuICAgICAgICB0aGlzLmdhbWVOYXZpZ2F0b3IuY2FsbGJhY2tzLm9uTW92ZUFkZGVkID0gKG1vdmU6TW92ZSwgaW5kZXg6bnVtYmVyKSA9PiB0aGlzLm9uTW92ZUFkZGVkKG1vdmUsIGluZGV4KTtcclxuICAgICAgICB0aGlzLmdhbWVOYXZpZ2F0b3IuY2FsbGJhY2tzLm9uR29Ub01vdmUgPSAoaW5kZXg6bnVtYmVyKSA9PiB0aGlzLm9uR29Ub01vdmUoaW5kZXgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU5hdmlnYXRvci5jYWxsYmFja3Mub25Nb3ZlU3RhcnQgPSAoaW5kZXg6bnVtYmVyKSA9PiB0aGlzLm9uTW92ZVN0YXJ0KGluZGV4KTtcclxuICAgICAgICB0aGlzLmdhbWVOYXZpZ2F0b3IuY2FsbGJhY2tzLm9uTW92ZUVuZCA9IFxyXG4gICAgICAgICAgICAoaW5kZXg6bnVtYmVyLCBtb3ZlOk1vdmUsIGlzRm9yd2FyZDpib29sZWFuKSAgPT4gdGhpcy5vbk1vdmVFbmQoaW5kZXgsIG1vdmUsIGlzRm9yd2FyZCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uR2FtZUxvYWRlZChtb3ZlczpNb3ZlW10pe1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgbW92ZXMuZm9yRWFjaCgobW92ZSwgaW5kZXgpID0+e1xyXG4gICAgICAgICAgICB0aGlzLmFkZFRvSGlzdG9yeShtb3ZlLCBpbmRleCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFkZFRvSGlzdG9yeShtb3ZlOk1vdmUsIGluZGV4Om51bWJlcil7XHJcbiAgICAgICAgbGV0IGlzTmV3VHVybiA9IGluZGV4ICUgMiA9PT0gMDtcclxuICAgICAgICBsZXQgbW92ZU51bWJlciA9IGluZGV4ICsxO1xyXG4gICAgICAgIGxldCB0dXJuTnVtYmVyID0gTWF0aC5jZWlsKG1vdmVOdW1iZXIgLyAyKTtcclxuICAgICAgICBsZXQgdHVybkl0ZW06SFRNTEVsZW1lbnR8bnVsbDtcclxuICAgICAgICBpZiAoaXNOZXdUdXJuKXtcclxuICAgICAgICAgICAgdHVybkl0ZW0gPSB0aGlzLmFkZENoaWxkKHRoaXMuY29udGFpbmVyLCBcImRpdlwiLCBcInR1cm5cIik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodHVybkl0ZW0sIFwic3BhblwiLCBcIm51bWJlclwiLCAodHVybk51bWJlcisrKSArIFwiLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdHVybkl0ZW0gPSB0aGlzLm1vdmVJdGVtc1t0aGlzLm1vdmVJdGVtcy5sZW5ndGggLTFdLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtb3ZlVGV4dCA9IHRoaXMuZ2V0TW92ZVRleHQobW92ZSk7XHJcbiAgICAgICAgbGV0IG1vdmVJdGVtID0gdGhpcy5hZGRDaGlsZCh0dXJuSXRlbSEsIFwic3BhblwiLCBcIm1vdmVcIiwgbW92ZVRleHQpO1xyXG4gICAgICAgIG1vdmVJdGVtLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmdhbWVOYXZpZ2F0b3IuZ29Ub01vdmUoaW5kZXgpO1xyXG4gICAgICAgIHRoaXMubW92ZUl0ZW1zLnB1c2gobW92ZUl0ZW0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvbk1vdmVBZGRlZChtb3ZlOk1vdmUsIGluZGV4Om51bWJlcil7XHJcbiAgICAgICAgdGhpcy5hZGRUb0hpc3RvcnkobW92ZSwgaW5kZXgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvbkdvVG9Nb3ZlKGluZGV4Om51bWJlcil7XHJcbiAgICAgICAgZm9yIChjb25zdCBtb3ZlSXRlbSBvZiB0aGlzLm1vdmVJdGVtcyl7XHJcbiAgICAgICAgICAgIG1vdmVJdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzdGFydFwiLCBcImVuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpe1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVJdGVtc1tpbmRleF0uY2xhc3NMaXN0LmFkZChcImVuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uTW92ZVN0YXJ0KGluZGV4Om51bWJlcil7XHJcbiAgICAgICAgZm9yIChjb25zdCBtb3ZlSXRlbSBvZiB0aGlzLm1vdmVJdGVtcyl7XHJcbiAgICAgICAgICAgIG1vdmVJdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzdGFydFwiLCBcImVuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb3ZlSXRlbXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJzdGFydFwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgb25Nb3ZlRW5kKGluZGV4Om51bWJlciwgbW92ZTpNb3ZlLCBpc0ZvcndhcmQ6Ym9vbGVhbil7XHJcbiAgICAgICAgZm9yIChjb25zdCBtb3ZlSXRlbSBvZiB0aGlzLm1vdmVJdGVtcyl7XHJcbiAgICAgICAgICAgIG1vdmVJdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzdGFydFwiLCBcImVuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpe1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVJdGVtc1tpbmRleF0uY2xhc3NMaXN0LmFkZChcImVuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldE1vdmVUZXh0KG1vdmU6TW92ZSl7XHJcbiAgICAgICAgbGV0IGZpcnN0Q2hhciA9IG1vdmUuc2FuLnN1YnN0cmluZygwLCAxKTtcclxuICAgICAgICBsZXQgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKGZpcnN0Q2hhciA9PT0gZmlyc3RDaGFyLnRvVXBwZXJDYXNlKCkgJiYgZmlyc3RDaGFyLnRvVXBwZXJDYXNlKCkgIT09IFwiT1wiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKG1vdmUuY29sb3IgPT09IFwiYlwiKXtcclxuICAgICAgICAgICAgICAgIGZpcnN0Q2hhciA9IGZpcnN0Q2hhci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpcnN0Q2hhciA9IFBpZWNlc1VURltmaXJzdENoYXJdO1xyXG4gICAgICAgICAgICB0ZXh0ICs9IGZpcnN0Q2hhciArIG1vdmUuc2FuLnN1YnN0cmluZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGV4dCArPSBtb3ZlLnNhbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFkZENoaWxkKGNvbnRhaW5lcjpIVE1MRWxlbWVudCwgdGFnOnN0cmluZywgY2xhc3NOYW1lOnN0cmluZywgdGV4dD86c3RyaW5nKXtcclxuICAgICAgICBsZXQgY2hpbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XHJcbiAgICAgICAgaWYgKHRleHQpe1xyXG4gICAgICAgICAgICBjaGlsZC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGlsZC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjaGlsZCkgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICB9XHJcbn0iLCJjb25zdCBQaWVjZXNVVEY6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICBbXCJwXCJdOiBcIiYjOTgyM1wiLFxyXG4gICAgW1wiclwiXTogXCImIzk4MjBcIixcclxuICAgIFtcIm5cIl06IFwiJiM5ODIyXCIsXHJcbiAgICBbXCJiXCJdOiBcIiYjOTgyMVwiLFxyXG4gICAgW1wicVwiXTogXCImIzk4MTlcIixcclxuICAgIFtcImtcIl06IFwiJiM5ODE4XCIsXHJcbiAgICBbXCJQXCJdOiBcIiYjOTgxN1wiLFxyXG4gICAgW1wiUlwiXTogXCImIzk4MTRcIixcclxuICAgIFtcIk5cIl06IFwiJiM5ODE2XCIsXHJcbiAgICBbXCJCXCJdOiBcIiYjOTgxNVwiLFxyXG4gICAgW1wiUVwiXTogXCImIzk4MTNcIixcclxuICAgIFtcIktcIl06IFwiJiM5ODEyXCJcclxufVxyXG5leHBvcnQgZGVmYXVsdCBQaWVjZXNVVEY7IiwiaW1wb3J0IHsgQ2FwdHVyZVBpZWNlRmFjdG9yeSB9IGZyb20gXCIuL0NhcHR1cmVQaWVjZUZhY3RvcnlcIjtcclxuaW1wb3J0IFNoYXJlZCBmcm9tIFwiLi4vY2hlc3Nib2FyZC9TaGFyZWRcIjtcclxuaW1wb3J0IHsgTW92ZSB9IGZyb20gXCJjaGVzcy5qc1wiO1xyXG5cclxuY29uc3QgcGllY2VWYWx1ZXM6UmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtbXCJwXCJdOjEsW1wiblwiXTozLFtcImJcIl06MyxbXCJyXCJdOjUsW1wicVwiXTo5LFtcImtcIl06MCxbXCJQXCJdOi0xLFtcIk5cIl06LTMsW1wiQlwiXTotMyxbXCJSXCJdOi01LFtcIlFcIl06LTksW1wiS1wiXTowfTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllckluZm97XHJcbiAgICBwcml2YXRlIGNvbnRhaW5lcjpIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgY29udGFpbmVyQWJvdmU6SFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGNvbnRhaW5lckJlbG93OkhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSB3aGl0ZVBsYXllcjpIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgYmxhY2tQbGF5ZXI6SFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHdoaXRlQ2FwdHVyZXM6UmVjb3JkPHN0cmluZywgSFRNTEVsZW1lbnQ+ID0ge307XHJcbiAgICBwcml2YXRlIGJsYWNrQ2FwdHVyZXM6UmVjb3JkPHN0cmluZywgSFRNTEVsZW1lbnQ+ID0ge307XHJcbiAgICBwcml2YXRlIHdoaXRlU2NvcmU6SFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGJsYWNrU2NvcmU6SFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHdoaXRlUGxheWVyTmFtZTpIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgYmxhY2tQbGF5ZXJOYW1lOkhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBpc1JvdGF0ZWQ6Ym9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6SFRNTEVsZW1lbnQsIGZlbjpzdHJpbmcsIGlzUm90YXRlZDpib29sZWFuKXtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmlzUm90YXRlZCA9IGlzUm90YXRlZDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckFib3ZlID0gU2hhcmVkLmFkZENoaWxkKHRoaXMuY29udGFpbmVyLCBcImRpdlwiLCBcImFib3ZlXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLmNvbnRhaW5lckFib3ZlLCB0aGlzLmNvbnRhaW5lci5maXJzdENoaWxkKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckJlbG93ID0gU2hhcmVkLmFkZENoaWxkKHRoaXMuY29udGFpbmVyLCBcImRpdlwiLCBcImJlbG93XCIpO1xyXG5cclxuICAgICAgICB0aGlzLmJsYWNrUGxheWVyID0gU2hhcmVkLmFkZENoaWxkKGlzUm90YXRlZCA/IHRoaXMuY29udGFpbmVyQmVsb3cgOiB0aGlzLmNvbnRhaW5lckFib3ZlLCBcImRpdlwiLCBcInBsYXllciBibGFja1wiKTtcclxuICAgICAgICB0aGlzLndoaXRlUGxheWVyID0gU2hhcmVkLmFkZENoaWxkKGlzUm90YXRlZCA/IHRoaXMuY29udGFpbmVyQWJvdmUgOiB0aGlzLmNvbnRhaW5lckJlbG93LCBcImRpdlwiLCBcInBsYXllciB3aGl0ZVwiKTtcclxuXHJcbiAgICAgICAgbGV0IGJsYWNrQ2FwdHVyZSA9IFNoYXJlZC5hZGRDaGlsZCh0aGlzLmJsYWNrUGxheWVyLCBcImRpdlwiLCBcImNhcHR1cmVzXCIpO1xyXG4gICAgICAgIGxldCB3aGl0ZUNhcHR1cmUgPSBTaGFyZWQuYWRkQ2hpbGQodGhpcy53aGl0ZVBsYXllciwgXCJkaXZcIiwgXCJjYXB0dXJlc1wiKTtcclxuXHJcbiAgICAgICAgbGV0IHJlY29yZCA9IFt0aGlzLndoaXRlQ2FwdHVyZXMsIHRoaXMuYmxhY2tDYXB0dXJlc107XHJcbiAgICAgICAgW3doaXRlQ2FwdHVyZSwgYmxhY2tDYXB0dXJlXS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT57XHJcbiAgICAgICAgICAgIFtcInBcIiwgXCJuXCIsIFwiYlwiLCBcInJcIiwgXCJxXCJdLmZvckVhY2godHlwZSA9PntcclxuICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IFNoYXJlZC5hZGRDaGlsZChlbGVtZW50LCBcInNwYW5cIiwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZWNvcmRbaW5kZXhdW3R5cGVdID0gY2hpbGQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMud2hpdGVTY29yZSA9IFNoYXJlZC5hZGRDaGlsZCh0aGlzLndoaXRlUGxheWVyLCBcInNwYW5cIiwgXCJzY29yZVwiKTtcclxuICAgICAgICB0aGlzLmJsYWNrU2NvcmUgPSBTaGFyZWQuYWRkQ2hpbGQodGhpcy5ibGFja1BsYXllciwgXCJzcGFuXCIsIFwic2NvcmVcIik7XHJcbiAgICAgICAgdGhpcy53aGl0ZVBsYXllck5hbWUgPSBTaGFyZWQuYWRkQ2hpbGQodGhpcy53aGl0ZVBsYXllciwgXCJkaXZcIiwgXCJuYW1lXCIsIFwiV2hpdGVcIik7XHJcbiAgICAgICAgdGhpcy5ibGFja1BsYXllck5hbWUgPSBTaGFyZWQuYWRkQ2hpbGQodGhpcy5ibGFja1BsYXllciwgXCJkaXZcIiwgXCJuYW1lXCIsIFwiQmxhY2tcIik7XHJcbiAgICAgICAgaWYgKGZlbil7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2NvcmVBbmRDYXB1dGVyZUJ5RmVuKGZlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcm90YXRlKCl7XHJcbiAgICAgICAgdGhpcy5pc1JvdGF0ZWQgPSAhdGhpcy5pc1JvdGF0ZWQ7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJBYm92ZS5hcHBlbmRDaGlsZCh0aGlzLmlzUm90YXRlZCA/IHRoaXMud2hpdGVQbGF5ZXIgOiB0aGlzLmJsYWNrUGxheWVyKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckJlbG93LmFwcGVuZENoaWxkKHRoaXMuaXNSb3RhdGVkID8gdGhpcy5ibGFja1BsYXllciA6IHRoaXMud2hpdGVQbGF5ZXIpO1xyXG4gICAgfVxyXG4gICAgYWRkQ2FwdHVyZShtb3ZlOk1vdmUpe1xyXG4gICAgICAgIGxldCBmZW5DaGFyID0gdGhpcy5nZXRDb21wdXRlZENhcHR1cmUobW92ZSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wdXRlZENhcHR1cmUoZmVuQ2hhcik7XHJcbiAgICAgICAgdGhpcy5zZXRTY29yZUJ5RmVuKG1vdmUuYWZ0ZXIpO1xyXG4gICAgfVxyXG4gICAgdW5kb0NhcHR1cmUobW92ZTpNb3ZlKXtcclxuICAgICAgICBsZXQgZmVuQ2hhciA9IHRoaXMuZ2V0Q29tcHV0ZWRDYXB0dXJlKG1vdmUpO1xyXG4gICAgICAgIGxldCBmZW5DaGFyTG93ZXJDYXNlID0gZmVuQ2hhci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGxldCBpc0JsYWNrID0gZmVuQ2hhciA9PT0gZmVuQ2hhckxvd2VyQ2FzZTtcclxuICAgICAgICBsZXQgc3BhbiA9IGlzQmxhY2sgPyB0aGlzLndoaXRlQ2FwdHVyZXNbZmVuQ2hhckxvd2VyQ2FzZV0gOiB0aGlzLmJsYWNrQ2FwdHVyZXNbZmVuQ2hhckxvd2VyQ2FzZV07XHJcbiAgICAgICAgc3Bhbi5yZW1vdmVDaGlsZChzcGFuLmZpcnN0Q2hpbGQhKTtcclxuICAgICAgICB0aGlzLnNldFNjb3JlQnlGZW4obW92ZS5iZWZvcmUpO1xyXG4gICAgfVxyXG4gICAgc2V0UGxheWVyTmFtZXMoYmxhY2s6c3RyaW5nLCB3aGl0ZTpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuYmxhY2tQbGF5ZXJOYW1lLmlubmVySFRNTCA9IGJsYWNrO1xyXG4gICAgICAgIHRoaXMud2hpdGVQbGF5ZXJOYW1lLmlubmVySFRNTCA9IHdoaXRlO1xyXG4gICAgfVxyXG4gICAgc2V0U2NvcmVBbmRDYXB1dGVyZUJ5RmVuKGZlbjpzdHJpbmcpeyAgICAgXHJcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLndoaXRlQ2FwdHVyZXMpLmNvbmNhdChPYmplY3QudmFsdWVzKHRoaXMuYmxhY2tDYXB0dXJlcykpLmZvckVhY2goZWxlbWVudCA9PntcclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChmZW4gPT09IFwic3RhcnRcIiB8fCBmZW4gPT09IFwiXCIpe1xyXG4gICAgICAgICAgICB0aGlzLnNldFNjb3JlKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBsZXQgY2FwdHVyZXMgPSB0aGlzLmdldENhcHR1cmVzQnlGZW4oZmVuKTtcclxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoY2FwdHVyZXMpLmZvckVhY2goKFtmZW5DaGFyLCBjb3VudF0pID0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDb21wdXRlZENhcHR1cmUoZmVuQ2hhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTY29yZUJ5RmVuKGZlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhZGRDb21wdXRlZENhcHR1cmUoZmVuQ2hhcjpzdHJpbmcpe1xyXG4gICAgICAgIGxldCBmZW5DaGFyTG93ZXJDYXNlID0gZmVuQ2hhci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGxldCBwaWVjZSA9IENhcHR1cmVQaWVjZUZhY3RvcnkuZ2V0KGZlbkNoYXIpO1xyXG4gICAgICAgIGxldCBpc0JsYWNrID0gZmVuQ2hhciA9PT0gZmVuQ2hhckxvd2VyQ2FzZTtcclxuICAgICAgICBsZXQgc3BhbiA9IGlzQmxhY2sgPyB0aGlzLndoaXRlQ2FwdHVyZXNbZmVuQ2hhckxvd2VyQ2FzZV0gOiB0aGlzLmJsYWNrQ2FwdHVyZXNbZmVuQ2hhckxvd2VyQ2FzZV07XHJcbiAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChwaWVjZSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHNldFNjb3JlQnlGZW4oZmVuOnN0cmluZyl7XHJcbiAgICAgICAgZmVuID0gZmVuLnNwbGl0KFwiIFwiKVswXS5zcGxpdChcIi9cIikuam9pbihcIlwiKTtcclxuICAgICAgICBsZXQgc2NvcmUgPSAwO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hhciBvZiBmZW4pe1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4ocGFyc2VJbnQoY2hhcikpKXtcclxuICAgICAgICAgICAgICAgIHNjb3JlIC09IHBpZWNlVmFsdWVzW2NoYXJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U2NvcmUoc2NvcmUpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzZXRTY29yZShzY29yZTpudW1iZXIpe1xyXG4gICAgICAgIGxldCB3aGl0ZVByZWZpeCA9IHNjb3JlID09PSAwID8gXCJcIiA6IChzY29yZSA+IDAgPyBcIitcIiA6IFwiLVwiKTtcclxuICAgICAgICBsZXQgYmxhY2tQcmVmaXggPSBzY29yZSA9PT0gMCA/IFwiXCIgOiAoc2NvcmUgPiAwID8gXCItXCIgOiBcIitcIik7XHJcbiAgICAgICAgdGhpcy53aGl0ZVNjb3JlLmlubmVySFRNTCA9IHNjb3JlID09PSAwID8gXCJcIiA6ICh3aGl0ZVByZWZpeCArIE1hdGguYWJzKHNjb3JlKSk7XHJcbiAgICAgICAgdGhpcy5ibGFja1Njb3JlLmlubmVySFRNTCA9IHNjb3JlID09PSAwID8gXCJcIiA6IChibGFja1ByZWZpeCArIE1hdGguYWJzKHNjb3JlKSk7XHJcbiAgICB9XHJcbiAgICAvLyBBIHByb21vdGVkIHBhd24gd2lsbCBvbmx5IHNob3cgYXMgYSBwYXduIGluIHRoZSBjYXB0dXJlIHBhbmVsXHJcbiAgICBwcml2YXRlIGdldENvbXB1dGVkQ2FwdHVyZShtb3ZlOk1vdmUpe1xyXG4gICAgICAgIGxldCBjYXB0dXJlID0gbW92ZS5jYXB0dXJlZCE7XHJcbiAgICAgICAgbGV0IGZlbkNoYXIgPSBtb3ZlLmNvbG9yID09PSBcImJcIiA/IGNhcHR1cmUudG9VcHBlckNhc2UoKSA6IGNhcHR1cmU7XHJcbiAgICAgICAgaWYgKGNhcHR1cmUgIT09IFwicFwiKXtcclxuICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICAgICAgbGV0IGZlbiA9IG1vdmUuYWZ0ZXIuc3BsaXQoXCIgXCIpWzBdLnNwbGl0KFwiL1wiKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoYXIgb2YgZmVuKXtcclxuICAgICAgICAgICAgICAgIGlmIChpc05hTihwYXJzZUludChjaGFyKSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBmZW5DaGFyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvdW50ID49IDIgfHwgKGNhcHR1cmUgPT09IFwicVwiICYmIGNvdW50ID49IDEpICl7XHJcbiAgICAgICAgICAgICAgICBmZW5DaGFyID0gbW92ZS5jb2xvciA9PT0gXCJiXCIgPyBcIlBcIiA6IFwicFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmZW5DaGFyO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXRDYXB0dXJlc0J5RmVuKGZlbjpzdHJpbmcpOlJlY29yZDxzdHJpbmcsbnVtYmVyPntcclxuICAgICAgICAvLyBleGFtcGxlOiBcInJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0gMCAxXCJcclxuICAgICAgICBmZW4gPSBmZW4uc3BsaXQoXCIgXCIpWzBdLnNwbGl0KFwiL1wiKS5qb2luKFwiXCIpO1xyXG4gICAgICAgIC8vIG1ha2UgYSByZWNvcmQgb2YgYWxsIHR5cGVzIG9mIHBpZWNlcyBhbmQgc2V0IGluaXRpYWwgY291bnQgdG8gemVyb1xyXG4gICAgICAgIGxldCBmZW5DaGFyczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gICAgICAgIFtcInBcIixcIm5cIixcImJcIixcInJcIixcInFcIixcIlBcIixcIk5cIixcIkJcIixcIlJcIixcIlFcIl0uZm9yRWFjaChjaGFyID0+e1xyXG4gICAgICAgICAgICBmZW5DaGFyc1tjaGFyXSA9IDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY2FsY3VsYXRlIGhvdyBtYW55IHBpZWNlcyB3ZSBoYXZlIG9mIGVhY2gga2luZFxyXG4gICAgICAgIGZvciAoY29uc3QgY2hhciBvZiBmZW4pIHtcclxuICAgICAgICAgICAgaWYgKGlzTmFOKHBhcnNlSW50KGNoYXIpKSl7XHJcbiAgICAgICAgICAgICAgICBmZW5DaGFyc1tjaGFyXSArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJldHVybiBhIHNpbWlsYXIgcmVjb3JkIHNob3dpbmcgaG93IG1hbnkgcGllY2VzIGhhdmUgYmVlbiB0YWtlblxyXG4gICAgICAgIGxldCBjYXB0dXJlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gICAgICAgIC8vIHdlIHN0YXJ0ZWQgaGF2aW5nIDIgcm9va3MsIGtuaWdodHMgYW5kIGJpc2hvcHMuIFdlIGNvdWxkIGhhdmUgbW9yZSBkdWUgdG8gcHJvbW90aW9uXHJcbiAgICAgICAgZm9yIChjb25zdCBjaGFyIG9mIFtcInJcIiwgXCJuXCIsIFwiYlwiLCBcIlJcIiwgXCJOXCIsIFwiQlwiXSl7XHJcbiAgICAgICAgICAgIGNhcHR1cmVzW2NoYXJdID0gZmVuQ2hhcnNbY2hhcl0gPj0gMiA/IDAgOiAyIC0gZmVuQ2hhcnNbY2hhcl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3QgY2hhciBvZiBbXCJxXCIsIFwiUVwiXSl7XHJcbiAgICAgICAgICAgIGNhcHR1cmVzW2NoYXJdID0gZmVuQ2hhcnNbY2hhcl0gPiAwID8gMCA6IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENvdW50aW5nIGNhcHR1cmVzIGlzIGRpZmZpY3VsdCBkdWUgdG8gcG9zc2libGUgcHJvbW90aW9uXHJcbiAgICAgICAgbGV0IGJsYWNrID0ge3Bhd246XCJwXCIsIHF1ZWVuOiBcInFcIiwgcGllY2VzOltcInJcIiwgXCJuXCIsIFwiYlwiXX07XHJcbiAgICAgICAgbGV0IHdoaXRlID0ge3Bhd246XCJQXCIsIHF1ZWVuOiBcIlFcIiwgcGllY2VzOltcIlJcIiwgXCJOXCIsIFwiQlwiXX07XHJcbiAgICAgICAgZm9yIChjb25zdCBwbGF5ZXIgb2YgW2JsYWNrLCB3aGl0ZV0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYXB0dXJlc1twbGF5ZXIucGF3bl0gPSA4IC0gZmVuQ2hhcnNbcGxheWVyLnBhd25dO1xyXG4gICAgICAgICAgICBpZiAoZmVuQ2hhcnNbcGxheWVyLnF1ZWVuXSA+IDEpe1xyXG4gICAgICAgICAgICAgICAgY2FwdHVyZXNbcGxheWVyLnBhd25dIC09IGZlbkNoYXJzW3BsYXllci5xdWVlbl0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChjb25zdCBwaWVjZSBvZiBwbGF5ZXIucGllY2VzKXtcclxuICAgICAgICAgICAgICAgIGlmIChmZW5DaGFyc1twaWVjZV0gPiAyKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlc1twbGF5ZXIucGF3bl0gLT0gZmVuQ2hhcnNbcGllY2VdIC0yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYXB0dXJlcztcclxuICAgIH1cclxufSIsImltcG9ydCBDaGVzc2JvYXJkIGZyb20gXCIuLi9jaGVzc2JvYXJkL0NoZXNzYm9hcmRcIjtcclxuaW1wb3J0IFNoYXJlZCBmcm9tIFwiLi4vY2hlc3Nib2FyZC9TaGFyZWRcIjtcclxuaW1wb3J0IFBpZWNlIGZyb20gXCIuLi9jaGVzc2JvYXJkL1BpZWNlXCI7XHJcbmltcG9ydCB7IENhc3RsaW5nIH0gZnJvbSBcIi4vQ2FzdGxpbmdcIjtcclxuaW1wb3J0IHsgTW92ZSB9IGZyb20gXCJjaGVzcy5qc1wiO1xyXG5cclxuZXhwb3J0IHR5cGUgVHJhbnNpdGlvbkluZm8gPSB7XHJcbiAgICBpc0ZvcndhcmQ6Ym9vbGVhbjtcclxuICAgIHBpZWNlOlBpZWNlLFxyXG4gICAgbW92ZTpNb3ZlLFxyXG4gICAgY2FzdGxpbmc6Q2FzdGxpbmd8dW5kZWZpbmVkXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmFuc2l0aW9uc3tcclxuICAgIGNoZXNzYm9hcmQ6Q2hlc3Nib2FyZDtcclxuICAgIGlzUm90YXRlZDpib29sZWFuO1xyXG4gICAgY3VycmVudDpUcmFuc2l0aW9uSW5mb3x1bmRlZmluZWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2hlc3Nib2FyZDpDaGVzc2JvYXJkLCBpc1JvdGF0ZWQ6Ym9vbGVhbil7XHJcbiAgICAgICAgdGhpcy5jaGVzc2JvYXJkID0gY2hlc3Nib2FyZDtcclxuICAgICAgICB0aGlzLmlzUm90YXRlZCA9IGlzUm90YXRlZDtcclxuICAgIH1cclxuICAgIHJvdGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuaXNSb3RhdGVkID0gIXRoaXMuaXNSb3RhdGVkO1xyXG4gICAgfVxyXG4gICAgY2FuY2VsKCl7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCl7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVHJhbnNpdGlvbih0aGlzLmN1cnJlbnQucGllY2UpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNhc3RsaW5nID0gdGhpcy5jdXJyZW50LmNhc3RsaW5nO1xyXG4gICAgICAgICAgICBpZiAoY2FzdGxpbmcpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVUcmFuc2l0aW9uKGNhc3RsaW5nLnJvb2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhc3luYyBtb3ZlKHRyYW5zaXRpb246VHJhbnNpdGlvbkluZm8sIGR1cmF0aW9uOnN0cmluZywgb25UcmFuc2l0aW9uRW5kOkZ1bmN0aW9uKXtcclxuICAgICAgICAvLyB0aGlzLmNoZXNzYm9hcmQucHV0T25Ub3AodHJhbnNpdGlvbi5waWVjZSk7XHJcbiAgICAgICAgLy8gaWYgKHRyYW5zaXRpb24uY2FzdGxpbmcpe1xyXG4gICAgICAgIC8vICAgICB0aGlzLmNoZXNzYm9hcmQucHV0T25Ub3AodHJhbnNpdGlvbi5jYXN0bGluZy5yb29rKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5tYWtlQ2hyb21lSGFwcHkoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0cmFuc2l0aW9uO1xyXG4gICAgICAgIHRyYW5zaXRpb24ucGllY2UuZWxlbWVudC5vbnRyYW5zaXRpb25lbmQgPSAoKSA9PntcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVUcmFuc2l0aW9uKHRyYW5zaXRpb24ucGllY2UpO1xyXG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbi5jYXN0bGluZyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRyYW5zaXRpb24odHJhbnNpdGlvbi5jYXN0bGluZy5yb29rKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIG9uVHJhbnNpdGlvbkVuZCgpO1xyXG4gICAgICAgIH07IFxyXG4gICAgICAgIHRoaXMuc3RhcnRUcmFuc2l0aW9uKHRyYW5zaXRpb24uaXNGb3J3YXJkLCBkdXJhdGlvbiwgdHJhbnNpdGlvbi5waWVjZS5lbGVtZW50LCB0cmFuc2l0aW9uLm1vdmUuZnJvbSwgdHJhbnNpdGlvbi5tb3ZlLnRvKTtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbi5jYXN0bGluZyl7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUcmFuc2l0aW9uKHRyYW5zaXRpb24uaXNGb3J3YXJkLCBkdXJhdGlvbiwgdHJhbnNpdGlvbi5jYXN0bGluZy5yb29rLmVsZW1lbnQsIHRyYW5zaXRpb24uY2FzdGxpbmcuZnJvbSwgdHJhbnNpdGlvbi5jYXN0bGluZy50byk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBtYWtlQ2hyb21lSGFwcHkoKSB7XHJcbiAgICAgICAgdm9pZChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KTsvL1RyaWdnZXIgcmVmbG93XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHN0YXJ0VHJhbnNpdGlvbihpc0ZvcndhcmQ6Ym9vbGVhbiwgZHVyYXRpb246c3RyaW5nLCBlbGVtZW50OlNWR0dFbGVtZW50LCBmcm9tOnN0cmluZywgdG86c3RyaW5nKXtcclxuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwiXCI7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSBcInRyYW5zZm9ybVwiO1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgbGV0IGRlc3QgPSBpc0ZvcndhcmQgPyB0byA6IGZyb207XHJcbiAgICAgICAgbGV0IGNvcmRzID0gU2hhcmVkLmdldENvcmRpbmF0ZXNCeVNxdWFyZUtleShkZXN0LCB0aGlzLmlzUm90YXRlZCk7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7Y29yZHMueCAqIDEyLjV9JSwgJHtjb3Jkcy55ICogMTIuNX0lKWA7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHJlbW92ZVRyYW5zaXRpb24ocGllY2U6UGllY2Upe1xyXG4gICAgICAgIHBpZWNlLmVsZW1lbnQuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gXCJcIjtcclxuICAgICAgICBwaWVjZS5lbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgU2hhcmVkLnNldFBvc2l0aW9uKHBpZWNlLmVsZW1lbnQsIHBpZWNlLnNxdWFyZUtleSEsIHRoaXMuaXNSb3RhdGVkKTtcclxuICAgICAgICAvLyBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwiXCI7XHJcbiAgICAgICAgcGllY2UuZWxlbWVudC5vbnRyYW5zaXRpb25jYW5jZWwgPSBudWxsO1xyXG4gICAgICAgIHBpZWNlLmVsZW1lbnQub250cmFuc2l0aW9uZW5kID0gbnVsbDtcclxuICAgIH1cclxufSIsImltcG9ydCBzdGFydCBmcm9tIFwiLi9pY29ucy9zdGFydC5zdmdcIjtcclxuaW1wb3J0IHJld2luZCBmcm9tIFwiLi9pY29ucy9yZXdpbmQuc3ZnXCI7XHJcbmltcG9ydCBwcmV2aW91cyBmcm9tIFwiLi9pY29ucy9wcmV2aW91cy5zdmdcIjtcclxuaW1wb3J0IHBsYXkgZnJvbSBcIi4vaWNvbnMvcGxheS5zdmdcIjtcclxuaW1wb3J0IHBhdXNlIGZyb20gXCIuL2ljb25zL3BhdXNlLnN2Z1wiO1xyXG5pbXBvcnQgbmV4dCBmcm9tIFwiLi9pY29ucy9uZXh0LnN2Z1wiO1xyXG5pbXBvcnQgZm9yd2FyZCBmcm9tIFwiLi9pY29ucy9mb3J3YXJkLnN2Z1wiO1xyXG5pbXBvcnQgZW5kIGZyb20gXCIuL2ljb25zL2VuZC5zdmdcIjtcclxuaW1wb3J0IHJvdGF0ZSBmcm9tIFwiLi9pY29ucy9yb3RhdGUuc3ZnXCI7XHJcbmltcG9ydCBzY3JlZW5zaG90IGZyb20gXCIuL2ljb25zL3NjcmVlbnNob3Quc3ZnXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWNvbnN7XHJcbiAgICBzdGF0aWMgc3RhcnQgPSBzdGFydDtcclxuICAgIHN0YXRpYyByZXdpbmQgPSByZXdpbmQ7XHJcbiAgICBzdGF0aWMgcHJldmlvdXMgPSBwcmV2aW91cztcclxuICAgIHN0YXRpYyBwbGF5ID0gcGxheTtcclxuICAgIHN0YXRpYyBwYXVzZSA9IHBhdXNlO1xyXG4gICAgc3RhdGljIG5leHQgPSBuZXh0O1xyXG4gICAgc3RhdGljIGZvcndhcmQgPSBmb3J3YXJkO1xyXG4gICAgc3RhdGljIGVuZCA9IGVuZDtcclxuICAgIHN0YXRpYyByb3RhdGUgPSByb3RhdGU7XHJcbiAgICBzdGF0aWMgc2NyZWVuc2hvdCA9IHNjcmVlbnNob3Q7XHJcbn0iLCJpbXBvcnQgR2FtZU5hdmlnYXRvciBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy92Mi9nYW1lTmF2aWdhdG9yL0dhbWVOYXZpZ2F0b3JcIjtcclxuaW1wb3J0IEJ1dHRvbnMgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvdjIvZ2FtZU5hdmlnYXRvci9CdXR0b25zXCI7XHJcbmltcG9ydCBIaXN0b3J5IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3YyL2dhbWVOYXZpZ2F0b3IvSGlzdG9yeVwiO1xyXG5pbXBvcnQgeyBDaGVzcyB9IGZyb20gXCJjaGVzcy5qc1wiO1xyXG5pbXBvcnQgKiBhcyBqc29uIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2NoZXNzL2Fzc2V0cy9kYXRhL2dhbWVzLmpzb25cIjtcclxuaW1wb3J0IFwiLi4vbWFzdGVyLmNzc1wiO1xyXG5pbXBvcnQgXCIuL29wZW5pbmdzLmNzc1wiO1xyXG5cclxubGV0IGdhbWVOYXZpZ2F0b3JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVOYXZpZ2F0b3JcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbmxldCBnYW1lTmF2aWdhdG9yID0gbmV3IEdhbWVOYXZpZ2F0b3IoZ2FtZU5hdmlnYXRvckNvbnRhaW5lciwgXCJcIiwgZmFsc2UpO1xyXG5cclxubmV3IEJ1dHRvbnMoZ2FtZU5hdmlnYXRvckNvbnRhaW5lciwgZ2FtZU5hdmlnYXRvcik7XHJcblxyXG5sZXQgaGlzdG9yeUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlzdG9yeVwiKSE7XHJcbm5ldyBIaXN0b3J5KGhpc3RvcnlDb250YWluZXIsIGdhbWVOYXZpZ2F0b3IpO1xyXG5cclxubGV0IGNoZXNzID0gbmV3IENoZXNzKCk7XHJcbmNoZXNzLmxvYWRQZ24oanNvbi5nYW1lc1swXS5tb3ZlVGV4dCk7XHJcbi8vIGNoZXNzLmxvYWRQZ24oXCIxLiBlNCBmNSAyLiBleGY1IGc2IDMuIGZ4ZzYgZDUgNC4gZ3hoNyBOYzYgNS4gaHhnOD1RIFJnOCA2LiBCZDMgQmU2IDcuIE5mMyBRZDYgOC4gTy1PIE8tTy1PXCIpO1xyXG5sZXQgbW92ZXMgPSBjaGVzcy5oaXN0b3J5KHt2ZXJib3NlOnRydWV9KTtcclxuZ2FtZU5hdmlnYXRvci5sb2FkR2FtZSh7d2hpdGVQbGF5ZXI6XCJXaGl0ZSBwbGF5ZXJcIiwgYmxhY2tQbGF5ZXI6XCJCbGFjayBwbGF5ZXJcIiwgbW92ZXN9KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=